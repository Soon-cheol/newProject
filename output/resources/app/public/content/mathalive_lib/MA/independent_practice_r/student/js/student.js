!function(e){var t={};function o(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(i,s,function(t){return e[t]}.bind(null,s));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=22)}([function(e,t){e.exports=React},function(e,t,o){"use strict";var i=o(11),s=Object.prototype.toString;function n(e){return"[object Array]"===s.call(e)}function r(e){return void 0===e}function c(e){return null!==e&&"object"==typeof e}function a(e){return"[object Function]"===s.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),n(e))for(var o=0,i=e.length;o<i;o++)t.call(null,e[o],o,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}e.exports={isArray:n,isArrayBuffer:function(e){return"[object ArrayBuffer]"===s.call(e)},isBuffer:function(e){return null!==e&&!r(e)&&null!==e.constructor&&!r(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isUndefined:r,isDate:function(e){return"[object Date]"===s.call(e)},isFile:function(e){return"[object File]"===s.call(e)},isBlob:function(e){return"[object Blob]"===s.call(e)},isFunction:a,isStream:function(e){return c(e)&&a(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function o(o,i){"object"==typeof t[i]&&"object"==typeof o?t[i]=e(t[i],o):t[i]=o}for(var i=0,s=arguments.length;i<s;i++)l(arguments[i],o);return t},deepMerge:function e(){var t={};function o(o,i){"object"==typeof t[i]&&"object"==typeof o?t[i]=e(t[i],o):t[i]="object"==typeof o?e({},o):o}for(var i=0,s=arguments.length;i<s;i++)l(arguments[i],o);return t},extend:function(e,t,o){return l(t,(function(t,s){e[s]=o&&"function"==typeof t?i(t,o):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){e.exports=mobx},function(e,t){e.exports=mobxReact},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const i=o(9),s=o(6);function n(e){if(!e)return e;console.log("init student",e),e.displayMode=""+e.displayMode=="2"?"2":"1",e.gender=e.gender,""===e.nickname&&(e.nickname=e.name);let t=e.avatar&&""!==e.avatar?e.avatar:"";return""===t&&(t="f"===e.gender||"F"===e.gender?"/content/mathalive_lib/images/default_candy.png":"/content/mathalive_lib/images/default_cheese.png",e.avatar=t),e}class r{static get isMobile(){return r._isMobile}static get tempEl(){return r._tempEl}static pub_init(){const e=navigator.userAgent;r._isMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e)||/android/i.test(e),r._tempBnd=document.createElement("div"),r._tempBnd.style.display="none",r._tempEl=document.createElement("div"),r._tempBnd.appendChild(r._tempEl),null===document.body?document.addEventListener("DOMContentLoaded",e=>{document.body.appendChild(r._tempBnd)}):document.body.appendChild(r._tempBnd)}static get students(){return r._students}static get student(){return r._student}static get lang(){return r._lang}static get isDvlp(){return r._isDvlp}static get data_url(){return r._data_url}static get lesson(){return r._lesson}static get book(){return r._book}static get nextBook(){return r._nextBook}static get prevBook(){return r._prevBook}static get addOnHost(){return r._addOnHost}static setaddOnHost(e){r._addOnHost=e}static pub_load(e,t,o,i,s,c,a){r._lesson=i,r._book=o,r._nextBook=c,r._prevBook=a,r._students=[],e&&Array.isArray(e)&&e.forEach((e,t)=>{r._students[t]=n(e)}),r._student=n(t),s&&""!==s&&(r._addOnHost=s)}static pub_reloadStudents(e){s.getStudents((t,o)=>{for(;r._students.length>0;)r._students.pop();for(;r._students_inited.length>0;)r._students_inited.pop();for(let e=0,o=t.length;e<o;e++)r.isDvlp?r._students[e]=n(t[e]):r._students[e]=n({id:t[e].id,name:t[e].name,thumb:t[e].defaultThumbnail,avatar:t[e].profileThumbnail,nickname:""!==t[e].nickName?t[e].nickName:t[e].name,displayMode:t[e].displayMode,gender:t[e].gender,inited:!0}),console.log("student",t[e]),r._students_inited.push(t[e].id);e()})}static pub_parseStyle(e){return r._tempEl.style.cssText=e,r._tempEl.style}static pub_initAudio(){r._common_audio=document.getElementById("common_audio"),r._ding_audio=document.getElementById("ding_audio"),r._dingend_audio=document.getElementById("dingend_audio"),r._btn_audio=document.getElementById("btn_audio"),r._correct_audio=document.getElementById("correct_audio"),r._wrong_audio=document.getElementById("wrong_audio"),r._topad_audio=document.getElementById("topad_audio"),r._goodjob_audio=document.getElementById("goodjob_audio"),r._btn_back_audio=document.getElementById("btn_back_audio"),r._btn_page_audio=document.getElementById("btn_page_audio"),r._popup_audio=document.getElementById("popup_audio"),r._clock_audio=document.getElementById("clock_audio"),r._ts_bgm_audio=document.getElementById("ts_bgm_audio"),r._bs_audio=document.getElementById("bs_audio"),r._bb_audio=document.getElementById("bb_audio"),r._cd_audio=document.getElementById("cd_audio"),r._tc_audio=document.getElementById("tc_audio"),r._te_audio=document.getElementById("te_audio"),r._trg_bgm_audio=document.getElementById("trg_bgm_audio"),r._afc_audio=document.getElementById("afc_audio"),r._trs_audio=document.getElementById("trs_audio"),r._btn_choice_audio=document.getElementById("btn_choice_audio"),r._retry_audio=document.getElementById("retry_audio"),r._sorry_audio=document.getElementById("sorry_audio"),r._great_audio=document.getElementById("great_audio"),r._memorygame_flipcard_audio=document.getElementById("flipcard_audio"),r._ispy_gameclick_audio=document.getElementById("gameclick_audio"),r._game_timesetting_start_audio=document.getElementById("game_timesetting_start"),r._solution_btn_audio=document.getElementById("solution_btn_audio"),r._game_result_audio=document.getElementById("game_result_audio"),r._open_problom_audio=document.getElementById("open_problom_audio"),r._quiz_done_audio=document.getElementById("quiz_done_audio"),r._hit_up_audio=document.getElementById("hu_audio"),r._hit_down_audio=document.getElementById("hd_audio"),r._hit_good_audio=document.getElementById("hg_audio"),r._hit_wrong_audio=document.getElementById("hw_audio"),r._pick_presenter=document.getElementById("pick_presenter"),r._game_good_audio=document.getElementById("gg_audio")}static pub_playClock(){r._clock_audio&&(r._clock_audio.currentTime=4.5,r._clock_audio.play())}static pub_playPopup(){r._popup_audio&&(r._popup_audio.currentTime=0,r._popup_audio.play())}static pub_playBtnPage(){r._btn_page_audio&&(r._btn_page_audio.currentTime=0,r._btn_page_audio.play())}static pub_playBtnBack(){r._btn_back_audio&&(r._btn_back_audio.currentTime=0,r._btn_back_audio.play())}static pub_playGoodjob(){r._goodjob_audio&&(r._goodjob_audio.currentTime=0,r._goodjob_audio.play())}static pub_playDing(){r._ding_audio&&(r._ding_audio.currentTime=0,r._ding_audio.play())}static pub_playDingend(){r._dingend_audio&&(r._dingend_audio.currentTime=0,r._dingend_audio.play())}static pub_playToPad(){r._topad_audio&&(r._topad_audio.currentTime=0,r._topad_audio.play())}static pub_playBtnTab(){r._btn_audio&&(r._btn_audio.currentTime=0,r._btn_audio.play())}static pub_playCorrect(){r._correct_audio&&(r._correct_audio.currentTime=0,r._correct_audio.play())}static pub_playWrong(){r._wrong_audio&&(r._wrong_audio.currentTime=0,r._wrong_audio.play())}static pub_playTeamSelectBgm(){r._ts_bgm_audio&&(r._ts_bgm_audio.currentTime=0,r._ts_bgm_audio.play())}static pub_stopTeamSelectBgm(){r._ts_bgm_audio&&(r._ts_bgm_audio.pause(),r._ts_bgm_audio.currentTime=0)}static pub_playStartButton(){r._bs_audio&&(r._bs_audio.currentTime=0,r._bs_audio.play())}static pub_playBasicButton(){r._bb_audio&&(r._bb_audio.currentTime=0,r._bb_audio.play())}static pub_playCountDown(){r._cd_audio&&(r._cd_audio.currentTime=0,r._cd_audio.play())}static pub_playTimerClock(){r._tc_audio&&(r._tc_audio.currentTime=0,r._tc_audio.play())}static pub_stopTimerClock(){r._tc_audio&&(r._tc_audio.pause(),r._tc_audio.currentTime=0)}static pub_playTimerEnd(){r._te_audio&&(r._te_audio.currentTime=0,r._te_audio.play())}static pub_playResultGraph(){r._trg_bgm_audio&&(r._trg_bgm_audio.currentTime=0,r._trg_bgm_audio.play())}static pub_playFireworksClapping(){r._afc_audio&&(r._afc_audio.currentTime=0,r._afc_audio.play())}static pub_playTotalResult(){r._trs_audio&&(r._trs_audio.currentTime=0,r._trs_audio.play())}static pub_playChoiceBtn(){r._btn_choice_audio&&(r._btn_choice_audio.currentTime=0,r._btn_choice_audio.play())}static pub_playsorry(){r._sorry_audio&&(r._sorry_audio.currentTime=0,r._sorry_audio.play())}static pub_playretry(){r._retry_audio&&(r._retry_audio.currentTime=0,r._retry_audio.play())}static pub_playgreat(){r._great_audio&&(r._great_audio.currentTime=0,r._great_audio.play())}static pub_playFlipCard(){r._memorygame_flipcard_audio&&(r._memorygame_flipcard_audio.currentTime=0,r._memorygame_flipcard_audio.play())}static pub_playGameClick(){r._ispy_gameclick_audio&&(r._ispy_gameclick_audio.currentTime=0,r._ispy_gameclick_audio.play())}static pub_game_timesetting_start(){r._game_timesetting_start_audio&&(r._game_timesetting_start_audio.currentTime=0,r._game_timesetting_start_audio.play())}static pub_solution_btn_click(){r._solution_btn_audio&&(r._solution_btn_audio.currentTime=0,r._solution_btn_audio.play())}static pub_playGameresult(){r._game_result_audio&&(r._game_result_audio.currentTime=0,r._game_result_audio.play())}static pub_openProblom(){r._open_problom_audio&&(r._open_problom_audio.currentTime=0,r._open_problom_audio.play())}static pub_quizDone(){r._quiz_done_audio&&(r._quiz_done_audio.currentTime=0,r._quiz_done_audio.play())}static pub_pick_presenter(){r._pick_presenter&&(r._pick_presenter.currentTime=0,r._pick_presenter.play())}static pub_stop(){null!=r._common_audio.onended&&r._common_audio.onended.call(r._common_audio,new Event("ended")),r._common_audio.oncanplaythrough=null,isNaN(r._common_audio.duration)||r._common_audio.paused||r._common_audio.pause()}static pub_play(e,t){r.pub_stop(),e=i.nteString(e,"");const o=i.nteString(r._common_audio.getAttribute("src"),"");if(""===e&&""===o)return void(null!=t&&t(!0));""!==e&&o!==e&&(r._common_audio.src=e);const s=e=>{r._common_audio.onended=null,null!==t&&t(!0),r._common_audio.removeEventListener("error",s)};r._common_audio.onended=e=>{r._common_audio.onended=null,null!==t&&t(!!e),r._common_audio.removeEventListener("error",s)},r._common_audio.addEventListener("error",s),isNaN(r._common_audio.duration)?(r._common_audio.oncanplaythrough=e=>{0!==r._common_audio.currentTime&&(r._common_audio.currentTime=0),r._common_audio.play(),r._common_audio.oncanplaythrough=null},r._common_audio.load()):(0!==r._common_audio.currentTime&&(r._common_audio.currentTime=0),r._common_audio.oncanplaythrough=null,r._common_audio.play())}static pub_set(e,t,o){r._isDvlp=t,r._lang=o,s.set(t)}static pub_addInitedStudent(e){let t=!0;for(let o=0,i=r._students_inited.length;o<i;o++){r._students_inited[o]===e.id&&(t=!1)}t&&r._students_inited.push(e.id);const o=r._start_idx>0&&r._students.length>0&&r._students_inited.length>=r._students.length;return o&&(window.clearTimeout(r._start_idx),r._start_idx=-1),o}static pub_start(e){0===r._students.length||r._students_inited.length>=r._students.length?e():r._start_idx=window.setTimeout(e,2e3)}static pub_clear(){for(;r._students.length>0;)r._students.pop();for(;r._students_inited.length>0;)r._students_inited.pop()}static pub_playHitup(){r._hit_up_audio&&(r._hit_up_audio.currentTime=0,r._hit_up_audio.play())}static pub_playHitdown(){r._hit_down_audio&&(r._hit_down_audio.currentTime=0,r._hit_down_audio.play())}static pub_playHitgood(){r._hit_good_audio&&(r._hit_good_audio.currentTime=0,r._hit_good_audio.play())}static pub_playHitwrong(){r._hit_wrong_audio&&(r._hit_wrong_audio.currentTime=0,r._hit_wrong_audio.play())}static pub_playGamegood(){r._game_good_audio&&(r._game_good_audio.currentTime=0,r._game_good_audio.play())}}t.App=r,r._isMobile=!1,r._students=[],r._students_inited=[],r._student=null,r._lang="ko",r._isDvlp=!1,r._data_url="../data/",r._lesson="",r._book="",r._nextBook=!1,r._prevBook=!1,r._start_idx=-1,r.isStarted=!1,r._addOnHost="https://addonsapi.fel40.com"},function(e,t){e.exports=_},function(e,t,o){"use strict";var i=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))((function(s,n){function r(e){try{a(i.next(e))}catch(e){n(e)}}function c(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,c)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.postAttention=t.postViewDiv=t.getPreviewDmsResult=t.getPreviewResult=t.showSGiftBox=t.showSLivePointPop=t.launchSTool=t.clearPenTool=t.hidePenTool=t.showPenTool=t.showRecordTool=t.showSendButton=t.alertToStudent=t.showSLoading=t.showSMathKit=t.clearSPenTool=t.takePicture=t.uploadInclassReport=t.stopVideoRecord=t.startVideoRecord=t.switchCamera=t.stopCamera=t.pauseRecordPlayer=t.playRecordPlayer=t.startCustomCamera=t.startCamera=t.getStudents=t.uploadFileToServerMulti=t.uploadImageToServer=t.uploadFileToServer=t.stopVoiceRecord=t.startVoiceRecord=t.sendTeacher=t.disableSoftwareKeyboard=t.sendPAD=t.sendPADToID=t.sendLauncher=t.uploadStudentReport=t.addStudentForStudentReportType6=t.hideStudentReportListPage=t.showStudentReportListPage=t.showStudentReportUI=t.hideStudentReportUI=t.startStudentReportProcess=t.finishContentPage=t.showTMathKit=t.alertToTeacher=t.showTLoading=t.clearTPenTool=t.getBookCaptureInfo=t.uploadTImageToServer=t.useFractionBar=t.logOut=t.exitClass=t.getNaviInfo=t.launchPadTool=t.launchTool=t.exitBook=t.gotoBookByKey=t.gotoBook=t.set=void 0;const s=o(5);let n=!1;t.set=function(e){n=e},t.gotoBook=function(e,t){if(console.log("felsocket gotoBook",e,t),!n)try{window.tsoc_o.gotoBook(e,t)}catch(e){}},t.gotoBookByKey=function(e){if(console.log("felsocket gotoBookByKey",e),!n)try{window.tsoc_o.gotoBookByKey(e)}catch(e){}},t.exitBook=function(){if(console.log("felsocket exitBook"),!n)try{window.tsoc_o.exitBook()}catch(e){}},t.launchTool=function(e){if(console.log("felsocket launchTool",e),!n)try{window.tsoc_o.launchTool(e)}catch(e){}},t.launchPadTool=function(e){if(console.log("felsocket launchPadTool",e),!n)try{window.tsoc_o.launchPadTool(e)}catch(e){}},t.getNaviInfo=function(e){if(console.log("felsocket getNaviInfo",e),!n)try{window.tsoc_o.getNaviInfo(e)}catch(e){}},t.exitClass=function(){if(console.log("felsocket exitClass"),!n)try{window.tsoc_o.exitClass()}catch(e){}},t.logOut=function(){if(console.log("felsocket logOut"),!n)try{window.tsoc_o.logOut()}catch(e){}},t.useFractionBar=function(){if(console.log("felsocket useFractionBar"),!n)try{window.tsoc_o.useFractionBar()}catch(e){}},t.uploadTImageToServer=function(e,t,o,i){if(console.log("felsocket uploadTImageToServer",t,o,i),!n)try{window.tsoc_o.uploadImageToServer(e,t,o,i)}catch(e){}},t.getBookCaptureInfo=function(e){if(console.log("felsocket getBookCaptureInfo"),!n)try{window.tsoc_o.getBookCaptureInfo(e)}catch(e){}},t.clearTPenTool=function(){if(console.log("felsocket clearTPenTool"),!n)try{window.tsoc_o.clearPenTool()}catch(e){}},t.showTLoading=function(e){if(console.log("felsocket showTLoading",e),!n)try{window.tsoc_o.showLoading(e)}catch(e){}},t.alertToTeacher=function(e){if(console.log("felsocket alertToTeacher",e),!n)try{window.tsoc_o.alert(e)}catch(e){}},t.showTMathKit=function(e){if(console.log("felsocket showTMathKit",e),!n)try{window.tsoc_o.showMathKit(e)}catch(e){}},t.finishContentPage=function(){if(!n)try{window.tsoc_o.finishContentPage()}catch(e){}},t.startStudentReportProcess=function(e,t,o){if(!n)try{window.tsoc_o.startStudentReportProcess(e,t,o)}catch(e){}},t.hideStudentReportUI=function(){if(!n)try{window.tsoc_o.hideStudentReportUI()}catch(e){}},t.showStudentReportUI=function(){if(!n)try{window.tsoc_o.showStudentReportUI()}catch(e){}},t.showStudentReportListPage=function(){if(!n)try{window.tsoc_o.showStudentReportListPage()}catch(e){}},t.hideStudentReportListPage=function(){if(!n)try{window.tsoc_o.hideStudentReportListPage()}catch(e){}},t.addStudentForStudentReportType6=function(e){if(!n)try{window.tsoc_o.addStudentForStudentReportType6(e)}catch(e){}},t.uploadStudentReport=function(e,t,o){if(!n)try{window.psoc_o.uploadStudentReport(e,t,o)}catch(e){}},t.sendLauncher=function(e,t){if(5!==e||n)if(6!==e||n)if(7!==e||n){if(8===e)if(console.log("felsocket gotoPrevBook"),n)try{window.top.tsoc_o.gotoPrevBook()}catch(e){}else try{window.tsoc_o.gotoPrevBook()}catch(e){}else if(9===e)if(console.log("felsocket gotoNextBook"),n)try{window.top.tsoc_o.gotoNextBook()}catch(e){}else try{window.tsoc_o.gotoNextBook()}catch(e){}}else try{window.tsoc_o.setTitleBar(t)}catch(e){}else try{window.tsoc_o.showTitleBar()}catch(e){}else try{window.tsoc_o.hideTitleBar()}catch(e){}},t.sendPADToID=function(e,t,o){const i={type:t,data:o};if(n)try{window.top.tsoc_o.sendPADToID(e,i)}catch(e){}else try{window.tsoc_o.sendPADToID(e,i)}catch(e){}},t.sendPAD=function(e,t){const o={type:e,data:t};if(n)try{window.top.tsoc_o.sendAll(o)}catch(e){}else try{window.tsoc_o.sendAll(o)}catch(e){}},t.disableSoftwareKeyboard=function(){try{window.psoc_o.disableSoftwareKeyboard()}catch(e){}},t.sendTeacher=function(e,t){const o={type:e,data:t};if(n)try{null!==window.opener&&window.opener.tsoc_o.sendTeacher(o)}catch(e){}else try{window.psoc_o.sendTeacher(o)}catch(e){}},t.startVoiceRecord=function(){try{window.psoc_o.startVoiceRecord()}catch(e){}},t.stopVoiceRecord=function(){try{window.psoc_o.stopVoiceRecord()}catch(e){}},t.uploadFileToServer=function(e){try{window.psoc_o.uploadFileToServer(e)}catch(e){}},t.uploadImageToServer=function(e,t,o,i){try{window.psoc_o.uploadImageToServer(e,t,o,i)}catch(e){}},t.uploadFileToServerMulti=function(e){try{window.psoc_o.uploadFileToServerMulti(e)}catch(e){}},t.getStudents=function(e){if(n)if(window.top.tsoc_o)try{window.top.tsoc_o.getStudents(e)}catch(e){}else e([],!1);else try{window.tsoc_o.getStudents(e)}catch(e){}},t.startCamera=function(e){if(!n)try{window.psoc_o.startCamera(e)}catch(e){}},t.startCustomCamera=function(e){n||window.parent.postMessage({from:"content",srcFrame:"book",type:"startCustomCamera",msg:e},"*")},t.playRecordPlayer=function(){n||window.parent.postMessage({from:"content",srcFrame:"book",type:"playRecordPlayer"},"*")},t.pauseRecordPlayer=function(){n||window.parent.postMessage({from:"content",srcFrame:"book",type:"pauseRecordPlayer"},"*")},t.stopCamera=function(){if(!n)try{window.psoc_o.stopCamera()}catch(e){}},t.switchCamera=function(e){if(!n)try{window.psoc_o.switchCamera(e)}catch(e){}},t.startVideoRecord=function(){if(!n)try{window.psoc_o.startVideoRecord()}catch(e){}},t.stopVideoRecord=function(){if(!n)try{window.psoc_o.stopVideoRecord()}catch(e){}},t.uploadInclassReport=function(e){if(!n)try{window.tsoc_o.uploadInclassReport(e)}catch(e){}},t.takePicture=function(e){if(!n)try{window.psoc_o.takePicture(e)}catch(e){}},t.clearSPenTool=function(){if(console.log("felsocket clearPenTool"),!n)try{window.psoc_o.clearPenTool()}catch(e){}},t.showSMathKit=function(e){if(console.log("felsocket showSMathKit",e),!n)try{window.psoc_o.showMathKit(e)}catch(e){}},t.showSLoading=function(e){if(console.log("felsocket showSLoading",e),!n)try{window.psoc_o.showLoading(e)}catch(e){}},t.alertToStudent=function(e){if(console.log("felsocket alertToStudent",e),!n)try{window.psoc_o.alert(e)}catch(e){}},t.showSendButton=function(e,t){if(console.log("felsocket showSendButton"),!n)try{window.psoc_o.showSendButton(e,t)}catch(e){}},t.showRecordTool=function(e){if(console.log("felsocket showRecordTool",e),!n)try{window.psoc_o.showRecordTool(e)}catch(e){}},t.showPenTool=function(){if(console.log("felsocket showPentool"),!n)try{window.psoc_o.showPenTool()}catch(e){}},t.hidePenTool=function(){if(console.log("felsocket hidePentool"),!n)try{window.psoc_o.hidePenTool()}catch(e){}},t.clearPenTool=function(){if(console.log("felsocket clearPenTool"),!n)try{window.psoc_o.clearPenTool()}catch(e){}},t.launchSTool=function(e){if(console.log("felsocket launchTool",e),!n)try{window.psoc_o.launchTool(e)}catch(e){}},t.showSLivePointPop=function(e){if(console.log("felsocket showLivePointPop"),!n)try{window.psoc_o.showLivePointPop(e)}catch(e){}},t.showSGiftBox=function(e,t){if(console.log("felsocket showGiftBox"),!n)try{window.psoc_o.showGiftBox(e,t)}catch(e){}},t.getPreviewResult=function(e){return i(this,void 0,void 0,(function*(){return new Promise(t=>{if(n)t([]);else{let o=!1;const i=e=>{o||(o=!0,t(e))};window.tsoc_o.getPreviewResult(i,e),s.delay(()=>{o||(o=!0,t([]))},5e3)}})}))},t.getPreviewDmsResult=function(e){return i(this,void 0,void 0,(function*(){return new Promise(t=>{if(n)t([]);else{let o=!1;const i=e=>{o||(o=!0,t(e))};window.tsoc_o.getPreviewDmsResult(i,e),s.delay(()=>{o||(o=!0,t([]))},5e3)}})}))},t.postViewDiv=function(e){return i(this,void 0,void 0,(function*(){console.log("postViewDiv",e),window.top.postMessage({type:"viewDiv",msg:e,from:"content"},"*")}))},t.postAttention=function(e){return i(this,void 0,void 0,(function*(){console.log("postAttention",e),window.top.postMessage({type:"attention",msg:e,from:"content"},"*")}))}},function(e,t,o){"use strict";var i=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))((function(s,n){function r(e){try{a(i.next(e))}catch(e){n(e)}}function c(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,c)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getBounds=t.getTimeStr=t.wait=void 0;const s=o(5);t.wait=function(e){return i(this,void 0,void 0,(function*(){return new Promise(t=>{s.delay(t,e)})}))},t.getTimeStr=function(e,t){const o=Math.round(t/1e3);let i=Math.round(e/1e3),s=Math.floor(i/60),n=Math.floor(s/60),r="";return i%=60,s%=60,n>0||o>=3600?(r=n+":",r+=s>=10?s+":":"0"+s+":"):o>=600?r+=s>=10?s+":":"0"+s+":":r=s+":",r+=i>=10?i:"0"+i,r},t.getBounds=function(e){const t={left:0,top:0,width:0,height:0};if(!e)return t;try{const o=e.getBoundingClientRect();t.left=o.left,t.top=o.top,t.width=o.width,t.height=o.height}catch(e){}const o=e.ownerDocument,i=o.body,s=o.documentElement;t.left=t.left-(s.clientLeft||i.clientLeft||0),t.top=t.top-(s.clientTop||i.clientTop||0);const n=o.defaultView;return t.left+=n.pageXOffset||s.scrollLeft||i.scrollLeft,t.top+=n.pageYOffset||s.scrollTop||i.scrollTop,t}},function(e,t,o){"use strict";e.exports=o(25)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._toStringTimestamp=t.getDateStr=t.nteArray=t.intToHTMLcolor=t.nteBool=t.nteString=t.nteFloat=t.nteInt=t.nteUInt=t.getUnicUrl=t.getUnicNum=t.getUnic=void 0,Date.now||(Date.now=function(){return(new Date).getTime()});let i=0;function s(){return n().toString(36)}function n(){const e=Date.now();return e>i?i=e:i+=1,i}t.getUnic=s,t.getUnicNum=n,t.getUnicUrl=function(e){if(!e)return"";let t=e=e.trim();return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")||(t=t.indexOf("?")>0?t+"&t="+s():t+"?t="+s()),t},t.nteUInt=function(e,t){if(null==e)return t;if("number"==typeof e)return isNaN(e)||e<0?t:Math.round(e);{const o=parseInt(String(e),10);return isNaN(o)||o<0?t:o}},t.nteInt=function(e,t){if(null==e)return t;if("number"==typeof e)return Math.round(e);{const o=parseInt(String(e),10);return isNaN(o)?t:o}},t.nteFloat=function(e,t){if(null==e)return t;if("number"==typeof e)return e;{const o=parseFloat(String(e));return isNaN(o)?t:o}},t.nteString=function(e,t){return null==e?t:String(e)},t.nteBool=function(e,t){if(null==e)return t;if("boolean"==typeof e)return e;const o=String(e);return"true"===o||"false"!==o&&t},t.intToHTMLcolor=function(e){let t,o,i,s=e-0;t=(255&s)<<16,o=65280&s,i=(16711680&s)>>>16,s=t|o|i;let n=s.toString(16);return n="#000000".substring(0,7-n.length)+n,n},t.nteArray=function(e){if(e){if(Array.isArray(e))return e;if("string"==typeof e){const t=e;if(t.indexOf("[")>=0&&t.indexOf("]")>0)try{return JSON.parse(t)}catch(e){}}const t=[];return t.push(e),t}return[]},t.getDateStr=function(e="."){const t=new Date,o=t.getFullYear(),i=t.getMonth()+1,s=t.getDate();return o+e+(i<10?"0"+i:""+i)+e+(s<10?"0"+s:""+s)},t._toStringTimestamp=function(e){let t;const o=e.getFullYear();let i=e.getMonth()+1+"";parseInt(i,10)<10&&(i="0"+i);let s=e.getDate()+"";return parseInt(s,10)<10&&(s="0"+s),t=o+"-"+i+"-"+s+" "+e.toTimeString().substr(0,8),t}},function(e,t,o){e.exports=o(35)},function(e,t,o){"use strict";e.exports=function(e,t){return function(){for(var o=new Array(arguments.length),i=0;i<o.length;i++)o[i]=arguments[i];return e.apply(t,o)}}},function(e,t,o){"use strict";var i=o(1);function s(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,o){if(!t)return e;var n;if(o)n=o(t);else if(i.isURLSearchParams(t))n=t.toString();else{var r=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),r.push(s(t)+"="+s(e))})))})),n=r.join("&")}if(n){var c=e.indexOf("#");-1!==c&&(e=e.slice(0,c)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}},function(e,t,o){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,o){"use strict";(function(t){var i=o(1),s=o(41),n={"Content-Type":"application/x-www-form-urlencoded"};function r(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,a={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(c=o(15)),c),transformRequest:[function(e,t){return s(t,"Accept"),s(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(e){a.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){a.headers[e]=i.merge(n)})),e.exports=a}).call(this,o(40))},function(e,t,o){"use strict";var i=o(1),s=o(42),n=o(12),r=o(44),c=o(47),a=o(48),l=o(16);e.exports=function(e){return new Promise((function(t,u){var d=e.data,p=e.headers;i.isFormData(d)&&delete p["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",f=e.auth.password||"";p.Authorization="Basic "+btoa(m+":"+f)}var _=r(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),n(_,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var o="getAllResponseHeaders"in h?c(h.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:o,config:e,request:h};s(t,u,i),h=null}},h.onabort=function(){h&&(u(l("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){u(l("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),u(l(t,e,"ECONNABORTED",h)),h=null},i.isStandardBrowserEnv()){var g=o(49),y=(e.withCredentials||a(_))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;y&&(p[e.xsrfHeaderName]=y)}if("setRequestHeader"in h&&i.forEach(p,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete p[t]:h.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),u(e),h=null)})),void 0===d&&(d=null),h.send(d)}))}},function(e,t,o){"use strict";var i=o(43);e.exports=function(e,t,o,s,n){var r=new Error(e);return i(r,t,o,s,n)}},function(e,t,o){"use strict";var i=o(1);e.exports=function(e,t){t=t||{};var o={},s=["url","method","params","data"],n=["headers","auth","proxy"],r=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];i.forEach(s,(function(e){void 0!==t[e]&&(o[e]=t[e])})),i.forEach(n,(function(s){i.isObject(t[s])?o[s]=i.deepMerge(e[s],t[s]):void 0!==t[s]?o[s]=t[s]:i.isObject(e[s])?o[s]=i.deepMerge(e[s]):void 0!==e[s]&&(o[s]=e[s])})),i.forEach(r,(function(i){void 0!==t[i]?o[i]=t[i]:void 0!==e[i]&&(o[i]=e[i])}));var c=s.concat(n).concat(r),a=Object.keys(t).filter((function(e){return-1===c.indexOf(e)}));return i.forEach(a,(function(i){void 0!==t[i]?o[i]=t[i]:void 0!==e[i]&&(o[i]=e[i])})),o}},function(e,t,o){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,e.exports=i},function(e,t,o){"use strict";var i=this&&this.__decorate||function(e,t,o,i){var s,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(r=(n<3?s(r):n>3?s(t,o,r):s(t,o))||r);return n>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.ImgBtn=t.AudioBtn=t.ToggleBtn=void 0;const s=o(0),n=o(2),r=o(3);class c extends s.Component{constructor(e){super(e),this.m_pID=-1,this._inited=this._inited.bind(this),this._onClick=this._onClick.bind(this)}_inited(e){!this.m_el&&e&&(this.m_el=e,this.props.onRef&&this.props.onRef(e),e.setAttribute("touch-action","none"),e.addEventListener("pointerdown",t=>{if(!(this.m_pID>=0)){if(this.m_pID=t.pointerId,!this.props.disableCapture)try{e.setPointerCapture(this.m_pID)}catch(e){}this.props.onMouseDown&&this.props.onMouseDown(t)}}),e.addEventListener("pointerup",t=>{if(this.m_pID===t.pointerId){try{e.releasePointerCapture(this.m_pID)}catch(e){}this.m_pID=-1,this.props.onMouseUp&&this.props.onMouseUp(t)}}),e.addEventListener("pointerleave",t=>{if(this.props.disableCapture){if(this.m_pID!==t.pointerId)return;try{e.releasePointerCapture(this.m_pID)}catch(e){}this.m_pID=-1}this.props.onMouseLeave&&this.props.onMouseLeave(t)}),e.addEventListener("pointercancel",t=>{if(this.m_pID===t.pointerId){try{e.releasePointerCapture(this.m_pID)}catch(e){}this.m_pID=-1,this.props.onMouseLeave&&this.props.onMouseLeave(t)}}))}_onClick(e){this.props.onClick&&this.props.onClick(e),this.props.preventEvent&&(e.preventDefault(),e.stopPropagation())}componentDidUpdate(e){if((this.props.disabled&&!e.disabled||!this.props.view&&e.view)&&this.m_pID>=0){try{this.m_el&&this.m_el.releasePointerCapture(this.m_pID)}catch(e){}this.m_pID=-1}}}i([n.observable],c.prototype,"m_pID",void 0);let a=class extends c{constructor(e){super(e),this.m_on=!1,this.m_on=!0===e.on}componentWillReceiveProps(e){this.props.on!==e.on&&(this.m_on=!0===e.on)}render(){const e=[];this.props.className&&e.push(this.props.className),this.m_on&&e.push("on"),this.m_pID>0&&e.push("down");const t=e.join(" ");let o=this.props.style;return!1===this.props.view&&(o||(o={}),o.display="none"),s.createElement("button",{id:this.props.id,className:t,onClick:this._onClick,ref:this._inited,disabled:!0===this.props.disabled,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:o},this.props.children)}};i([n.observable],a.prototype,"m_on",void 0),a=i([r.observer],a),t.ToggleBtn=a;let l=class extends a{constructor(e){super(e)}play(){this.m_on||(this.m_on=!0,this.props.playFnc(this.props.src,e=>{this.m_on&&(this.m_on=!1,this.props.onPause&&this.props.onPause(e))}))}_onClick(e){this.m_on?(this.props.pauseFnc(),this.m_on=!1):this.play(),super._onClick(e)}};i([n.action],l.prototype,"play",null),i([n.action],l.prototype,"_onClick",null),l=i([r.observer],l),t.AudioBtn=l;let u=class extends c{constructor(e){super(e),this.m_on=!1,this.m_on=!0===e.on}componentWillReceiveProps(e){this.props.on!==e.on&&(this.m_on=!0===e.on)}render(){const e=[];this.props.className&&e.push(this.props.className),this.m_on&&e.push("on"),this.m_pID>0&&e.push("down"),!0===this.props.disabled&&e.push("disable");const t=e.join(" ");let o=this.props.style;return!1===this.props.view&&(o||(o={}),o.display="none"),s.createElement("img",{id:this.props.id,className:t,onClick:this._onClick,ref:this._inited,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:o,src:this.props.src,useMap:this.props.useMap})}};i([n.observable],u.prototype,"m_on",void 0),u=i([r.observer],u),t.ImgBtn=u},function(e,t){e.exports=ReactIdSwiper},function(e,t,o){"use strict";var i=this&&this.__decorate||function(e,t,o,i){var s,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(r=(n<3?s(r):n>3?s(t,o,r):s(t,o))||r);return n>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.AlertPopup=t.WarningPopup=t.StrategyPopup=void 0;const s=o(0),n=o(2),r=o(3),c=o(58),a=o(5),l=o(4);let u=class extends s.Component{componentDidUpdate(e){if(this.props.view&&!e.view){if(!this.props.button){let e=this.props.delay;e||(e=800),a.delay(()=>{this.props.onComplete&&this.props.onComplete()},e)}}else!this.props.view&&e.view}render(){const{type:e}=this.props;let t="";0===e?t="The teacher has stopped you from the activity. After 3 seconds, only the contents has been created so far will be submitted.":1===e?t="All students are already in progress. If you restart, existing data will be deleted. Are you sure you want to request the submission?":2===e?t="You can share a solution only in the problem solving state.":3===e?t="Do you want to save the current learning screen? If there is already saved data, the current data will be overwritten.":4===e?t="Picture not taken.\nYou have reached the maximum number of pictures available.":5===e&&(t="For this activity, We recommend students to wear a headset or an earphone with a microphone.");let o="exclamation";return 4===e?o="nocamera":5===e&&(o="headset"),s.createElement("div",{className:"alertpop strategy"+(this.props.view?" show":"")},s.createElement("div",{className:"alertpop-inner"},s.createElement("div",{className:o}),s.createElement("div",{className:"ment"},t),s.createElement("div",{className:"buttons"+(this.props.isSingle?" single":"")+(this.props.button?"":" hide")},s.createElement("button",{className:"btn cancel",onClick:this.props.onCancel},"Cancel"),s.createElement("button",{className:"btn ok",onClick:this.props.onOk},"Ok"))))}};u=i([r.observer],u),t.StrategyPopup=u;let d=class extends s.Component{constructor(){super(...arguments),this.second=3,this.interval=null}componentDidUpdate(e){if(this.props.view&&!e.view){if(this.second=3,!this.props.button){let e=this.props.delay;e||(e=800),this.interval=setInterval(()=>{this.second--,0===this.second&&(this.props.onComplete&&this.props.onComplete(),null!==this.interval&&clearInterval(this.interval))},1e3)}}else!this.props.view&&e.view&&(null!==this.interval&&clearInterval(this.interval),this.props.onComplete&&this.props.onComplete())}render(){const{type:e}=this.props;let t="";return 0===e&&(t=`Submit your answer within <strong>${this.second} seconds.</strong>`),s.createElement("div",{className:"warningpopup",style:{display:this.props.view?"":"none"}},s.createElement("div",{className:"msg",dangerouslySetInnerHTML:{__html:t}}))}};i([n.observable],d.prototype,"second",void 0),d=i([r.observer],d),t.WarningPopup=d;class p extends s.Component{constructor(){super(...arguments),this._onOk=()=>{this.props.onOk&&this.props.onOk()},this._onClose=()=>{this.props.onClose&&this.props.onClose()}}componentDidUpdate(e){this.props.view&&!e.view||!this.props.view&&e.view&&l.App.pub_playBtnTab()}render(){const{view:e,msg:t,isSingle:o,msgclass:i}=this.props;return s.createElement(c.CoverPopup,{className:"alert_popup",view:e,onClosed:this.props.isSingle?this._onOk:this._onClose},s.createElement("div",{className:"pop_box"},s.createElement("span",{className:"ico_alert"}),s.createElement("span",{className:"text"+(i&&""!==i?" "+i:""),dangerouslySetInnerHTML:{__html:t}}),s.createElement("div",{className:"btns"},s.createElement("button",{className:"btn_cancel",onClick:this._onClose,style:{display:o?"none":""}},s.createElement("span",null,"Cancel")),s.createElement("button",{className:"btn_ok",onClick:this._onOk},s.createElement("span",null,"OK")))))}}t.AlertPopup=p},function(e,t,o){e.exports=o(23)},function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const i=o(8),s=o(0),n=o(26),r=o(4),c=o(6),a=o(27);i.setConfig({ErrorOverlay:e=>s.createElement("div",null)});const l={clear:r.App.pub_clear,importLink:a.importLink,importHTML:a.importHTML};let u,d=!0;u=o(28),d=!1;let p=!1;const h=u,m=h.default,f=h.AppProvider,_=h.appContext;l.set=(e,t,o)=>{r.App.pub_set(e,t,o),_.setData(e)},l.render=()=>{r.App.pub_initAudio(),n.render(s.createElement(f,null,s.createElement(m,null)),document.getElementById("wrap"))},d?(l.init=(e,t,o,i,s,n)=>{r.App.pub_load(e,null,t,o,i,s,n)},l.start=()=>{p=!0,setTimeout(()=>_.start(),500)},l.receive=e=>{if(4===e.type){const t=e.data;p?t&&t.id&&""!==t.id&&(r.App.isStarted?c.sendPADToID(t.id,0,null):c.sendPADToID(t.id,1,null)):r.App.pub_addInitedStudent(t)&&(p||(p=!0,_.start()))}else _.receive(e)},l.teachingTool=e=>{},l.notifyNaviInfo=(e,t,o,i,s,n)=>{_.notifyNaviInfo(e,t,o,i,s,n)},l.notifyBookCaptureInfo=e=>{_.notifyBookCaptureInfo(e)},l.notifyUploadToServerResult=e=>{_.uploaded(e)},l.notifyUploadToServerMultiResult=e=>{_.multiUploaded(e)},l.notifyAlert=e=>{_.notifyAlert(e)},l.notifyPenToolState=(e,t)=>{_.notifyPenToolState(e,t)},l.notifyHamburgerMenuClicked=e=>{_.notifyHamburgerMenuClicked(e)},l.callThreeminState=()=>{_.callThreeminState()}):(l.init=(e,t,o,i,s,n)=>{r.App.pub_load(null,e,t,o,i,s,n),c.sendTeacher(4,e),_.start()},l.receive=e=>{null!=r.App.student&&_.receive(e)},l.notifyUploadToServerResult=e=>{_.uploaded(e)},l.notifyUploadToServerMultiResult=e=>{_.multiUploaded(e)},l.notify=e=>{_.notify(e)},l.notifyVideoRecord=e=>{_.notifyVideoRecord(e)},l.notifyStartVoice=()=>{_.notify("notifyStartVoice")},l.notifyVoiceRecordResult=e=>{_.notifyRecorded(e)},l.notifyTakePicture=(e,t)=>{_.notifyTakePicture&&_.notifyTakePicture(e,t)},l.clickSendButton=()=>{_.clickSendButton()},l.notifyRecordData=(e,t)=>{_.notifyRecordData(e,t)},l.notifyAlert=e=>{_.notifyAlert(e)},l.notifyPenToolState=(e,t)=>{_.notifyPenToolState(e,t)},l.notifyLiveGivePopupClose=()=>{_.notifyLiveGivePopupClose()}),o(62),e.app_o=l}).call(this,o(24))},function(e,t){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(e){"object"==typeof window&&(o=window)}e.exports=o},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=(i=o(0))&&"object"==typeof i&&"default"in i?i.default:i;function n(e){return n.warnAboutHMRDisabled&&(n.warnAboutHMRDisabled=!0,console.error("React-Hot-Loader: misconfiguration detected, using production version in non-production environment."),console.error("React-Hot-Loader: Hot Module Replacement is not enabled.")),s.Children.only(e.children)}n.warnAboutHMRDisabled=!1;var r=function e(){return e.shouldWrapWithAppContainer?function(e){return function(t){return s.createElement(n,null,s.createElement(e,t))}}:function(e){return e}};r.shouldWrapWithAppContainer=!1;t.AppContainer=n,t.hot=r,t.areComponentsEqual=function(e,t){return e===t},t.setConfig=function(){},t.cold=function(e){return e},t.configureComponent=function(){}},function(e,t){e.exports=ReactDOM},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.importLink=t.importHTML=void 0,t.importHTML=function(e){return new Promise((t,o)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="document",i.onload=e=>{if(!e)return;const s=i.response;s&&s.body&&s.body.firstElementChild?t(s.body.firstElementChild):s&&s.documentElement?t(s.documentElement):o("error")},i.onerror=e=>{o(e)},i.send(null)})},t.importLink=function(e,t){return new Promise((t,o)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="document",i.onload=e=>{if(!e)return;const o=i.response;t(o)},i.onerror=e=>{o(e)},i.send(null)})}},function(e,t,o){"use strict";(function(e){var i=this&&this.__decorate||function(e,t,o,i){var s,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(r=(n<3?s(r):n>3?s(t,o,r):s(t,o))||r);return n>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.appContext=t.AppProvider=void 0;const s=o(0),n=o(3),r=o(8),c=o(30),a=o(31),l=o(32),u=o(33);Object.defineProperty(t,"appContext",{enumerable:!0,get:function(){return u.sContext}}),Object.defineProperty(t,"AppProvider",{enumerable:!0,get:function(){return u.StudentProvider}});const d=o(52);o(59),o(60);const p=o(61);let h=class extends s.Component{render(){const{state:e,actions:t}=this.props,o=e.viewDiv;return s.createElement(s.Fragment,null,s.createElement("div",{className:"content-container"},s.createElement("div",{className:"content-wrapper",style:{left:("direction"===o?0:-1280)+"px"}},s.createElement("div",null,s.createElement(c.default,{className:"video-direction",view:"direction"===e.viewDiv,on:e.directionON,isTeacher:!1,lesson:t.getCurriculum(),bookId:e.bookid,subtitle:"Learning the Basics",poster_url:"/content/mathalive_lib/MA/independent_practice_r/common/bg_direction.jpg",video_url:"/content/mathalive_lib/MA/independent_practice_r/common/mv_independent_practice.mp4",video_frame:125})),s.createElement("div",null,s.createElement(d.default,{view:"content"===o&&"practice"===e.prog,state:e,actions:t,checkProg:e.checkProg,checkedList:e.checkedList,isVisiblePenTool:e.isVisiblePenTool,bgcolorList:e.bgcolorList}),s.createElement(a.Loading,{view:e.loading}),s.createElement(p.Navi,Object.assign({},e.navi,{onLeftClick:t.naviLeft,onRightClick:t.naviRight})),s.createElement(l.default,{view:"eyeon"===e.viewDiv})))))}};h=i([n.observer],h);const m=u.useStudent(e=>s.createElement(n.Observer,null,()=>s.createElement(h,{state:e.state,actions:e.actions})));t.default=r.hot(e)(m)}).call(this,o(29)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,o){"use strict";var i=this&&this.__decorate||function(e,t,o,i){var s,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(r=(n<3?s(r):n>3?s(t,o,r):s(t,o))||r);return n>3&&r&&Object.defineProperty(t,o,r),r},s=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))((function(s,n){function r(e){try{a(i.next(e))}catch(e){n(e)}}function c(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,c)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=o(0),r=o(2),c=o(3),a=o(7);let l=class extends n.Component{constructor(e){super(e),this.m_on=!1,this.m_showMathKit=!1,this.bookInfo=[],this.curIndex=0,this._list=[],this._onClick=()=>{this.props.isTeacher&&this._off()},this._off=()=>s(this,void 0,void 0,(function*(){this.props.view&&this.m_on&&(this.m_on=!1,this.props.onEndStart&&this.props.onEndStart(),yield a.wait(500),this.props.view&&!this.m_on&&this.props.onEnd&&this.props.onEnd())})),this.m_on=e.view&&e.on}_on(){return s(this,void 0,void 0,(function*(){this.m_on=!0}))}componentWillReceiveProps(e){if(e.lesson&&this.props.lesson!==e.lesson||this.props.view!==e.view){for(;this.bookInfo.length>0;)this.bookInfo.pop();e.lesson&&e.lesson.childrenList&&e.lesson.childrenList.length>0&&e.lesson.childrenList.map((t,o)=>{try{if(t.book){t.book.id===e.bookId&&(this.curIndex=this.bookInfo.length);let o=t.depth_name?t.depth_name:"";o=o.replace(/\&lt;/g,"<"),o=o.replace(/\&gt;/g,">"),this.bookInfo.push({bookName:t.name?t.name:"",id:t.id,lesson:e.lesson?e.lesson.name:"",subtitle:o})}}catch(e){alert("A ee  "+JSON.stringify(e))}})}}componentDidUpdate(e){this.props.view?e.view?this.props.on&&!e.on?this._on():!this.props.on&&e.on&&this._off():this.props.on?this._on():this.m_on=!1:this.m_on=!1}render(){const{isTeacher:e,subtitle:t}=this.props,o=[];o.push(this.props.className);const i=document.querySelector(".bgm");return this.props.view?(this.m_on&&o.push("on"),i&&i.play()):(o.push("hide"),i&&(i.pause(),i.currentTime=0)),n.createElement("div",{className:o.join(" "),onClick:this._onClick},e&&this.bookInfo&&n.createElement("span",{className:"concept_name"},this.bookInfo.length>0?this.bookInfo[this.curIndex].lesson:""),n.createElement("div",{className:"progress_dot"},e&&this.bookInfo&&this.bookInfo.map((e,t)=>n.createElement("span",{key:"q_"+t,className:this.curIndex===t?"on":""}))),n.createElement("div",{className:"video"},n.createElement("video",{muted:!0,autoPlay:!0,poster:this.props.poster_url?this.props.poster_url:void 0},n.createElement("source",{src:this.props.video_url,type:"video/mp4"}),n.createElement("strong",null,"Your browser does not support the video tag."))),n.createElement("div",{className:"text"},n.createElement("div",{className:"t1"},this.bookInfo&&this.bookInfo.length>0?this.bookInfo[this.curIndex].bookName:""),e&&n.createElement("div",{className:"t2",dangerouslySetInnerHTML:{__html:this.bookInfo&&this.bookInfo.length>0?this.bookInfo[this.curIndex].subtitle:""}}),!e&&n.createElement("div",{className:"t2",dangerouslySetInnerHTML:{__html:0===t.length&&this.bookInfo[this.curIndex]?this.bookInfo[this.curIndex].subtitle:t}})),n.createElement("audio",{className:"bgm",autoPlay:!0,src:this.props.audio_url?this.props.audio_url:void 0}))}};i([r.observable],l.prototype,"m_on",void 0),i([r.observable],l.prototype,"_list",void 0),i([r.action],l.prototype,"_off",void 0),l=i([c.observer],l),t.default=l},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Loading=void 0;const i=o(0);t.Loading=({view:e})=>i.createElement("div",{className:"loading "+(e?"":"hide")},i.createElement("div",{className:"loading_bg"}),i.createElement("div",{className:"loading_img"},i.createElement("span",{className:"img"}),"Loading"))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(0);class s extends i.Component{componentDidUpdate(e){}render(){return i.createElement("div",{className:"attention "+(this.props.view?"":"hide")},i.createElement("span",null,"Attention"))}}t.default=s},function(e,t,o){"use strict";var i=this&&this.__decorate||function(e,t,o,i){var s,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(r=(n<3?s(r):n>3?s(t,o,r):s(t,o))||r);return n>3&&r&&Object.defineProperty(t,o,r),r},s=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))((function(s,n){function r(e){try{a(i.next(e))}catch(e){n(e)}}function c(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,c)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SENDPROG=t.useStudent=t.StudentContext=t.StudentConsumer=t.StudentProvider=t.sContext=void 0;const n=o(0),r=o(2),c=o(4),a=o(34),l=o(10);var u;!function(e){e[e.MOUNT=0]="MOUNT",e[e.READY=1]="READY",e[e.SENDING=2]="SENDING",e[e.SENDED=3]="SENDED",e[e.COMPLETE=4]="COMPLETE"}(u||(u={})),t.SENDPROG=u;class d extends a.StudentContextBase{constructor(){super(),this.uploaded=e=>{},this.notify=e=>{},this.notifyRecorded=e=>{},this.state.prog="",this.state.checkedList=[],this.state.checkProg=0,this.state.quizResult=[],this.state.active=[],this.state.isVisiblePenTool=!1,this.state.bookkey=0,this.state.classid=0,this.state.curriculumid=0,this.state.bgcolorList=[],this.state.frIdx=0,this.state.dpGrade="",this.state.dpModule="",this.state.topicDepthItemIdx=0,this.state.conceptDepthItemIdx=0,this.state.mathDomainSubCd="",this.state.course1MtlSeq=0,this.state.course2MtlSeq=0,this.state.course3MtlSeq=0,this.state.course4MtlSeq=0,this.actions.getData=()=>this._data,this.actions.getCurriculum=()=>this._curriculum}_setViewDiv(e){this.state;super._setViewDiv(e)}receive(e){if(super.receive(e),10===e.type&&e.data){const t=e.data;if("practice_send"===t.msgtype){const e=t;this._setViewDiv("content");let o=JSON.parse(e.checkedList);for(;this.state.active.length>0;)this.state.active.pop();for(let e=0;e<o.length;e++)o[e]&&this.state.active.push(!1);this.state.active[0]=!0,this.state.bookkey!==e.bookkey||this.state.classid!==e.classid||this.state.curriculumid!==e.curriculumid?(this.state.bookkey=e.bookkey,this.state.classid=e.classid,this.state.curriculumid=e.curriculumid,this.state.frIdx=e.frIdx,this.state.dpGrade=e.dpGrade,this.state.dpModule=e.dpModule,this.state.topicDepthItemIdx=e.topicDepthItemIdx,this.state.conceptDepthItemIdx=e.conceptDepthItemIdx,this.state.mathDomainSubCd=e.mathDomainSubCd,this.state.course1MtlSeq=e.course1MtlSeq,this.state.course2MtlSeq=e.course2MtlSeq,this.state.course3MtlSeq=e.course3MtlSeq,this.state.course4MtlSeq=e.course4MtlSeq,this.setDataFromAPI(e.checkedList,e.bgcolorList)):(this.state.prog="practice",this.state.checkedList=JSON.parse(e.checkedList),this.state.bgcolorList=JSON.parse(e.bgcolorList),this.state.checkProg=1)}else if("practice_end"===t.msgtype){if("practice"!==this.state.prog)return;this.state.checkProg=4}}}setDataFromAPI(e,t){return s(this,void 0,void 0,(function*(){if(!c.App.student)return;let o="";for(let e=0;e<this._data.items.length;e++)""===o?o=this._data.items[e].quizSeq+"":o+=","+this._data.items[e].quizSeq;let i=new FormData;c.App.isDvlp?i.append("userIdx","78987"):i.append("userIdx",c.App.student.id+""),i.append("userDiv","S"),i.append("bkKey",this.state.bookkey+""),i.append("clsIdx",this.state.classid+""),i.append("depthItemIdx",this.state.curriculumid+""),i.append("studyCd","IP2"),i.append("frIdx",this.state.frIdx+""),i.append("dpGrade",this.state.dpGrade),i.append("dpModule",this.state.dpModule),i.append("topicDepthItemIdx",this.state.topicDepthItemIdx+""),i.append("conceptDepthItemIdx",this.state.conceptDepthItemIdx+""),i.append("mathDomainSubCd",this.state.mathDomainSubCd+""),i.append("course1MtlSeq",this.state.course1MtlSeq+""),i.append("course2MtlSeq",this.state.course2MtlSeq+""),i.append("course3MtlSeq",this.state.course3MtlSeq+""),i.append("course4MtlSeq",this.state.course4MtlSeq+""),console.log("formdata",c.App.isDvlp?"78987":c.App.student.id,this.state.bookid,this.state.classid,this.state.curriculumid,o),console.log("formdata2",this.state.frIdx,this.state.dpGrade,this.state.dpModule,this.state.topicDepthItemIdx,this.state.conceptDepthItemIdx,this.state.mathDomainSubCd,this.state.course1MtlSeq,this.state.course2MtlSeq,this.state.course3MtlSeq,this.state.course4MtlSeq),console.log("postURL",c.App.addOnHost+"/ma/question/"+o),this.state.loading=!0,yield l.default({method:"post",url:c.App.addOnHost+"/ma/question/"+o,data:i}).then(o=>{if(!o.data.success)return;let i=[],s=[];o.data.resultData.map((e,t)=>{let o=e;0===o.dpMainSeq?i.push(o):s.push(o)}),i.map((e,t)=>{const i=JSON.parse(e.dpAnswer),n=[];for(let e=0;e<i.length;e++){const t=i[e];n.push({basetype:t.base?t.base:0,subtype:t.sub?t.sub:0,basetypename:t.baseName?t.baseName:"",subtypename:t.subName?t.subName:"",matchType:t.matchType?t.matchType:0,answers:t.inputList?t.inputList:[]})}const r={seq:e.seq,url:e.url+"index.html",desc:e.url+"desc.html",thumb:e.url+"thumbnail.png",answers:n,qnumber:t+1,quizKind:0,difiicult:e.dpLevel,mainSeq:e.mainSeq,quesSeq:e.quesSeq,isRetake:o.data.isRetake},c=s.find(t=>t.dpMainSeq===e.seq);if(c){const e=JSON.parse(c.dpAnswer),i=[];for(let t=0;t<e.length;t++){const o=e[t];i.push({basetype:o.base?o.base:0,subtype:o.sub?o.sub:0,basetypename:o.baseName?o.baseName:"",subtypename:o.subName?o.subName:"",matchType:o.matchType?o.matchType:0,answers:o.inputList?o.inputList:[]})}const s={seq:c.seq,url:c.url+"index.html",desc:c.url+"desc.html",thumb:c.url+"thumbnail.png",answers:i,qnumber:t+1,quizKind:1,difiicult:c.dpLevel,mainSeq:c.mainSeq,quesSeq:c.quesSeq,isRetake:o.data.isRetake};this._data.quizs.push(r),this._data.quizs.push(s)}}),this.state.prog="practice",this.state.checkedList=JSON.parse(e),this.state.bgcolorList=JSON.parse(t),this.state.checkProg=1,this.state.loading=!1}).catch(e=>{console.log("Error",e),this.state.loading=!1})}))}setData(e){this._data={items:[],quizs:[]},this._data.items=e.items}notifyPenToolState(e,t){this.state.isVisiblePenTool=e}}i([r.observable],d.prototype,"state",void 0),i([r.action],d.prototype,"_setViewDiv",null),i([r.action],d.prototype,"receive",null),i([r.action],d.prototype,"notify",void 0),i([r.action],d.prototype,"notifyRecorded",void 0),t.StudentContext=d;const p=new d;t.sContext=p;const{Provider:h,Consumer:m}=n.createContext(p);t.StudentConsumer=m;class f extends n.Component{render(){return n.createElement(h,{value:p},this.props.children)}}t.StudentProvider=f,t.useStudent=function(e){return function(t){return n.createElement(m,null,t=>n.createElement(e,Object.assign({},t)))}}},function(e,t,o){"use strict";var i=this&&this.__decorate||function(e,t,o,i){var s,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(r=(n<3?s(r):n>3?s(t,o,r):s(t,o))||r);return n>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.StudentContextBase=void 0;const s=o(2),n=o(4),r=o(6);class c{constructor(){this._naviLeftFnc=null,this._naviRightFnc=null,this.state={viewDiv:"direction",directionON:!1,navi:{view:!1,enableLeft:!1,enableRight:!1},loading:!1,bookid:0,bookkey:0,curriculumid:0,classid:0,unitid:0,lessonid:0,svg_bg:{view:!0,bPlay:!1,viewCharactor:!0},is_lock:!1,isRemote:!1},this.actions={setNaviView:e=>{this.state.navi.view=e},setNavi:(e,t)=>{this.state.navi.enableLeft=e,this.state.navi.enableRight=t},setNaviFnc:(e,t)=>{this._naviLeftFnc=e,this._naviRightFnc=t},naviLeft:()=>{n.App.pub_playBtnPage(),this._naviLeftFnc&&this._naviLeftFnc()},naviRight:()=>{n.App.pub_playBtnPage(),this._naviRightFnc&&this._naviRightFnc()},setLoading:e=>{r.showSLoading(e)}},this.uploaded=e=>{},this.notify=e=>{},this.notifyRecorded=e=>{},this.notifyVideoRecord=e=>{},this.notifySwitchCamera=()=>{},this.notifyTakePicture=(e,t)=>{},this.notifyBookCaptureInfo=e=>{},this.clickSendButton=()=>{},this.notifyRecordData=(e,t)=>{},this.notifyAlert=e=>{},this.state.isRemote=document.location.href.indexOf("remote=y")>=0}_setViewDiv(e,t){this.state.viewDiv!==e&&(r.postViewDiv(e),"direction"===e?(this.state.directionON=!0,this.state.svg_bg.bPlay=!0,this.state.svg_bg.viewCharactor=!0):(this.state.directionON=!1,this.state.svg_bg.bPlay=!1,this.state.svg_bg.viewCharactor=!1),this.state.loading=!1,this.state.viewDiv=e)}start(){}receive(e){switch(e.type){case 1:"direction"===this.state.viewDiv?(this.state.directionON=!0,this.state.svg_bg.bPlay=!0,this.state.svg_bg.viewCharactor=!0):this._setViewDiv("direction"),r.sendTeacher(1,{id:n.App.student?n.App.student.id:"",name:n.App.student?n.App.student.name:""});break;case 3:this.state.directionON=!1,r.sendTeacher(3,{id:n.App.student?n.App.student.id:"",name:n.App.student?n.App.student.name:""});break;case 0:this._setViewDiv("eyeon"),r.sendTeacher(0,{id:n.App.student?n.App.student.id:"",name:n.App.student?n.App.student.name:""});break;case 10:"page_lock"===e.data.msgtype?this.state.is_lock=!0:"page_unlock"===e.data.msgtype&&(this.state.is_lock=!1)}}multiUploaded(e){}notifyNaviInfo(e,t,o,i,s,n){}notifyPenToolState(e,t){}notifyLiveGivePopupClose(){}notifyHamburgerMenuClicked(e){}callThreeminState(){}}i([s.observable],c.prototype,"state",void 0),i([s.action],c.prototype,"_setViewDiv",null),i([s.action],c.prototype,"start",null),i([s.action],c.prototype,"receive",null),t.StudentContextBase=c},function(e,t,o){"use strict";var i=o(1),s=o(11),n=o(36),r=o(17);function c(e){var t=new n(e),o=s(n.prototype.request,t);return i.extend(o,n.prototype,t),i.extend(o,t),o}var a=c(o(14));a.Axios=n,a.create=function(e){return c(r(a.defaults,e))},a.Cancel=o(18),a.CancelToken=o(50),a.isCancel=o(13),a.all=function(e){return Promise.all(e)},a.spread=o(51),e.exports=a,e.exports.default=a},function(e,t,o){"use strict";var i=o(1),s=o(12),n=o(37),r=o(38),c=o(17);function a(e){this.defaults=e,this.interceptors={request:new n,response:new n}}a.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=c(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[r,void 0],o=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)o=o.then(t.shift(),t.shift());return o},a.prototype.getUri=function(e){return e=c(this.defaults,e),s(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){a.prototype[e]=function(t,o){return this.request(i.merge(o||{},{method:e,url:t}))}})),i.forEach(["post","put","patch"],(function(e){a.prototype[e]=function(t,o,s){return this.request(i.merge(s||{},{method:e,url:t,data:o}))}})),e.exports=a},function(e,t,o){"use strict";var i=o(1);function s(){this.handlers=[]}s.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},s.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},s.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=s},function(e,t,o){"use strict";var i=o(1),s=o(39),n=o(13),r=o(14);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=s(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||r.adapter)(e).then((function(t){return c(e),t.data=s(t.data,t.headers,e.transformResponse),t}),(function(t){return n(t)||(c(e),t&&t.response&&(t.response.data=s(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,o){"use strict";var i=o(1);e.exports=function(e,t,o){return i.forEach(o,(function(o){e=o(e,t)})),e}},function(e,t){var o,i,s=e.exports={};function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function c(e){if(o===setTimeout)return setTimeout(e,0);if((o===n||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:n}catch(e){o=n}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(e){i=r}}();var a,l=[],u=!1,d=-1;function p(){u&&a&&(u=!1,a.length?l=a.concat(l):d=-1,l.length&&h())}function h(){if(!u){var e=c(p);u=!0;for(var t=l.length;t;){for(a=l,l=[];++d<t;)a&&a[d].run();d=-1,t=l.length}a=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];l.push(new m(e,t)),1!==l.length||u||c(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=f,s.addListener=f,s.once=f,s.off=f,s.removeListener=f,s.removeAllListeners=f,s.emit=f,s.prependListener=f,s.prependOnceListener=f,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,o){"use strict";var i=o(1);e.exports=function(e,t){i.forEach(e,(function(o,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=o,delete e[i])}))}},function(e,t,o){"use strict";var i=o(16);e.exports=function(e,t,o){var s=o.config.validateStatus;!s||s(o.status)?e(o):t(i("Request failed with status code "+o.status,o.config,null,o.request,o))}},function(e,t,o){"use strict";e.exports=function(e,t,o,i,s){return e.config=t,o&&(e.code=o),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,o){"use strict";var i=o(45),s=o(46);e.exports=function(e,t){return e&&!i(t)?s(e,t):t}},function(e,t,o){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,o){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,o){"use strict";var i=o(1),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,o,n,r={};return e?(i.forEach(e.split("\n"),(function(e){if(n=e.indexOf(":"),t=i.trim(e.substr(0,n)).toLowerCase(),o=i.trim(e.substr(n+1)),t){if(r[t]&&s.indexOf(t)>=0)return;r[t]="set-cookie"===t?(r[t]?r[t]:[]).concat([o]):r[t]?r[t]+", "+o:o}})),r):r}},function(e,t,o){"use strict";var i=o(1);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function s(e){var i=e;return t&&(o.setAttribute("href",i),i=o.href),o.setAttribute("href",i),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return e=s(window.location.href),function(t){var o=i.isString(t)?s(t):t;return o.protocol===e.protocol&&o.host===e.host}}():function(){return!0}},function(e,t,o){"use strict";var i=o(1);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,o,s,n,r){var c=[];c.push(e+"="+encodeURIComponent(t)),i.isNumber(o)&&c.push("expires="+new Date(o).toGMTString()),i.isString(s)&&c.push("path="+s),i.isString(n)&&c.push("domain="+n),!0===r&&c.push("secure"),document.cookie=c.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,o){"use strict";var i=o(18);function s(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var o=this;e((function(e){o.reason||(o.reason=new i(e),t(o.reason))}))}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var e;return{token:new s((function(t){e=t})),cancel:e}},e.exports=s},function(e,t,o){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,o){"use strict";var i=this&&this.__decorate||function(e,t,o,i){var s,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(r=(n<3?s(r):n>3?s(t,o,r):s(t,o))||r);return n>3&&r&&Object.defineProperty(t,o,r),r},s=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))((function(s,n){function r(e){try{a(i.next(e))}catch(e){n(e)}}function c(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,c)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=o(0),r=o(3),c=o(2),a=o(4),l=o(7),u=o(6),d=o(5),p=o(53),h=o(19),m=o(55),f=o(56),_=o(57),g=o(21),y=o(21),w=o(10),b=o(20).default,v={direction:"horizontal",observer:!0};let k=class extends n.Component{constructor(e){super(e),this._curIdx=0,this.retry=!1,this._prog=1,this._resultShowing=[],this._typeSayPop=0,this.quizResult=[],this._viewAlert=!1,this._viewNewAlertMsg="",this._viewSolution=!1,this._result=[],this.ifr=[],this.ifr_desc=[],this._swiper=null,this._focusEnd=!1,this._refSwiper=e=>{if(this._swiper||!e)return;const t=e.swiper;t.on("transitionStart",()=>{this._curIdx=-1,this._viewAlert=!1,this._viewNewAlertMsg="",this._viewSolution=!1}),t.on("transitionEnd",()=>{this.props.view&&(u.clearSPenTool(),this._curIdx=t.activeIndex,this._curIdx<this.quizResult.length&&!this.quizResult[this._curIdx].completed&&4!==this._prog&&(3===this._prog&&(this._prog=1),this.quizResult[this._curIdx].starttime=(new Date).getTime(),this.quizResult[this._curIdx].endtime=(new Date).getTime(),this.initContent()),this.props.state.active[this._curIdx]=!0)}),this._swiper=t},this.showSolution=()=>{a.App.pub_solution_btn_click(),this._viewSolution=!0},this.showProblem=()=>{a.App.pub_playBtnTab(),this._viewSolution=!1},this._onPrev=()=>{0!==this._curIdx&&(a.App.pub_playBtnTab(),this._swiper&&this._swiper.slidePrev())},this._onNext=()=>{this._curIdx!==this.quizResult.length-1&&(a.App.pub_playBtnTab(),this._swiper&&this._swiper.slideNext())},this.clickSubmitItemofQuizList=e=>{},this.clickIdx=e=>{if(this._swiper){const t=this._swiper;d.delay(()=>{t.update(),t.slideTo(e,100)},100)}},this._onSend=()=>s(this,void 0,void 0,(function*(){if(!this.props.view)return;if(1!==this._prog)return;if(-1===this._curIdx)return;let e=this.quizResult[this._curIdx];if(!1===e.completed&&(e.completed=!0),!e.completed||2===e.tryCnt)return;if(this._prog=2,this.retry=this._viewAlert=!1,a.App.pub_playToPad(),e.tryCnt+=1,1===e.tryCnt&&!e.correct){if(this._focusEnd)return;return e.completed=!1,this.retry=!0,this.initContent(),this._typeSayPop=7,this._prog=1,void(this.ifr&&this.ifr[this._curIdx]&&this.sendPostMessage("reload",null,this._curIdx))}let t=0;e.starttime&&e.endtime&&(e.endtime=(new Date).getTime(),t=Math.round((e.endtime-e.starttime)/1e3));const o=this.props.actions.getData().quizs,i=o[d.findIndex(o,{seq:e.contentSeq})];if(!i){if(this._focusEnd)return;return e.tryCnt-=1,this._prog=1,void(this._viewNewAlertMsg="Error!!<br/>Please contact the administrator.")}let s=new FormData;s.append("ansTf",e.correct?"1":"0"),s.append("duration",t+""),s.append("mainSeq",i.mainSeq?i.mainSeq+"":"0"),s.append("quesSeq",i.quesSeq?i.quesSeq+"":"0"),i.isRetake&&s.append("isRetake",i.isRetake+""),s.append("studyCd","IP2"),s.append("tryCnt",e.tryCnt+""),s.append("userAnswer",JSON.stringify(e.userChoices)),yield w.default({method:"post",url:a.App.addOnHost+"/ma/answer",data:s}).then(e=>{let t=this.quizResult[this._curIdx];if(!e.data.success)return t.tryCnt-=1,void(this._viewNewAlertMsg="Server Error!!<br/>Please contact the administrator.");if(a.App.student){t.studentid=a.App.student.id;const e={msgtype:"practice_result",idx:this._curIdx,result:JSON.stringify(t)};u.sendTeacher(11,e)}const o=d.findIndex(this._result,{quizSeq:t.contentSeq});o<-1||(this._result[o].quizSeq=t.contentSeq,this._result[o].tryCnt=t.tryCnt,this._result[o].compelete=t.completed,this._result[o].correct=t.correct,l.wait(600),1===t.tryCnt&&t.correct?this._typeSayPop=1:2===t.tryCnt&&t.correct?this._typeSayPop=2:2!==t.tryCnt||t.correct||(this._typeSayPop=6),this._focusEnd&&4===this._prog||(this._curIdx===this.quizResult.length-1?(this._prog=4,this.props.state.checkProg=3):this._prog=3,this.completeContent(),this._resultShowing[this._curIdx]=!0))}).catch(e=>{console.log("Error",e),this.quizResult[this._curIdx].tryCnt-=1,this._viewNewAlertMsg="Server Error!!<br/>Please contact the administrator."})})),this._onCompletedSayPop=()=>{1!==this._typeSayPop&&2!==this._typeSayPop||a.App.isDvlp||u.showSLivePointPop(!0),this._typeSayPop=0;let e=this.quizResult[this._curIdx];1!==e.tryCnt||e.correct},this._onCompletedAlertPop=()=>{if(!this.props.view)return;if(this._viewAlert=!1,4===this._prog||3===this.props.state.checkProg)return;this._prog<2&&(this._typeSayPop=6),this._prog=4,this.completeContentAll();const e=this.props.actions.getData().quizs;for(let t=0;t<e.length;t++)this._resultShowing[t]=!0;for(let e=0;e<this.props.checkedList.length;e++)this.props.checkedList[e]&&(this._result[e].compelete||(this._result[e].compelete=!0));this.props.state.checkProg=3},this._onCloseNewAlertPop=()=>{this.props.view&&(2===this._prog&&(this._prog=1),this._viewNewAlertMsg="")},this.handlePostMessage=e=>{const t=e.data;if("macontent"===t.from&&"submit"===t.type){if(this._curIdx<-1||this._curIdx>=this.quizResult.length)return;let e=this.quizResult[this._curIdx],o=(_.answercheck(e,t.msg),!0),i=!0;e.userChoices.map(e=>{e.completed||(o=!1),e.correct||(i=!1)}),e.completed=o,e.correct=i}},this.onIfmLoaded=e=>{this._curIdx>=0&&this._curIdx<this.quizResult.length&&(this.quizResult[this._curIdx].starttime=(new Date).getTime(),this.quizResult[this._curIdx].endtime=(new Date).getTime()),this.ifr[e]&&(this.chanageBackColor(this.props.bgcolorList[e],e,!1),this.initContent())},this.onIfmDescLoaded=e=>{this.ifr_desc[e]&&this.chanageBackColor(this.props.bgcolorList[e],e,!0)};const t=this.props.actions.getData().quizs;for(let e=0;e<t.length;e++)this._result.push({quizSeq:t[e].seq,correct:!1,tryCnt:0,compelete:!1,qnumber:t[e].qnumber,quizKind:t[e].quizKind,mainSeq:t[e].mainSeq?t[e].mainSeq:0})}componentDidMount(){window.addEventListener("message",this.handlePostMessage,!1)}componentWillUnmount(){window.removeEventListener("message",this.handlePostMessage,!1)}sendPostMessage(e,t,o){let i={from:"matemplate",to:"macontent",type:e,msg:t};i=JSON.parse(JSON.stringify(i)),this.ifr[o]&&this.ifr[o].contentWindow.postMessage(i,"*")}sendPostMessageToDesc(e,t,o){let i={from:"matemplate",to:"macontent",type:e,msg:t};i=JSON.parse(JSON.stringify(i)),this.ifr_desc[o]&&this.ifr_desc[o].contentWindow.postMessage(i,"*")}chanageBackColor(e,t,o){if(!e)return;const i={bgColor:Object.assign({},e)};o?this.sendPostMessageToDesc("changeBGStyle",i,t):this.sendPostMessage("changeBGStyle",i,t)}initContent(){if(this._curIdx<0)return;const e=this.props.actions.getData().quizs,t=this.quizResult&&this.quizResult.length>0?this.quizResult[this._curIdx].contentSeq:-1;if(this._curIdx<e.length){let o={idx:this._curIdx,quizmode:"ip",isTeacher:!1,content:e[d.findIndex(e,{seq:t})]};this.sendPostMessage("init",o,this._curIdx)}}initContentAll(){const e=this.props.actions.getData().quizs;if(this.quizResult&&this.quizResult.length>0)for(let t=0;t<this.quizResult.length;t++){let o={idx:t,quizmode:"ip",isTeacher:!1,content:e[d.findIndex(e,{seq:this.quizResult[t].contentSeq})]};this.sendPostMessage("init",o,t)}}completeContent(){const e=this.props.actions.getData().quizs,t=this.quizResult&&this.quizResult.length>0?this.quizResult[this._curIdx].contentSeq:-1;let o={idx:this._curIdx,quizmode:"ip",isTeacher:!1,content:e[d.findIndex(e,{seq:t})]};this.sendPostMessage("completed",o,this._curIdx)}completeContentAll(){const e=this.props.actions.getData().quizs;if(this.quizResult&&this.quizResult.length>0)for(let t=0;t<this.quizResult.length;t++){let o={idx:t,quizmode:"ip",isTeacher:!1,content:e[d.findIndex(e,{seq:this.quizResult[t].contentSeq})]};this.sendPostMessage("completed",o,t)}}componentWillReceiveProps(e){if(this.props.checkedList!==e.checkedList){if(e.checkedList.length>0&&e.checkedList){for(;this.ifr.length>0;)this.ifr.pop();for(;this.quizResult.length>0;)this.quizResult.pop();for(;this._resultShowing.length>0;)this._resultShowing.pop();const t=this.props.actions.getData().quizs;for(let o=0;o<t.length;o++)if(e.checkedList[o]){let e=[];t[o].answers.map(t=>{e.push({choicedIdx:[],choicedValue:[],correct:!1,completed:!1})}),this.quizResult.push({studentid:a.App.student?a.App.student.id:"",contentSeq:t[o].seq,contentAnswers:t[o].answers,userChoices:e,correct:!1,tryCnt:0,completed:!1,url:t[o].url+"?key="+(new Date).toISOString(),desc:t[o].desc+"?key="+(new Date).toISOString(),starttime:(new Date).getTime(),endtime:(new Date).getTime()}),this._resultShowing.push(!1)}}const t=this.props.actions.getData().quizs;for(let e=0;e<t.length;e++)this._result[e]={quizSeq:t[e].seq,correct:!1,tryCnt:0,compelete:!1,qnumber:t[e].qnumber,quizKind:t[e].quizKind,mainSeq:t[e].mainSeq?t[e].mainSeq:0}}4===this._prog&&1===e.checkProg&&(this._prog=1,this._curIdx=0,this._focusEnd=!1,this._swiper&&(this._swiper.update(),this._swiper.slideTo(this._curIdx,0)))}componentDidUpdate(e){if(this.props.view&&!e.view)this._curIdx=0,this._prog=1,this._viewAlert=!1,this._viewNewAlertMsg="",this._viewSolution=!1,this._focusEnd=!1,this._swiper&&(this._swiper.update(),this._swiper.slideTo(this._curIdx,0));else if(!this.props.view&&e.view){this._viewAlert=!1,this._viewNewAlertMsg="",this._viewSolution=!1;const e=this.props.actions.getData().quizs;for(let t=0;t<e.length;t++)this._result[t]={quizSeq:e[t].seq,correct:!1,tryCnt:0,compelete:!1,qnumber:e[t].qnumber,quizKind:e[t].quizKind,mainSeq:e[t].mainSeq?e[t].mainSeq:0}}this.props.checkProg!==e.checkProg&&(4===this.props.checkProg&&4!==this._prog?(this._viewAlert=!0,this._focusEnd=!0):this.props.view&&e.view&&e.checkProg>=3&&1===this.props.checkProg&&(this._focusEnd=!1,this.completeContentAll(),this.initContentAll()))}render(){const{view:e,state:t,actions:o}=this.props;let i=[];this._result.map((e,t)=>{this.props.checkedList.length>t&&this.props.checkedList[t]&&i.push(e)});let s=this._curIdx>-1&&this._curIdx<i.length&&i[this._curIdx].compelete||4===this._prog&&this.props.checkProg>=3;return n.createElement("div",{className:"s_independent_practice",style:{display:e?void 0:"none"}},n.createElement(f.MAHeader,{view:this.props.view,type:"",isStudent:!0,isStep:!1,quizIdx:this._curIdx,onClickSubmitItem:this.clickSubmitItemofQuizList,headerResult:i,onClickIdx:this.clickIdx,active:this.props.state.active}),n.createElement("div",{id:"contentWrap",className:"contentWrap"},n.createElement(b,Object.assign({ref:this._refSwiper},v),this.quizResult.map((e,t)=>n.createElement("div",{key:"q_"+t,className:1===this.props.checkProg?"swiper-no-swiping":""},n.createElement("iframe",{src:e.url+"&idx="+t,style:{display:this._viewSolution?"none":""},ref:e=>{e&&(this.ifr[t]=e)},onLoad:this.onIfmLoaded.bind(this,t)}),n.createElement("iframe",{src:e.desc,style:{display:this._viewSolution?"":"none"},ref:e=>{e&&(this.ifr_desc[t]=e)},onLoad:this.onIfmDescLoaded.bind(this,t)})))),n.createElement("button",{className:"btn_solution",onClick:this.showSolution,style:{display:s&&!this._viewSolution?"block":"none"}}),n.createElement("button",{className:"btn_problem",onClick:this.showProblem,style:{display:s&&this._viewSolution?"block":"none"}})),n.createElement(m.NewSayPopup,{view:this._typeSayPop>0,delay:1800,type:this._typeSayPop,onComplete:this._onCompletedSayPop}),n.createElement("div",{className:"dim_control",style:{display:this._typeSayPop>0?"":"none"}}),n.createElement("div",{className:"navi_left",style:{display:this.quizResult.length>1?"":"none"}},1===this.props.state.checkProg&&n.createElement(h.ToggleBtn,{className:"left",disabled:!(this._curIdx>0&&this._resultShowing[this._curIdx-1]),onClick:this._onPrev}),this.props.state.checkProg>=3&&n.createElement(h.ToggleBtn,{className:"left",disabled:0===this._curIdx,onClick:this._onPrev})),n.createElement("div",{className:"navi_right",style:{display:this.quizResult.length>1?"":"none"}},1===this.props.state.checkProg&&n.createElement(h.ToggleBtn,{className:"right",disabled:!(this._curIdx<this._resultShowing.length-1&&this._resultShowing[this._curIdx]),onClick:this._onNext}),this.props.state.checkProg>=3&&n.createElement(h.ToggleBtn,{className:"right",disabled:this._curIdx>=i.length-1,onClick:this._onNext})),n.createElement(g.WarningPopup,{view:this._viewAlert,type:0,button:!1,delay:3e3,onComplete:this._onCompletedAlertPop}),n.createElement(y.AlertPopup,{view:""!==this._viewNewAlertMsg,msg:this._viewNewAlertMsg,onClose:this._onCloseNewAlertPop,onOk:this._onCloseNewAlertPop,isSingle:!0}),n.createElement(p.default,{isVisiblePenTool:this.props.isVisiblePenTool,view:e&&this._curIdx>-1&&4!==this._prog,type:"pad",isRetry:this.retry,sended:!0,originY:0,onSend:this._onSend}))}};i([c.observable],k.prototype,"_curIdx",void 0),i([c.observable],k.prototype,"retry",void 0),i([c.observable],k.prototype,"_prog",void 0),i([c.observable],k.prototype,"_resultShowing",void 0),i([c.observable],k.prototype,"_typeSayPop",void 0),i([c.observable],k.prototype,"quizResult",void 0),i([c.observable],k.prototype,"_viewAlert",void 0),i([c.observable],k.prototype,"_viewNewAlertMsg",void 0),i([c.observable],k.prototype,"_viewSolution",void 0),i([c.observable],k.prototype,"_result",void 0),i([c.observable],k.prototype,"ifr",void 0),i([c.observable],k.prototype,"ifr_desc",void 0),i([c.observable],k.prototype,"_focusEnd",void 0),k=i([r.observer],k),t.default=k},function(e,t,o){"use strict";var i=this&&this.__decorate||function(e,t,o,i){var s,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(r=(n<3?s(r):n>3?s(t,o,r):s(t,o))||r);return n>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(t,"__esModule",{value:!0});const s=o(0),n=o(2),r=o(3),c=o(54),a=o(9);let l=class extends s.Component{constructor(e){super(e),this.m_btnH=0,this.m_max=0,this.m_sy=-1,this.m_vy=-1,this.m_time=-1,this.m_bSend=!1,this.m_state={y:0,alpha:1,tDur:0,aDur:0,isOn:!1,disabled:!1},this._ref=e=>{if(this.m_max>0||!e)return;e.setAttribute("touch-action","none");const t=window.getComputedStyle(e),o=a.nteFloat(t.height,0),i=a.nteFloat(t.bottom,0);o>0&&(this.m_btnH=o,"pad"===this.props.type?this.m_max=i-o-35:this.m_max=o+i+10,this.props.view||(this.m_state.y=this.m_max))},this._down=e=>{this.m_state.isOn||this.m_state.disabled||void 0!==this.props.disable&&this.props.disable||(this.m_state.y=this.props.originY,this.m_state.alpha=1,this.m_state.tDur=0,this.m_state.aDur=0,this.m_state.isOn=!0,this.m_vy=0,this.m_time=Date.now())},this._start=(e,t)=>{this.m_sy=t.y,this.m_bSend=!0},this._drag=(e,t)=>{if(!this.m_state.isOn||this.m_state.disabled)return;let o=t.y-this.m_sy;"teacher"===this.props.type?(t.deltaY<-1?this.m_bSend=!1:t.deltaY>=0&&(this.m_bSend=!0),o<0&&(o=0)):(t.deltaY>1?this.m_bSend=!1:t.deltaY<=0&&(this.m_bSend=!0),o>0&&(o=0)),!1===this.props.preventDrag&&(this.m_state.y=o+this.props.originY);const i=Date.now();this.m_vy=t.deltaY/(i-this.m_time),this.m_time=i},this._stop=(e,t)=>{if(this.m_state.isOn&&!this.m_state.disabled)if(this.m_bSend){let e=.5*this.m_vy*1e3,o=t.y-this.m_sy;"teacher"===this.props.type?(e<this.m_btnH?e=this.m_btnH:e>4*this.m_btnH&&(e=4*this.m_btnH),o<0&&(o=0)):(-1*e<this.m_btnH?e=-this.m_btnH:-1*e>4*this.m_btnH&&(e=-4*this.m_btnH),o>0&&(o=0)),this.m_state.tDur=.5,this.m_state.aDur=.5,this.m_state.alpha=0,this.m_state.y=o+e+this.props.originY,this.props.onSend()}else this.m_state.isOn=!1,this.m_state.tDur=.3,this.m_state.aDur=0,this.m_state.y=this.props.originY},e.sended?(this.m_state.alpha=0,this.m_state.disabled=!0):e.view?(this.m_state.y=e.originY,this.m_state.alpha=1,this.m_state.tDur=.3,this.m_state.aDur=0,this.m_state.isOn=!1,this.m_state.disabled=!1):e.view||(this.m_state.y=e.originY,this.m_state.alpha=0,this.m_state.tDur=.3,this.m_state.aDur=.3,this.m_state.isOn=!1,this.m_state.disabled=!0)}componentWillReceiveProps(e){e.sended&&!this.props.sended?(this.m_state.alpha=0,this.m_state.disabled=!0):e.view&&!this.props.view?(this.m_state.y=e.originY,this.m_state.alpha=1,e.preventUpWhenView?(this.m_state.tDur=0,this.m_state.aDur=.3):(this.m_state.tDur=.3,this.m_state.aDur=0),this.m_state.isOn=!1,this.m_state.disabled=!1):!e.view&&this.props.view?(this.m_state.y=this.m_max,this.m_state.alpha=0,this.m_state.tDur=.3,this.m_state.aDur=.3,this.m_state.isOn=!1,this.m_state.disabled=!0):!e.view||e.sended||this.m_state.isOn||e.originY===this.props.originY||(this.m_state.y=e.originY,this.m_state.tDur=.3,this.m_state.aDur=0),!this.props.isRetry&&e.isRetry&&(this.m_state.y=e.originY,this.m_state.alpha=1,e.preventUpWhenView?(this.m_state.tDur=0,this.m_state.aDur=.3):(this.m_state.tDur=.3,this.m_state.aDur=0),this.m_state.isOn=!1,this.m_state.disabled=!1)}render(){const{y:e,tDur:t,aDur:o,alpha:i,isOn:n,disabled:r}=this.m_state;let a={transform:`translateY(${e}px)`,transition:`transform ${t}s, opacity ${o/2}s ${o/2}s`,opacity:i,pointerEvents:r||!this.props.view?"none":"auto"};this.props.preventDrag&&(a={});const l=[];return"pad"===this.props.type?l.push("fel_toteacher"):l.push("fel_topad"),n&&l.push("on"),this.props.isVisiblePenTool&&this.props.isVisiblePenTool&&l.push("up"),s.createElement(c.DraggableCore,{onMouseDown:this._down,onDrag:this._drag,onStart:this._start,onStop:this._stop},s.createElement("button",{ref:this._ref,className:l.join(" ")+(this.props.className?" "+this.props.className:""),style:a},s.createElement("span",{className:"revise"+(this.props.isRevise?" on":""),style:{display:this.props.isRevise?"":"none"}})))}};i([n.observable],l.prototype,"m_state",void 0),l=i([r.observer],l),t.default=l},function(e,t){e.exports=ReactDraggable},function(e,t,o){"use strict";var i=this&&this.__decorate||function(e,t,o,i){var s,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(r=(n<3?s(r):n>3?s(t,o,r):s(t,o))||r);return n>3&&r&&Object.defineProperty(t,o,r),r},s=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))((function(s,n){function r(e){try{a(i.next(e))}catch(e){n(e)}}function c(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,c)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NewSayPopup=void 0;const n=o(0),r=o(2),c=o(3),a=o(5),l=o(7),u=o(4),d=o(6);let p=class extends n.Component{constructor(){super(...arguments),this.showopen=!1,this._innerType=0,this._name="great",this._onComplete=()=>s(this,void 0,void 0,(function*(){yield l.wait(500),this.props.onComplete(),!0!==this.props.hideTeaching&&d.showSMathKit(!0)}))}componentDidUpdate(e){if(this.props.view&&!e.view){let e=this.props.delay;e||(e=800),this.props.type<5?this._innerType=Math.floor(4*Math.random()+1):this._innerType=this.props.type,1===this._innerType?this._name="great":2===this._innerType?this._name="awesome":3===this._innerType?this._name="perfect":4===this._innerType?this._name="excellent":5===this._innerType?this._name="bonus":6===this._innerType?this._name="sorry":7===this._innerType&&(this._name="retry"),a.delay(()=>{this.showopen=!1,this._onComplete()},2e3),a.delay(()=>{this.showopen=!0,!0!==this.props.hideTeaching&&d.showSMathKit(!1),this.props.type<5?u.App.pub_playgreat():6===this.props.type?u.App.pub_playsorry():7===this.props.type&&u.App.pub_playretry()},500)}else!this.props.view&&e.view&&(this._name="great",this._innerType=0)}render(){return n.createElement("div",{className:"msg_rst"+(this.showopen?" open":""),style:{display:this.props.view?"":"none"}},n.createElement("div",{className:"imgtxt "+this._name}),n.createElement("div",{className:"twinkle"},n.createElement("span",null),n.createElement("span",null),n.createElement("span",null),n.createElement("span",null),n.createElement("span",null),n.createElement("span",null),n.createElement("span",null),n.createElement("span",null)))}};i([r.observable],p.prototype,"showopen",void 0),i([r.observable],p.prototype,"_innerType",void 0),i([r.observable],p.prototype,"_name",void 0),p=i([c.observer],p),t.NewSayPopup=p},function(e,t,o){"use strict";var i=this&&this.__decorate||function(e,t,o,i){var s,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(r=(n<3?s(r):n>3?s(t,o,r):s(t,o))||r);return n>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.MAHeader=void 0;const s=o(0),n=o(2),r=o(3),c=o(5),a=o(20).default,l=o(4);let u=class extends s.Component{constructor(e){super(e),this.clickable=!0,this.isMore=!1,this.active=[],this._soption={direction:"horizontal",observer:!0,slidesPerView:"auto",freeMode:!0,mousewheel:!0,noSwiping:!1,followFinger:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,hide:!1}},this._clickSubmitTitle=e=>{this.props.onClickSubmitTile&&this.clickable&&this.props.onClickSubmitTile(e)},this._onClick=e=>{switch(e){case"1":if(this.props.quizResult&&this.props.quizResult.length>0&&this.props.quizResult[this.props.quizIdx].heart2<1)return void(this.clickable=!1);break;case"2":if(this.props.quizResult&&this.props.quizResult.length>0&&this.props.quizResult[this.props.quizIdx].heart1<1)return void(this.clickable=!1);break;case"3":if(this.props.quizResult&&this.props.quizResult.length>0&&this.props.quizResult[this.props.quizIdx].heart0<1)return void(this.clickable=!1);break;case"4":if(this.props.quizResult&&this.props.quizResult.length>0&&this.props.quizResult[this.props.quizIdx].nosubmit<1)return void(this.clickable=!1)}this.clickable=!0,this.props.onClickSubmitItem&&this.props.onClickSubmitItem(e)},this._swiper=null,this._refSwiper=e=>{if(this._swiper||!e)return;const t=e.swiper;t.on("transitionStart",()=>{}),t.on("transitionEnd",()=>{}),this._swiper=t},this.onClickIdx=(e,t)=>{this.props.onClickIdx&&"notyet"!==t&&(l.App.pub_playBtnTab(),this.props.onClickIdx(e))}}componentDidUpdate(e){this.props.view&&!e.view?(c.delay(()=>{this._swiper&&(this._swiper.slideTo(0,0),this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize())},300),this.clickable=!0):!this.props.view&&e.view,this.props.quizIdx!==e.quizIdx&&this.props.quizIdx>=8&&this.props.headerResult&&(this.props.headerResult[this.props.headerResult.length-1].compelete||this._swiper&&(this._swiper.update(),this._swiper.slideTo(this.props.quizIdx-7,0)))}render(){const{view:e,isStep:t,isStudent:o,quizIdx:i,quizResult:n,headerResult:r,pageCnt:l,type:u,submitType:d}=this.props;let p=!1;n&&n.length>0&&(p=!(n[i].submitusers<=0));let h="";if(o)r&&r.length>0&&i>-1&&(r.length>=10?this.isMore=!0:this.isMore=!1,h=r[i].quizKind>0?r[i].qnumber+"+":r[i].qnumber+"",r[r.length-1].compelete&&c.delay(()=>{this._swiper&&(this._swiper.slideTo(0,0),this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize())},600));else if(this.props.quizResult&&this.props.quizResult.length>0){const e=this.props.quizResult[this.props.quizIdx];h=e.quizKind&&e.quizKind>0?e.qnumber+"+":e.qnumber+""}else h=this.props.quizIdx+1+"";return s.createElement("div",{className:"topHeader"+("concept_summary"===u||"learning_object"===u?" summary":"")+(o?" student":""),style:{display:e?"":"none"}},s.createElement("div",{className:"number",style:{display:"learning_object"===u||o?"none":""}},s.createElement("span",null,h)),!o&&!t&&s.createElement("div",{className:"result_score",style:{display:p||this.props.retryList&&this.props.retryList.length>i&&this.props.retryList[i]?"":"none"}},s.createElement("div",{onClick:this._clickSubmitTitle.bind(this,i)},s.createElement("div",{className:"num first"+(n&&n.length>0&&n[i].heart2>0?" on":""),onClick:this._onClick.bind(this,"1")},s.createElement("span",null,n&&n.length>0?n[i].heart2:0)),s.createElement("div",{className:"num second"+(n&&n.length>0&&n[i].heart1>0?" on":""),onClick:this._onClick.bind(this,"2")},s.createElement("span",null,n&&n.length>0?n[i].heart1:0)),s.createElement("div",{className:"num wrong"+(n&&n.length>0&&n[i].heart0>0?" on":""),onClick:this._onClick.bind(this,"3")},s.createElement("span",null,n&&n.length>0?n[i].heart0:0)),s.createElement("div",{className:"num unsubmission notyet"+(n&&n.length>0&&n[i].nosubmit>0?" on":""),onClick:this._onClick.bind(this,"4")},s.createElement("span",null,n&&n.length>0?n[i].nosubmit:0)))),o&&s.createElement(s.Fragment,null,s.createElement("div",{className:"assessment"},s.createElement("div",{className:"pagination"},s.createElement("button",{className:"btn_prev"}),s.createElement("button",{className:"btn_next on"})),s.createElement("div",{className:"numbers"},s.createElement("button",{className:"num"},s.createElement("span",null,"1")),s.createElement("button",{className:"num"},s.createElement("span",null,"2")),s.createElement("button",{className:"num"},s.createElement("span",null,"3")),s.createElement("button",{className:"num"},s.createElement("span",null,"4")),s.createElement("button",{className:"num skip_none"},s.createElement("span",null,"5")),s.createElement("button",{className:"num"},s.createElement("span",null,"6")),s.createElement("button",{className:"num"},s.createElement("span",null,"7")),s.createElement("button",{className:"num skip_exist"},s.createElement("span",null,"8")),s.createElement("button",{className:"num now"},s.createElement("span",null,"9")),s.createElement("button",{className:"num before"},s.createElement("span",null,"10")))),s.createElement("div",{className:"result_score"+(o?" student":"")+(this.isMore?" more":"")},s.createElement("span",{className:"worksheet",style:{display:"none"}},"Worksheet"),s.createElement(a,Object.assign({ref:this._refSwiper},this._soption),r&&r.length>0&&r.map((e,t)=>{let o="",n="",c="";1===e.tryCnt&&e.correct?n="first":2===e.tryCnt&&e.correct?n="second":e.tryCnt>1&&!1===e.correct&&(n="wrong"),r[r.length-1].compelete?(o=i===t?"":"past",0===e.tryCnt&&!1===e.correct&&(n="unsubmission")):(t<i&&e.tryCnt>0&&(o="past"),i!==t||e.compelete?!(i<t)||e.compelete||this.props.active&&this.props.active[t]?i===t&&e.compelete&&(o=""):o="notyet":o=""),c=i===t?"active":"";let a=[o];a.push(n),a.push(c);let l="";return l=e.quizKind>0?e.qnumber+"+":e.qnumber+"",s.createElement("div",{className:"num "+a.join(" "),key:"s_"+t,onClick:this.onClickIdx.bind(this,t,o)},s.createElement("span",{className:"txt"},l),s.createElement("span",{className:"ico"}))})))),s.createElement("div",{className:"progress",style:{display:t?"":"none"}},s.createElement("ul",null,s.createElement("li",{className:"a on"},s.createElement("span",{className:"tit1"},"Understand"),s.createElement("div",{className:"tit2"},s.createElement("span",{className:"a"},"100%"),s.createElement("span",{className:"b"},"75%"))),s.createElement("li",{className:"ab on"},s.createElement("span",{className:"tit1"},"How to solve?"),s.createElement("div",{className:"tit2"},s.createElement("span",{className:"a"},"100%"),s.createElement("span",{className:"b"},"75%"))),s.createElement("li",{className:"ab on"},s.createElement("span",{className:"tit1"},"Step 1"),s.createElement("div",{className:"tit2"},s.createElement("span",{className:"a"},"100%"),s.createElement("span",{className:"b"},"75%"))),s.createElement("li",{className:"ab"},s.createElement("span",{className:"tit1"},"Step 2"),s.createElement("div",{className:"tit2"},s.createElement("span",{className:"a"},"100%"),s.createElement("span",{className:"b"},"75%"))),s.createElement("li",{className:"ab on"},s.createElement("span",{className:"tit1"},"Step 3"),s.createElement("div",{className:"tit2"},s.createElement("span",{className:"a"},"100%"),s.createElement("span",{className:"b"},"75%"))))))}};i([n.observable],u.prototype,"active",void 0),u=i([r.observer],u),t.MAHeader=u},function(e,t,o){"use strict";function i(e,t){const o=/[^a-zA-Z]/g,i=/[^0-9]/g;var s=e.replace(o,""),n=t.replace(o,"");if(s===n){var r=parseInt(e.replace(i,""),10),c=parseInt(t.replace(i,""),10);return r===c?0:r>c?1:-1}return s>n?1:-1}function s(e){for(var t=0,o=e.length,i=o;(i-=1)>-1;)t+=(e.charCodeAt(i)-64)*Math.pow(26,o-1-i);return t}function n(e){var t=e%26,o=e/26|0,i=t?String.fromCharCode(64+t):(o--,"Z");return o?n(o)+i:i}Object.defineProperty(t,"__esModule",{value:!0}),t.answercheck=void 0,t.answercheck=function(e,t){if(console.log("=========> answercheck result",e),console.log("=========> answercheck msg",t),!t||e.length<0)return-1;const o=e;if(!o)return-1;if(0===t.basetype&&1===t.subtype){console.log("=========> answercheck gap2",o.contentAnswers);let e=[],i=[];return o.contentAnswers.map((o,s)=>{o.basetype===t.basetype&&o.subtype===t.subtype&&(e.push(o),i.push(s))}),e.map((e,s)=>{let n=i[s];const r=o.userChoices[n];if(2===e.matchType){r.correct=!1;for(let o=0;o<e.answers.length;o++)e.answers[o]===t.choicedValue[s]&&(r.correct=!0)}else e.answers[0]===t.choicedValue[s]?r.correct=!0:r.correct=!1;r.choicedIdx=t.choicedIdx[s],r.choicedValue=t.choicedValue[s],r.completed=!0}),i.length>0?i[i.length-1]:-1}if(0===t.basetype&&2===t.subtype){console.log("=========> answercheck gap3",o.contentAnswers);let e=[],i=[];return o.contentAnswers.map((o,s)=>{o.basetype===t.basetype&&o.subtype===t.subtype&&(e.push(o),i.push(s))}),e.map((e,s)=>{let n=i[s];const r=o.userChoices[n];if(2===e.matchType){r.correct=!1;for(let o=0;o<e.answers.length;o++)JSON.stringify(e.answers[o])===JSON.stringify(t.choicedValue[s])&&(r.correct=!0)}else JSON.stringify(e.answers)===JSON.stringify(t.choicedValue[s])?r.correct=!0:r.correct=!1;r.choicedIdx=t.choicedIdx[s],r.choicedValue=t.choicedValue[s],r.completed=!0}),i.length>0?i[i.length-1]:-1}let r=o.contentAnswers.findIndex(e=>e.basetype===t.basetype&&e.subtype===t.subtype);if(r<0)return-1;console.log("=========> answercheck answer idx",r,o.contentAnswers[r]);const c=o.contentAnswers[r],a=o.userChoices[r];if(!a)return-1;if(0===t.basetype&&0===t.subtype){if(console.log("=========> answercheck gap",c),2===c.matchType){let e=t.choicedValue.join(",");console.log("=========> answercheck gap choices",e);let o=!1;for(let t=0;t<c.answers.length;t++)if(c.answers[t]===e){o=!0;break}a.correct=o}else if(1===c.matchType){if(console.log("=========> answercheck gap",c.answers.length,t.choicedValue.length),c.answers.length!==t.choicedValue.length)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!1,-2;let e=!0;for(let o=0;o<c.answers.length;o++)if(c.answers[o]!==t.choicedValue[o]){e=!1;break}a.correct=e}a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck gap",c,a)}else if(1===t.basetype&&0===t.subtype){if(2===c.matchType){const e=c.answers.findIndex(e=>e+""===t.choicedValue[0]);a.correct=!(e<0)}else 1===c.matchType&&(console.log("=========> answercheck choice",c.answers[0],t.choicedValue[0]),c.answers[0]+""===t.choicedValue[0]?a.correct=!0:a.correct=!1);a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck choice",c,a)}else if(1===t.basetype&&1===t.subtype){if(2===c.matchType){let e=t.choicedValue.sort();console.log("=========> answercheck choice/multi compare2",e,e.join());const o=c.answers.findIndex(t=>t===e.join());a.correct=!(o<0)}else if(1===c.matchType){let e=c.answers.slice().sort(),o=t.choicedValue.sort();console.log("=========> answercheck choice/multi compare",e,o),JSON.stringify(e)===JSON.stringify(o)?a.correct=!0:a.correct=!1}a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck choice/multi",c,a)}else if(1===t.basetype&&2===t.subtype){if(2===c.matchType){for(let e=0;e<c.answers.length;e++){if(-1==c.answers[e].indexOf(","))return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,-1}for(let e=0;e<c.answers.length;e++){let o=c.answers[e].split(",").sort(),i=t.choicedValue.sort();if(console.log("=========> answercheck choice/group match one compare",o,i),console.log("JSON.stringify(ans),JSON.stringify(cho)",JSON.stringify(o),JSON.stringify(i)),JSON.stringify(o)===JSON.stringify(i)){a.correct=!0;break}a.correct=!1}}else if(1===c.matchType){if(-1==c.answers[0].indexOf(","))return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,-1;let e=c.answers[0].split(",").sort(),o=t.choicedValue.sort();console.log("=========> answercheck choice/group compare",e,o),console.log("JSON.stringify(ans),JSON.stringify(cho)",JSON.stringify(e),JSON.stringify(o)),JSON.stringify(e)===JSON.stringify(o)?a.correct=!0:a.correct=!1}console.log("=========> answercheck choice/group userChoice.correct",a.correct),a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck choice/group",c,a)}else if(2===t.basetype){if(2===c.matchType&&5===c.subtype){const e=t.choicedValue,o=c.answers;console.log("copy group math one choicedValue",e),console.log("copy group math one answers",o);const i=Array.from(o),s=[];i.forEach(e=>{let t=[];-1!=e.indexOf(",")?t=e.split(","):t.push(e),s.push(t)}),console.log("copy group math one arrGroupAnswers",s);let n=!1;for(let t=0;t<s.length;t++)if(console.log("copy group math one","arrGroupAnswers[i]",JSON.stringify(s[t]),"choicedValue",JSON.stringify(e)),JSON.stringify(s[t])==JSON.stringify(e)){n=!0;break}a.correct=n}else if(2===c.matchType&&4===c.subtype){const e=t.choicedValue.length,o=c.answers.length;console.log();const i=Math.round(o/e);let s=[];for(let t=0;t<i;t++){let i=e*t,n=e*(t+1);n>o&&(n=o),s.push(c.answers.slice(i,n))}console.log("===> answercheck dragdrop tmp",s);let n=!1;for(let e=0;e<s.length;e++){let o=!0;for(let i=0;i<s[e].length;i++){let n=s[e][i].split(",").sort(),r=t.choicedValue[i].split(",").sort();if(n.length!==r.length){o=!1;break}if(JSON.stringify(n)!==JSON.stringify(r)){o=!1;break}}if(o){n=!0;break}}a.correct=n}else if(2===c.matchType&&1===t.subtype){let e=!1;for(let o=0;o<c.answers.length;o++){let i=c.answers[o].split(","),s=t.choicedValue[0].split(",");if(i.length!==s.length)break;if(console.log("JSON.stringify(answerArr)",JSON.stringify(i)),console.log("JSON.stringify(choicedValue)",JSON.stringify(s)),JSON.stringify(i)===JSON.stringify(s)){e=!0;break}}a.correct=e}else if(2===c.matchType&&4!==t.subtype){let e=!1;for(let o=0;o<c.answers.length;o++){let i=c.answers[o].split(",");if(i.length!==t.choicedValue.length)break;if(console.log("===> answercheck dragdrop check",t.subtype,c.matchType,o,i,t.choicedValue),JSON.stringify(i)===JSON.stringify(t.choicedValue)){e=!0;break}}a.correct=e}else if(1===c.matchType){if(console.log("=========> answercheck dragdrop",t.subtype,c.matchType,c.answers.length,t.choicedValue.length),console.log("=========> answers.length/",c.answers.length,t.choicedValue.length),c.answers.length!==t.choicedValue.length)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!1,-2;let e=!0;for(let o=0;o<c.answers.length;o++){console.log("=========> answercheck dragdrop",t.subtype,c.matchType,o,c.answers[o],t.choicedValue[o],c.answers[o]===t.choicedValue[o]);let i=c.answers[o].split(",").sort();if(i.length>1){let s=t.choicedValue[o].split(",").sort();if(i.length!==s.length){e=!1;break}if(i.join()!==s.join()){e=!1;break}}else if(c.answers[o]!==t.choicedValue[o]){e=!1;break}}a.correct=e}a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck dragdrop",t.subtype,c.matchType,c,a)}else if(3===t.basetype&&0===t.subtype){if(3===c.matchType);else if(2===c.matchType);else if(1===c.matchType){if(console.log("=========> answercheck shade",c.answers.length,t.choicedValue.length),c.answers.length!==t.choicedValue.length)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!1,-2;let e=!0;for(let o=0;o<c.answers.length;o++){console.log("=========> answercheck shade",o,c.answers[o],t.choicedValue[o],c.answers[o]===t.choicedValue[o]);let i=c.answers[o].split(",").sort();if(i.length>1){let s=t.choicedValue[o].split(",").sort();if(i.length!==s.length){e=!1;break}if(i.join()!==s.join()){e=!1;break}}else if(c.answers[o]!==t.choicedValue[o]){e=!1;break}}a.correct=e}a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck shade",c,a)}else if(3===t.basetype&&1===t.subtype){if(3===c.matchType){let e=!0;if(0===t.choicedValue.length)e=!1;else{let o=!1;if(t.choicedValue.length>1)for(let e=1;e<t.choicedValue.length;e++)if(t.choicedValue[0]===t.choicedValue[e]){o=!0;break}if(o)e=!1;else for(let o=0;o<t.choicedValue.length;o++){let i=t.choicedValue[o].split(",");if(c.answers.length!==i.length){e=!1;break}if(c.answers.slice().sort().join(",")===t.choicedValue[o]){e=!1;break}}}a.correct=e}else if(2===c.matchType);else if(1===c.matchType){if(console.log("=========> answercheck shade",c.answers.length,t.choicedValue.length),c.answers.length!==t.choicedValue.length)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!1,-2;let e=!0;for(let o=0;o<c.answers.length;o++)if(console.log("contentanswer.answers[i]",o,c.answers[o]),console.log("msg.choicedValue[i]",o,t.choicedValue[o]),c.answers[o]!==t.choicedValue[o]){e=!1;break}a.correct=e}a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck shade",c,a)}else if(4===t.basetype&&0===t.subtype){if(2===c.matchType){let e=t.choicedValue;console.log("=========> answercheck dragadd",e,e.join());const o=c.answers.findIndex(t=>t===e.join());a.correct=!(o<0)}else if(1===c.matchType){if(console.log("=========> answercheck dragadd",c.answers.length,t.choicedValue.length),c.answers.length!==t.choicedValue.length)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!1,-2;let e=!0;for(let o=0;o<c.answers.length;o++)if(console.log("=========> answercheck dragadd",o,c.answers[o],t.choicedValue[o],c.answers[o]!==t.choicedValue[o]),c.answers[o]!==t.choicedValue[o]){e=!1;break}a.correct=e}a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck dragadd",c,a)}else if(4===t.basetype&&2===t.subtype){if(2===c.matchType){let e=t.choicedValue;console.log("=========> answercheck tally chart",e,e.join());const o=c.answers.findIndex(t=>t===e.join());a.correct=!(o<0)}else if(1===c.matchType){if(console.log("=========> answercheck tally chart",c.answers.length,t.choicedValue.length),c.answers.length!==t.choicedValue.length)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!1,-2;let e=!0;for(let o=0;o<c.answers.length;o++)if(console.log("=========> answercheck tally chart",o,c.answers[o],t.choicedValue[o],c.answers[o]!==t.choicedValue[o]),c.answers[o]!==t.choicedValue[o]){e=!1;break}a.correct=e}a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck tally chart",c,a)}else if(4===t.basetype&&3===t.subtype||0===t.basetype&&3===t.subtype){if(2===c.matchType){let e=t.choicedValue;console.log("=========> answercheck gapplus",e,e.join());const o=c.answers.findIndex(t=>t===e.join());a.correct=!(o<0)}else if(1===c.matchType){if(console.log("=========> answercheck gapplus",c.answers.length,t.choicedValue.length),c.answers.length!==t.choicedValue.length)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!1,-2;let e=!0;for(let o=0;o<c.answers.length;o++)if(console.log("=========> answercheck gapplus",o,c.answers[o],t.choicedValue[o],c.answers[o]!==t.choicedValue[o]),c.answers[o]!==t.choicedValue[o]){e=!1;break}a.correct=e}if(a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,4===t.basetype){let e=o.contentAnswers.findIndex(e=>0===e.basetype&&3===e.subtype);if(e<0)return a.completed=!1,-2;const t=o.userChoices[e];if(t&&t.completed&&t.correct&&JSON.stringify(a.choicedValue)!==JSON.stringify(t.choicedValue))return console.log("=========> final compare1 contentanswer.matchType",c.matchType),a.correct=!1,r}else{let e=o.contentAnswers.findIndex(e=>4===e.basetype&&3===e.subtype);if(e<0)return a.completed=!1,-2;const t=o.userChoices[e];if(t&&t.completed&&t.correct&&JSON.stringify(a.choicedValue)!==JSON.stringify(t.choicedValue))return console.log("=========> final compare2 contentanswer.matchType",c.matchType),a.correct=!1,r}console.log("=========> answercheck gapplus contentresult",o)}else if(5===t.basetype){if(2===c.matchType){const e=t.choicedValue.length,o=c.answers.length,i=Math.round(o/e);let s=[];console.log("===> answercheck connection len",e,o,i);for(let t=0;t<i;t++){let i=e*t,n=e*(t+1);n>o&&(n=o),s.push(c.answers.slice(i,n))}console.log("===> answercheck connection tmp",s);let n=!1;for(let e=0;e<s.length;e++){let o=!0;if(s[e].length===t.choicedValue.length){for(let i=0;i<s[e].length;i++)if(s[e][i]!==t.choicedValue[i]){o=!1;break}if(o){n=!0;break}}else o=!1}a.correct=n}else if(1===c.matchType){if(console.log("=========> answercheck connection",c.answers.length,t.choicedValue.length),c.answers.length!==t.choicedValue.length)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!1,-2;let e=!0;for(let o=0;o<c.answers.length;o++)if(console.log("=========> answercheck connection",o,c.answers[o],t.choicedValue[o],c.answers[o]!==t.choicedValue[o]),c.answers[o]!==t.choicedValue[o]){e=!1;break}a.correct=e}a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck dragadd",c,a)}else if(6===t.basetype){if(2===c.matchType){let e=!1;for(let o=0;o<c.answers.length;o++){let i=c.answers[o].split(",");if(i.length!==t.choicedValue.length)break;if(console.log("===> answercheck number line check",t.subtype,c.matchType,o,i,t.choicedValue),JSON.stringify(i)===JSON.stringify(t.choicedValue)){e=!0;break}}a.correct=e}else if(1===c.matchType){if(c.answers.length!==t.choicedValue.length)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!1,-2;console.log("=========> answercheck number line",c.answers,t.choicedValue),JSON.stringify(c.answers)===JSON.stringify(t.choicedValue)?a.correct=!0:a.correct=!1}a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck number line",c,a)}else if(7===t.basetype){if(2===c.matchType){let e=!1;for(let o=0;o<c.answers.length;o++){let i=c.answers[o].split(",");if(i.length!==t.choicedValue.length)break;if(console.log("===> answercheck picture graph check",t.subtype,c.matchType,o,i,t.choicedValue),JSON.stringify(i)===JSON.stringify(t.choicedValue)){e=!0;break}}a.correct=e}else if(1===c.matchType){if(c.answers.length!==t.choicedValue.length)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!1,-2;console.log("=========> answercheck picture graph",c.answers,t.choicedValue),JSON.stringify(c.answers)===JSON.stringify(t.choicedValue)?a.correct=!0:a.correct=!1}a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck picture graph",c,a)}else if(8===t.basetype){if(2===c.matchType){let e=!1;for(let o=0;o<c.answers.length;o++){let i=c.answers[o].split(",");if(i.length!==t.choicedValue.length)break;if(console.log("===> answercheck bar graph check",t.subtype,c.matchType,o,i,t.choicedValue),JSON.stringify(i)===JSON.stringify(t.choicedValue)){e=!0;break}}a.correct=e}else if(1===c.matchType){if(c.answers.length!==t.choicedValue.length)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!1,-2;console.log("=========> answercheck bar graph",c.answers,t.choicedValue),JSON.stringify(c.answers)===JSON.stringify(t.choicedValue)?a.correct=!0:a.correct=!1}a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck bar graph",c,a)}else if(9===t.basetype){if(2===c.matchType){let e=!1;for(let o=0;o<c.answers.length;o++){let i=c.answers[o].split(",");if(i.length!==t.choicedValue.length)break;if(console.log("===> answercheck line plot check",t.subtype,c.matchType,o,i,t.choicedValue),JSON.stringify(i)===JSON.stringify(t.choicedValue)){e=!0;break}}a.correct=e}else if(1===c.matchType){if(c.answers.length!==t.choicedValue.length)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!1,-2;console.log("=========> answercheck line plot",c.answers,t.choicedValue),JSON.stringify(c.answers)===JSON.stringify(t.choicedValue)?a.correct=!0:a.correct=!1}a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck line plot",c,a)}else if(10===t.basetype){if(2===c.matchType);else if(1===c.matchType&&0===t.subtype)console.log("=========> answercheck clock hands",Object.assign({},c.answers),t.choicedValue),console.log("arrGroupAnswers",JSON.stringify(c.answers),"/",JSON.stringify(t.choicedValue[0])),JSON.stringify(c.answers)===JSON.stringify(t.choicedValue[0])?a.correct=!0:a.correct=!1;else if(1===c.matchType&&1===t.subtype){console.log("=========> answercheck clock hands group",Object.assign({},c.answers),t.choicedValue);const e=Array.from(c.answers),o=[];e.forEach(e=>{let t=[];-1!=e.indexOf(",")?t=e.split(","):t.push(e),o.push(t)}),console.log("arrGroupAnswers",JSON.stringify(o),"/",JSON.stringify(t.choicedValue)),JSON.stringify(o)===JSON.stringify(t.choicedValue)?a.correct=!0:a.correct=!1}a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck clock hands",c,a)}else if(11===t.basetype&&0===t.subtype){if(2===c.matchType);else if(1===c.matchType){if(console.log("=========> answercheck radio",c.answers.length,t.choicedValue.length),c.answers.length!==t.choicedValue.length)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!1,-2;let e=!0;for(let o=0;o<c.answers.length;o++)if(console.log("=========> answercheck radio",o,c.answers[o],t.choicedValue[o],c.answers[o]!==t.choicedValue[o]),c.answers[o]!==t.choicedValue[o]){e=!1;break}a.correct=e}a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck dragadd",c,a)}else if(12===t.basetype&&0===t.subtype){if(2===c.matchType);else if(1===c.matchType){if(console.log("=========> answercheck checkbox",c.answers.length,t.choicedValue.length),c.answers.length!==t.choicedValue.length)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,a.correct=!1,r;let e=!0;for(let o=0;o<c.answers.length;o++)if(console.log("=========> answercheck checkbox",o,c.answers[o],t.choicedValue[o],c.answers[o]!==t.choicedValue[o]),c.answers[o]!==t.choicedValue[o]){e=!1;break}a.correct=e}a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck",c,a)}else if(13===t.basetype&&0===t.subtype){if(2===c.matchType){let e=!1;for(let o=0;o<c.answers.length;o++){let s=c.answers[o].split(",");if(s.length!==t.choicedValue.length)break;const n=s.sort(i);if(console.log("===> answercheck grid and chart check",t.subtype,c.matchType,o,s,n,t.choicedValue),JSON.stringify(n)===JSON.stringify(t.choicedValue)){e=!0;break}}a.correct=e}else if(1===c.matchType){if(console.log("=========> answercheck grid and chart",c.answers.length,t.choicedValue.length),c.answers.length!==t.choicedValue.length)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,a.correct=!1,r;let e=!0;const o=c.answers.sort(i);console.log("=========> answercheck grid and chart sorted ans",o);for(let i=0;i<o.length;i++)if(console.log("=========> answercheck grid and chart",i,o[i],t.choicedValue[i],o[i]!==t.choicedValue[i]),o[i]!==t.choicedValue[i]){e=!1;break}a.correct=e}a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck grid and chart",c,a)}else if(13===t.basetype&&1===t.subtype){if(2===c.matchType){let e=!1;if(t.choicedValue.length<2)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,a.correct=!1,r;let o=t.choicedValue.slice(0,t.choicedValue.length-1),i=t.choicedValue.slice(t.choicedValue.length-1),l=(s(i[0].substring(0,1)),parseInt(i[0].substring(1)));for(let i=0;i<c.answers.length;i++){let u=c.answers[i].split(",");if(2!==u.length)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!1,a.correct=!1,-1;let d=u[0],p=s(d.substring(0,1)),h=parseInt(d.substring(1)),m=u[1],f=s(m.substring(0,1)),_=parseInt(m.substring(1));if(isNaN(p)||isNaN(h)||isNaN(f)||isNaN(_))return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,a.correct=!1,r;let g=[];if(p===f)for(let e=h;e<=_;e++)g.push(n(p)+e);else for(let e=p;e<=f;e++)if(e==p)for(let t=h;t<=l;t++)g.push(n(e)+t);else if(e>p&&e<f)for(let t=1;t<=l;t++)g.push(n(e)+t);else if(e==f)for(let t=1;t<=_;t++)g.push(n(e)+t);if(JSON.stringify(g)===JSON.stringify(o)){e=!0;break}}a.correct=e}else if(1===c.matchType){if(console.log("=========> answercheck grid and chart 2",c.answers.length,t.choicedValue.length),2!==c.answers.length)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!1,a.correct=!1,-1;if(t.choicedValue.length<2)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,a.correct=!1,r;let e=t.choicedValue.slice(0,t.choicedValue.length-1),o=t.choicedValue.slice(t.choicedValue.length-1),i=(s(o[0].substring(0,1)),parseInt(o[0].substring(1))),l=c.answers[0],u=s(l.substring(0,1)),d=parseInt(l.substring(1)),p=c.answers[1],h=s(p.substring(0,1)),m=parseInt(p.substring(1));if(isNaN(u)||isNaN(d)||isNaN(h)||isNaN(m))return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,a.correct=!1,r;let f=[];if(u===h)for(let e=d;e<=m;e++)f.push(n(u)+e);else for(let e=u;e<=h;e++)if(e==u)for(let t=d;t<=i;t++)f.push(n(e)+t);else if(e>u&&e<h)for(let t=1;t<=i;t++)f.push(n(e)+t);else if(e==h)for(let t=1;t<=m;t++)f.push(n(e)+t);let _=!1;JSON.stringify(f)===JSON.stringify(e)&&(_=!0),a.correct=_}a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck grid and chart 2",c,a)}else if(13===t.basetype&&2===t.subtype){if(2===c.matchType){console.log("=========> answercheck grid and chart 3",c.answers,t.choicedValue[0]);const e=c.answers.findIndex(e=>e+""===t.choicedValue[0]);a.correct=!(e<0)}else if(1===c.matchType){if(console.log("=========> answercheck grid and chart 3",c.answers[0],t.choicedValue[0]),c.answers.length!==t.choicedValue.length)return a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!1,-2;c.answers[0]+""===t.choicedValue[0]?a.correct=!0:a.correct=!1}a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> answercheck grid and chart 3",c,a)}else if(14===t.basetype){console.log("=========> coordinate",c.answers,t.choicedValue);for(let e=0;e<c.answers.length;e++){let o=[],i=[],s=c.answers[e];if(0===t.subtype){if(s=s.replace(/ /gi,""),s=s.replace(/\),\(/gi,"/"),s=s.replace(/\(/gi,""),s=s.replace(/\)/gi,""),console.log("answer re",s),s.indexOf("/")){s.split("/").forEach(e=>{i.push(e)})}else i.push(s);o.push(i)}else if(1===t.subtype){if(s=s.replace(/ /gi,""),s=s.replace(/\),/gi,"/"),s.indexOf("/")){s.split("/").forEach(e=>{e=(e=e.replace(/\(/gi,"")).replace(/\)/gi,""),i.push(e)})}else s=s.replace(/\(/gi,""),s=s.replace(/\)/gi,""),i.push(s);o.push(i),s=s.replace(/\(/gi,""),s=s.replace(/\)/gi,""),console.log("answer re",s)}const n=o[0].sort(),l=t.choicedValue.sort();if(console.log("JSON.stringify(sortedAnswerXYs)",JSON.stringify(n)),console.log("JSON.stringify(sortedChoicedValue)",JSON.stringify(l)),JSON.stringify(n)==JSON.stringify(l)){if(a.correct=!0,2===c.matchType)break}else a.correct=!1;if(1===c.matchType&&0===r)break}a.choicedIdx=t.choicedIdx,a.choicedValue=t.choicedValue,a.completed=!0,console.log("=========> coordinate",c,a)}return r}},function(e,t,o){"use strict";var i=this&&this.__decorate||function(e,t,o,i){var s,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(r=(n<3?s(r):n>3?s(t,o,r):s(t,o))||r);return n>3&&r&&Object.defineProperty(t,o,r),r},s=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))((function(s,n){function r(e){try{a(i.next(e))}catch(e){n(e)}}function c(e){try{a(i.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,c)}a((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CoverPopup=void 0;const n=o(0),r=o(2),c=o(3),a=o(7);let l=class extends n.Component{constructor(){super(...arguments),this.m_state="closed",this._open=()=>s(this,void 0,void 0,(function*(){"closed"===this.m_state&&(this.m_state="opening",yield a.wait(100),this.m_state="open")})),this._close=()=>s(this,void 0,void 0,(function*(){"open"===this.m_state&&(this.m_state="closing",yield a.wait(400),this.props.onClosed(),this.m_state="closed")}))}componentDidUpdate(e){this.props.view!==e.view&&(this.props.view?this._open():this._close())}render(){return n.createElement("div",{className:this.props.className+" "+this.m_state},this.props.children)}};i([r.observable],l.prototype,"m_state",void 0),l=i([c.observer],l),t.CoverPopup=l},function(e,t,o){"use strict";o.r(t)},function(e,t,o){"use strict";o.r(t)},function(e,t,o){"use strict";var i=this&&this.__decorate||function(e,t,o,i){var s,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(r=(n<3?s(r):n>3?s(t,o,r):s(t,o))||r);return n>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.Navi=void 0;const s=o(0),n=o(2),r=o(3),c=o(19);let a=class extends s.Component{constructor(e){super(e),this.m_on=!1,this.m_isStarted=!1,this._onClick=e=>{this.m_on=!0}}componentDidUpdate(e){this.m_isStarted||!this.props.view||e.view||(this.m_isStarted=!0,this.m_on=!0)}render(){const e=this.m_on?void 0:"off",t={visibility:this.props.view?"visible":"hidden"};return s.createElement(s.Fragment,null,s.createElement("div",{id:"common_navi_left",className:e,style:t},s.createElement("div",null,s.createElement("div",{onClick:this._onClick},s.createElement(c.ToggleBtn,{className:"right",disabled:!this.props.enableRight,onClick:this.props.onRightClick}),s.createElement(c.ToggleBtn,{className:"left",disabled:!this.props.enableLeft,onClick:this.props.onLeftClick})))),s.createElement("div",{id:"common_navi_right",className:e,style:t},s.createElement("div",null,s.createElement("div",{onClick:this._onClick},s.createElement(c.ToggleBtn,{className:"right",disabled:!this.props.enableRight,onClick:this.props.onRightClick}),s.createElement(c.ToggleBtn,{className:"left",disabled:!this.props.enableLeft,onClick:this.props.onLeftClick})))))}};i([n.observable],a.prototype,"m_on",void 0),a=i([r.observer],a),t.Navi=a},function(e,t,o){"use strict";o.r(t)}]);