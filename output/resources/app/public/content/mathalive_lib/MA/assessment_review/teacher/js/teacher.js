!function(e){var t={};function i(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(o,s,function(t){return e[t]}.bind(null,s));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=25)}([function(e,t){e.exports=React},function(e,t){e.exports=mobx},function(e,t){e.exports=mobxReact},function(e,t,i){"use strict";var o=i(15),s=Object.prototype.toString;function n(e){return"[object Array]"===s.call(e)}function r(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===s.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),n(e))for(var i=0,o=e.length;i<o;i++)t.call(null,e[i],i,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}e.exports={isArray:n,isArrayBuffer:function(e){return"[object ArrayBuffer]"===s.call(e)},isBuffer:function(e){return null!==e&&!r(e)&&null!==e.constructor&&!r(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:r,isDate:function(e){return"[object Date]"===s.call(e)},isFile:function(e){return"[object File]"===s.call(e)},isBlob:function(e){return"[object Blob]"===s.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function i(i,o){"object"==typeof t[o]&&"object"==typeof i?t[o]=e(t[o],i):t[o]=i}for(var o=0,s=arguments.length;o<s;o++)l(arguments[o],i);return t},deepMerge:function e(){var t={};function i(i,o){"object"==typeof t[o]&&"object"==typeof i?t[o]=e(t[o],i):t[o]="object"==typeof i?e({},i):i}for(var o=0,s=arguments.length;o<s;o++)l(arguments[o],i);return t},extend:function(e,t,i){return l(t,(function(t,s){e[s]=i&&"function"==typeof t?o(t,i):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const o=i(11),s=i(5);function n(e){if(!e)return e;console.log("init student",e),e.displayMode=""+e.displayMode=="2"?"2":"1",e.gender=e.gender,""===e.nickname&&(e.nickname=e.name);let t=e.avatar&&""!==e.avatar?e.avatar:"";return""===t&&(t="f"===e.gender||"F"===e.gender?"/content/mathalive_lib/images/default_candy.png":"/content/mathalive_lib/images/default_cheese.png",e.avatar=t),e}class r{static get isMobile(){return r._isMobile}static get tempEl(){return r._tempEl}static pub_init(){const e=navigator.userAgent;r._isMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e)||/android/i.test(e),r._tempBnd=document.createElement("div"),r._tempBnd.style.display="none",r._tempEl=document.createElement("div"),r._tempBnd.appendChild(r._tempEl),null===document.body?document.addEventListener("DOMContentLoaded",e=>{document.body.appendChild(r._tempBnd)}):document.body.appendChild(r._tempBnd)}static get students(){return r._students}static get student(){return r._student}static get lang(){return r._lang}static get isDvlp(){return r._isDvlp}static get data_url(){return r._data_url}static get lesson(){return r._lesson}static get book(){return r._book}static get nextBook(){return r._nextBook}static get prevBook(){return r._prevBook}static get addOnHost(){return r._addOnHost}static setaddOnHost(e){r._addOnHost=e}static pub_load(e,t,i,o,s,a,c){r._lesson=o,r._book=i,r._nextBook=a,r._prevBook=c,r._students=[],e&&Array.isArray(e)&&e.forEach((e,t)=>{r._students[t]=n(e)}),r._student=n(t),s&&""!==s&&(r._addOnHost=s)}static pub_reloadStudents(e){s.getStudents((t,i)=>{for(;r._students.length>0;)r._students.pop();for(;r._students_inited.length>0;)r._students_inited.pop();for(let e=0,i=t.length;e<i;e++)r.isDvlp?r._students[e]=n(t[e]):r._students[e]=n({id:t[e].id,name:t[e].name,thumb:t[e].defaultThumbnail,avatar:t[e].profileThumbnail,nickname:""!==t[e].nickName?t[e].nickName:t[e].name,displayMode:t[e].displayMode,gender:t[e].gender,inited:!0}),console.log("student",t[e]),r._students_inited.push(t[e].id);e()})}static pub_parseStyle(e){return r._tempEl.style.cssText=e,r._tempEl.style}static pub_initAudio(){r._common_audio=document.getElementById("common_audio"),r._ding_audio=document.getElementById("ding_audio"),r._dingend_audio=document.getElementById("dingend_audio"),r._btn_audio=document.getElementById("btn_audio"),r._correct_audio=document.getElementById("correct_audio"),r._wrong_audio=document.getElementById("wrong_audio"),r._topad_audio=document.getElementById("topad_audio"),r._goodjob_audio=document.getElementById("goodjob_audio"),r._btn_back_audio=document.getElementById("btn_back_audio"),r._btn_page_audio=document.getElementById("btn_page_audio"),r._popup_audio=document.getElementById("popup_audio"),r._clock_audio=document.getElementById("clock_audio"),r._ts_bgm_audio=document.getElementById("ts_bgm_audio"),r._bs_audio=document.getElementById("bs_audio"),r._bb_audio=document.getElementById("bb_audio"),r._cd_audio=document.getElementById("cd_audio"),r._tc_audio=document.getElementById("tc_audio"),r._te_audio=document.getElementById("te_audio"),r._trg_bgm_audio=document.getElementById("trg_bgm_audio"),r._afc_audio=document.getElementById("afc_audio"),r._trs_audio=document.getElementById("trs_audio"),r._btn_choice_audio=document.getElementById("btn_choice_audio"),r._retry_audio=document.getElementById("retry_audio"),r._sorry_audio=document.getElementById("sorry_audio"),r._great_audio=document.getElementById("great_audio"),r._memorygame_flipcard_audio=document.getElementById("flipcard_audio"),r._ispy_gameclick_audio=document.getElementById("gameclick_audio"),r._game_timesetting_start_audio=document.getElementById("game_timesetting_start"),r._solution_btn_audio=document.getElementById("solution_btn_audio"),r._game_result_audio=document.getElementById("game_result_audio"),r._open_problom_audio=document.getElementById("open_problom_audio"),r._quiz_done_audio=document.getElementById("quiz_done_audio"),r._hit_up_audio=document.getElementById("hu_audio"),r._hit_down_audio=document.getElementById("hd_audio"),r._hit_good_audio=document.getElementById("hg_audio"),r._hit_wrong_audio=document.getElementById("hw_audio"),r._pick_presenter=document.getElementById("pick_presenter"),r._game_good_audio=document.getElementById("gg_audio")}static pub_playClock(){r._clock_audio&&(r._clock_audio.currentTime=4.5,r._clock_audio.play())}static pub_playPopup(){r._popup_audio&&(r._popup_audio.currentTime=0,r._popup_audio.play())}static pub_playBtnPage(){r._btn_page_audio&&(r._btn_page_audio.currentTime=0,r._btn_page_audio.play())}static pub_playBtnBack(){r._btn_back_audio&&(r._btn_back_audio.currentTime=0,r._btn_back_audio.play())}static pub_playGoodjob(){r._goodjob_audio&&(r._goodjob_audio.currentTime=0,r._goodjob_audio.play())}static pub_playDing(){r._ding_audio&&(r._ding_audio.currentTime=0,r._ding_audio.play())}static pub_playDingend(){r._dingend_audio&&(r._dingend_audio.currentTime=0,r._dingend_audio.play())}static pub_playToPad(){r._topad_audio&&(r._topad_audio.currentTime=0,r._topad_audio.play())}static pub_playBtnTab(){r._btn_audio&&(r._btn_audio.currentTime=0,r._btn_audio.play())}static pub_playCorrect(){r._correct_audio&&(r._correct_audio.currentTime=0,r._correct_audio.play())}static pub_playWrong(){r._wrong_audio&&(r._wrong_audio.currentTime=0,r._wrong_audio.play())}static pub_playTeamSelectBgm(){r._ts_bgm_audio&&(r._ts_bgm_audio.currentTime=0,r._ts_bgm_audio.play())}static pub_stopTeamSelectBgm(){r._ts_bgm_audio&&(r._ts_bgm_audio.pause(),r._ts_bgm_audio.currentTime=0)}static pub_playStartButton(){r._bs_audio&&(r._bs_audio.currentTime=0,r._bs_audio.play())}static pub_playBasicButton(){r._bb_audio&&(r._bb_audio.currentTime=0,r._bb_audio.play())}static pub_playCountDown(){r._cd_audio&&(r._cd_audio.currentTime=0,r._cd_audio.play())}static pub_playTimerClock(){r._tc_audio&&(r._tc_audio.currentTime=0,r._tc_audio.play())}static pub_stopTimerClock(){r._tc_audio&&(r._tc_audio.pause(),r._tc_audio.currentTime=0)}static pub_playTimerEnd(){r._te_audio&&(r._te_audio.currentTime=0,r._te_audio.play())}static pub_playResultGraph(){r._trg_bgm_audio&&(r._trg_bgm_audio.currentTime=0,r._trg_bgm_audio.play())}static pub_playFireworksClapping(){r._afc_audio&&(r._afc_audio.currentTime=0,r._afc_audio.play())}static pub_playTotalResult(){r._trs_audio&&(r._trs_audio.currentTime=0,r._trs_audio.play())}static pub_playChoiceBtn(){r._btn_choice_audio&&(r._btn_choice_audio.currentTime=0,r._btn_choice_audio.play())}static pub_playsorry(){r._sorry_audio&&(r._sorry_audio.currentTime=0,r._sorry_audio.play())}static pub_playretry(){r._retry_audio&&(r._retry_audio.currentTime=0,r._retry_audio.play())}static pub_playgreat(){r._great_audio&&(r._great_audio.currentTime=0,r._great_audio.play())}static pub_playFlipCard(){r._memorygame_flipcard_audio&&(r._memorygame_flipcard_audio.currentTime=0,r._memorygame_flipcard_audio.play())}static pub_playGameClick(){r._ispy_gameclick_audio&&(r._ispy_gameclick_audio.currentTime=0,r._ispy_gameclick_audio.play())}static pub_game_timesetting_start(){r._game_timesetting_start_audio&&(r._game_timesetting_start_audio.currentTime=0,r._game_timesetting_start_audio.play())}static pub_solution_btn_click(){r._solution_btn_audio&&(r._solution_btn_audio.currentTime=0,r._solution_btn_audio.play())}static pub_playGameresult(){r._game_result_audio&&(r._game_result_audio.currentTime=0,r._game_result_audio.play())}static pub_openProblom(){r._open_problom_audio&&(r._open_problom_audio.currentTime=0,r._open_problom_audio.play())}static pub_quizDone(){r._quiz_done_audio&&(r._quiz_done_audio.currentTime=0,r._quiz_done_audio.play())}static pub_pick_presenter(){r._pick_presenter&&(r._pick_presenter.currentTime=0,r._pick_presenter.play())}static pub_stop(){null!=r._common_audio.onended&&r._common_audio.onended.call(r._common_audio,new Event("ended")),r._common_audio.oncanplaythrough=null,isNaN(r._common_audio.duration)||r._common_audio.paused||r._common_audio.pause()}static pub_play(e,t){r.pub_stop(),e=o.nteString(e,"");const i=o.nteString(r._common_audio.getAttribute("src"),"");if(""===e&&""===i)return void(null!=t&&t(!0));""!==e&&i!==e&&(r._common_audio.src=e);const s=e=>{r._common_audio.onended=null,null!==t&&t(!0),r._common_audio.removeEventListener("error",s)};r._common_audio.onended=e=>{r._common_audio.onended=null,null!==t&&t(!!e),r._common_audio.removeEventListener("error",s)},r._common_audio.addEventListener("error",s),isNaN(r._common_audio.duration)?(r._common_audio.oncanplaythrough=e=>{0!==r._common_audio.currentTime&&(r._common_audio.currentTime=0),r._common_audio.play(),r._common_audio.oncanplaythrough=null},r._common_audio.load()):(0!==r._common_audio.currentTime&&(r._common_audio.currentTime=0),r._common_audio.oncanplaythrough=null,r._common_audio.play())}static pub_set(e,t,i){r._isDvlp=t,r._lang=i,s.set(t)}static pub_addInitedStudent(e){let t=!0;for(let i=0,o=r._students_inited.length;i<o;i++){r._students_inited[i]===e.id&&(t=!1)}t&&r._students_inited.push(e.id);const i=r._start_idx>0&&r._students.length>0&&r._students_inited.length>=r._students.length;return i&&(window.clearTimeout(r._start_idx),r._start_idx=-1),i}static pub_start(e){0===r._students.length||r._students_inited.length>=r._students.length?e():r._start_idx=window.setTimeout(e,2e3)}static pub_clear(){for(;r._students.length>0;)r._students.pop();for(;r._students_inited.length>0;)r._students_inited.pop()}static pub_playHitup(){r._hit_up_audio&&(r._hit_up_audio.currentTime=0,r._hit_up_audio.play())}static pub_playHitdown(){r._hit_down_audio&&(r._hit_down_audio.currentTime=0,r._hit_down_audio.play())}static pub_playHitgood(){r._hit_good_audio&&(r._hit_good_audio.currentTime=0,r._hit_good_audio.play())}static pub_playHitwrong(){r._hit_wrong_audio&&(r._hit_wrong_audio.currentTime=0,r._hit_wrong_audio.play())}static pub_playGamegood(){r._game_good_audio&&(r._game_good_audio.currentTime=0,r._game_good_audio.play())}}t.App=r,r._isMobile=!1,r._students=[],r._students_inited=[],r._student=null,r._lang="ko",r._isDvlp=!1,r._data_url="../data/",r._lesson="",r._book="",r._nextBook=!1,r._prevBook=!1,r._start_idx=-1,r.isStarted=!1,r._addOnHost="https://addonsapi.fel40.com"},function(e,t,i){"use strict";var o=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(s,n){function r(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.postAttention=t.postViewDiv=t.getPreviewDmsResult=t.getPreviewResult=t.showSGiftBox=t.showSLivePointPop=t.launchSTool=t.clearPenTool=t.hidePenTool=t.showPenTool=t.showRecordTool=t.showSendButton=t.alertToStudent=t.showSLoading=t.showSMathKit=t.clearSPenTool=t.takePicture=t.uploadInclassReport=t.stopVideoRecord=t.startVideoRecord=t.switchCamera=t.stopCamera=t.pauseRecordPlayer=t.playRecordPlayer=t.startCustomCamera=t.startCamera=t.getStudents=t.uploadFileToServerMulti=t.uploadImageToServer=t.uploadFileToServer=t.stopVoiceRecord=t.startVoiceRecord=t.sendTeacher=t.disableSoftwareKeyboard=t.sendPAD=t.sendPADToID=t.sendLauncher=t.uploadStudentReport=t.addStudentForStudentReportType6=t.hideStudentReportListPage=t.showStudentReportListPage=t.showStudentReportUI=t.hideStudentReportUI=t.startStudentReportProcess=t.finishContentPage=t.showTMathKit=t.alertToTeacher=t.showTLoading=t.clearTPenTool=t.getBookCaptureInfo=t.uploadTImageToServer=t.useFractionBar=t.logOut=t.exitClass=t.getNaviInfo=t.launchPadTool=t.launchTool=t.exitBook=t.gotoBookByKey=t.gotoBook=t.set=void 0;const s=i(6);let n=!1;t.set=function(e){n=e},t.gotoBook=function(e,t){if(console.log("felsocket gotoBook",e,t),!n)try{window.tsoc_o.gotoBook(e,t)}catch(e){}},t.gotoBookByKey=function(e){if(console.log("felsocket gotoBookByKey",e),!n)try{window.tsoc_o.gotoBookByKey(e)}catch(e){}},t.exitBook=function(){if(console.log("felsocket exitBook"),!n)try{window.tsoc_o.exitBook()}catch(e){}},t.launchTool=function(e){if(console.log("felsocket launchTool",e),!n)try{window.tsoc_o.launchTool(e)}catch(e){}},t.launchPadTool=function(e){if(console.log("felsocket launchPadTool",e),!n)try{window.tsoc_o.launchPadTool(e)}catch(e){}},t.getNaviInfo=function(e){if(console.log("felsocket getNaviInfo",e),!n)try{window.tsoc_o.getNaviInfo(e)}catch(e){}},t.exitClass=function(){if(console.log("felsocket exitClass"),!n)try{window.tsoc_o.exitClass()}catch(e){}},t.logOut=function(){if(console.log("felsocket logOut"),!n)try{window.tsoc_o.logOut()}catch(e){}},t.useFractionBar=function(){if(console.log("felsocket useFractionBar"),!n)try{window.tsoc_o.useFractionBar()}catch(e){}},t.uploadTImageToServer=function(e,t,i,o){if(console.log("felsocket uploadTImageToServer",t,i,o),!n)try{window.tsoc_o.uploadImageToServer(e,t,i,o)}catch(e){}},t.getBookCaptureInfo=function(e){if(console.log("felsocket getBookCaptureInfo"),!n)try{window.tsoc_o.getBookCaptureInfo(e)}catch(e){}},t.clearTPenTool=function(){if(console.log("felsocket clearTPenTool"),!n)try{window.tsoc_o.clearPenTool()}catch(e){}},t.showTLoading=function(e){if(console.log("felsocket showTLoading",e),!n)try{window.tsoc_o.showLoading(e)}catch(e){}},t.alertToTeacher=function(e){if(console.log("felsocket alertToTeacher",e),!n)try{window.tsoc_o.alert(e)}catch(e){}},t.showTMathKit=function(e){if(console.log("felsocket showTMathKit",e),!n)try{window.tsoc_o.showMathKit(e)}catch(e){}},t.finishContentPage=function(){if(!n)try{window.tsoc_o.finishContentPage()}catch(e){}},t.startStudentReportProcess=function(e,t,i){if(!n)try{window.tsoc_o.startStudentReportProcess(e,t,i)}catch(e){}},t.hideStudentReportUI=function(){if(!n)try{window.tsoc_o.hideStudentReportUI()}catch(e){}},t.showStudentReportUI=function(){if(!n)try{window.tsoc_o.showStudentReportUI()}catch(e){}},t.showStudentReportListPage=function(){if(!n)try{window.tsoc_o.showStudentReportListPage()}catch(e){}},t.hideStudentReportListPage=function(){if(!n)try{window.tsoc_o.hideStudentReportListPage()}catch(e){}},t.addStudentForStudentReportType6=function(e){if(!n)try{window.tsoc_o.addStudentForStudentReportType6(e)}catch(e){}},t.uploadStudentReport=function(e,t,i){if(!n)try{window.psoc_o.uploadStudentReport(e,t,i)}catch(e){}},t.sendLauncher=function(e,t){if(5!==e||n)if(6!==e||n)if(7!==e||n){if(8===e)if(console.log("felsocket gotoPrevBook"),n)try{window.top.tsoc_o.gotoPrevBook()}catch(e){}else try{window.tsoc_o.gotoPrevBook()}catch(e){}else if(9===e)if(console.log("felsocket gotoNextBook"),n)try{window.top.tsoc_o.gotoNextBook()}catch(e){}else try{window.tsoc_o.gotoNextBook()}catch(e){}}else try{window.tsoc_o.setTitleBar(t)}catch(e){}else try{window.tsoc_o.showTitleBar()}catch(e){}else try{window.tsoc_o.hideTitleBar()}catch(e){}},t.sendPADToID=function(e,t,i){const o={type:t,data:i};if(n)try{window.top.tsoc_o.sendPADToID(e,o)}catch(e){}else try{window.tsoc_o.sendPADToID(e,o)}catch(e){}},t.sendPAD=function(e,t){const i={type:e,data:t};if(n)try{window.top.tsoc_o.sendAll(i)}catch(e){}else try{window.tsoc_o.sendAll(i)}catch(e){}},t.disableSoftwareKeyboard=function(){try{window.psoc_o.disableSoftwareKeyboard()}catch(e){}},t.sendTeacher=function(e,t){const i={type:e,data:t};if(n)try{null!==window.opener&&window.opener.tsoc_o.sendTeacher(i)}catch(e){}else try{window.psoc_o.sendTeacher(i)}catch(e){}},t.startVoiceRecord=function(){try{window.psoc_o.startVoiceRecord()}catch(e){}},t.stopVoiceRecord=function(){try{window.psoc_o.stopVoiceRecord()}catch(e){}},t.uploadFileToServer=function(e){try{window.psoc_o.uploadFileToServer(e)}catch(e){}},t.uploadImageToServer=function(e,t,i,o){try{window.psoc_o.uploadImageToServer(e,t,i,o)}catch(e){}},t.uploadFileToServerMulti=function(e){try{window.psoc_o.uploadFileToServerMulti(e)}catch(e){}},t.getStudents=function(e){if(n)if(window.top.tsoc_o)try{window.top.tsoc_o.getStudents(e)}catch(e){}else e([],!1);else try{window.tsoc_o.getStudents(e)}catch(e){}},t.startCamera=function(e){if(!n)try{window.psoc_o.startCamera(e)}catch(e){}},t.startCustomCamera=function(e){n||window.parent.postMessage({from:"content",srcFrame:"book",type:"startCustomCamera",msg:e},"*")},t.playRecordPlayer=function(){n||window.parent.postMessage({from:"content",srcFrame:"book",type:"playRecordPlayer"},"*")},t.pauseRecordPlayer=function(){n||window.parent.postMessage({from:"content",srcFrame:"book",type:"pauseRecordPlayer"},"*")},t.stopCamera=function(){if(!n)try{window.psoc_o.stopCamera()}catch(e){}},t.switchCamera=function(e){if(!n)try{window.psoc_o.switchCamera(e)}catch(e){}},t.startVideoRecord=function(){if(!n)try{window.psoc_o.startVideoRecord()}catch(e){}},t.stopVideoRecord=function(){if(!n)try{window.psoc_o.stopVideoRecord()}catch(e){}},t.uploadInclassReport=function(e){if(!n)try{window.tsoc_o.uploadInclassReport(e)}catch(e){}},t.takePicture=function(e){if(!n)try{window.psoc_o.takePicture(e)}catch(e){}},t.clearSPenTool=function(){if(console.log("felsocket clearPenTool"),!n)try{window.psoc_o.clearPenTool()}catch(e){}},t.showSMathKit=function(e){if(console.log("felsocket showSMathKit",e),!n)try{window.psoc_o.showMathKit(e)}catch(e){}},t.showSLoading=function(e){if(console.log("felsocket showSLoading",e),!n)try{window.psoc_o.showLoading(e)}catch(e){}},t.alertToStudent=function(e){if(console.log("felsocket alertToStudent",e),!n)try{window.psoc_o.alert(e)}catch(e){}},t.showSendButton=function(e,t){if(console.log("felsocket showSendButton"),!n)try{window.psoc_o.showSendButton(e,t)}catch(e){}},t.showRecordTool=function(e){if(console.log("felsocket showRecordTool",e),!n)try{window.psoc_o.showRecordTool(e)}catch(e){}},t.showPenTool=function(){if(console.log("felsocket showPentool"),!n)try{window.psoc_o.showPenTool()}catch(e){}},t.hidePenTool=function(){if(console.log("felsocket hidePentool"),!n)try{window.psoc_o.hidePenTool()}catch(e){}},t.clearPenTool=function(){if(console.log("felsocket clearPenTool"),!n)try{window.psoc_o.clearPenTool()}catch(e){}},t.launchSTool=function(e){if(console.log("felsocket launchTool",e),!n)try{window.psoc_o.launchTool(e)}catch(e){}},t.showSLivePointPop=function(e){if(console.log("felsocket showLivePointPop"),!n)try{window.psoc_o.showLivePointPop(e)}catch(e){}},t.showSGiftBox=function(e,t){if(console.log("felsocket showGiftBox"),!n)try{window.psoc_o.showGiftBox(e,t)}catch(e){}},t.getPreviewResult=function(e){return o(this,void 0,void 0,(function*(){return new Promise(t=>{if(n)t([]);else{let i=!1;const o=e=>{i||(i=!0,t(e))};window.tsoc_o.getPreviewResult(o,e),s.delay(()=>{i||(i=!0,t([]))},5e3)}})}))},t.getPreviewDmsResult=function(e){return o(this,void 0,void 0,(function*(){return new Promise(t=>{if(n)t([]);else{let i=!1;const o=e=>{i||(i=!0,t(e))};window.tsoc_o.getPreviewDmsResult(o,e),s.delay(()=>{i||(i=!0,t([]))},5e3)}})}))},t.postViewDiv=function(e){return o(this,void 0,void 0,(function*(){console.log("postViewDiv",e),window.top.postMessage({type:"viewDiv",msg:e,from:"content"},"*")}))},t.postAttention=function(e){return o(this,void 0,void 0,(function*(){console.log("postAttention",e),window.top.postMessage({type:"attention",msg:e,from:"content"},"*")}))}},function(e,t){e.exports=_},function(e,t,i){"use strict";var o=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(s,n){function r(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getBounds=t.getTimeStr=t.wait=void 0;const s=i(6);t.wait=function(e){return o(this,void 0,void 0,(function*(){return new Promise(t=>{s.delay(t,e)})}))},t.getTimeStr=function(e,t){const i=Math.round(t/1e3);let o=Math.round(e/1e3),s=Math.floor(o/60),n=Math.floor(s/60),r="";return o%=60,s%=60,n>0||i>=3600?(r=n+":",r+=s>=10?s+":":"0"+s+":"):i>=600?r+=s>=10?s+":":"0"+s+":":r=s+":",r+=o>=10?o:"0"+o,r},t.getBounds=function(e){const t={left:0,top:0,width:0,height:0};if(!e)return t;try{const i=e.getBoundingClientRect();t.left=i.left,t.top=i.top,t.width=i.width,t.height=i.height}catch(e){}const i=e.ownerDocument,o=i.body,s=i.documentElement;t.left=t.left-(s.clientLeft||o.clientLeft||0),t.top=t.top-(s.clientTop||o.clientTop||0);const n=i.defaultView;return t.left+=n.pageXOffset||s.scrollLeft||o.scrollLeft,t.top+=n.pageYOffset||s.scrollTop||o.scrollTop,t}},function(e,t,i){e.exports=i(39)},function(e,t,i){"use strict";var o=this&&this.__decorate||function(e,t,i,o){var s,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(n<3?s(r):n>3?s(t,i,r):s(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.AlertPopup=t.WarningPopup=t.StrategyPopup=void 0;const s=i(0),n=i(1),r=i(2),a=i(60),c=i(6),l=i(4);let d=class extends s.Component{componentDidUpdate(e){if(this.props.view&&!e.view){if(!this.props.button){let e=this.props.delay;e||(e=800),c.delay(()=>{this.props.onComplete&&this.props.onComplete()},e)}}else!this.props.view&&e.view}render(){const{type:e}=this.props;let t="";0===e?t="The teacher has stopped you from the activity. After 3 seconds, only the contents has been created so far will be submitted.":1===e?t="All students are already in progress. If you restart, existing data will be deleted. Are you sure you want to request the submission?":2===e?t="You can share a solution only in the problem solving state.":3===e?t="Do you want to save the current learning screen? If there is already saved data, the current data will be overwritten.":4===e?t="Picture not taken.\nYou have reached the maximum number of pictures available.":5===e&&(t="For this activity, We recommend students to wear a headset or an earphone with a microphone.");let i="exclamation";return 4===e?i="nocamera":5===e&&(i="headset"),s.createElement("div",{className:"alertpop strategy"+(this.props.view?" show":"")},s.createElement("div",{className:"alertpop-inner"},s.createElement("div",{className:i}),s.createElement("div",{className:"ment"},t),s.createElement("div",{className:"buttons"+(this.props.isSingle?" single":"")+(this.props.button?"":" hide")},s.createElement("button",{className:"btn cancel",onClick:this.props.onCancel},"Cancel"),s.createElement("button",{className:"btn ok",onClick:this.props.onOk},"Ok"))))}};d=o([r.observer],d),t.StrategyPopup=d;let p=class extends s.Component{constructor(){super(...arguments),this.second=3,this.interval=null}componentDidUpdate(e){if(this.props.view&&!e.view){if(this.second=3,!this.props.button){let e=this.props.delay;e||(e=800),this.interval=setInterval(()=>{this.second--,0===this.second&&(this.props.onComplete&&this.props.onComplete(),null!==this.interval&&clearInterval(this.interval))},1e3)}}else!this.props.view&&e.view&&(null!==this.interval&&clearInterval(this.interval),this.props.onComplete&&this.props.onComplete())}render(){const{type:e}=this.props;let t="";return 0===e&&(t=`Submit your answer within <strong>${this.second} seconds.</strong>`),s.createElement("div",{className:"warningpopup",style:{display:this.props.view?"":"none"}},s.createElement("div",{className:"msg",dangerouslySetInnerHTML:{__html:t}}))}};o([n.observable],p.prototype,"second",void 0),p=o([r.observer],p),t.WarningPopup=p;class u extends s.Component{constructor(){super(...arguments),this._onOk=()=>{this.props.onOk&&this.props.onOk()},this._onClose=()=>{this.props.onClose&&this.props.onClose()}}componentDidUpdate(e){this.props.view&&!e.view||!this.props.view&&e.view&&l.App.pub_playBtnTab()}render(){const{view:e,msg:t,isSingle:i,msgclass:o}=this.props;return s.createElement(a.CoverPopup,{className:"alert_popup",view:e,onClosed:this.props.isSingle?this._onOk:this._onClose},s.createElement("div",{className:"pop_box"},s.createElement("span",{className:"ico_alert"}),s.createElement("span",{className:"text"+(o&&""!==o?" "+o:""),dangerouslySetInnerHTML:{__html:t}}),s.createElement("div",{className:"btns"},s.createElement("button",{className:"btn_cancel",onClick:this._onClose,style:{display:i?"none":""}},s.createElement("span",null,"Cancel")),s.createElement("button",{className:"btn_ok",onClick:this._onOk},s.createElement("span",null,"OK")))))}}t.AlertPopup=u},function(e,t,i){"use strict";e.exports=i(28)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._toStringTimestamp=t.getDateStr=t.nteArray=t.intToHTMLcolor=t.nteBool=t.nteString=t.nteFloat=t.nteInt=t.nteUInt=t.getUnicUrl=t.getUnicNum=t.getUnic=void 0,Date.now||(Date.now=function(){return(new Date).getTime()});let o=0;function s(){return n().toString(36)}function n(){const e=Date.now();return e>o?o=e:o+=1,o}t.getUnic=s,t.getUnicNum=n,t.getUnicUrl=function(e){if(!e)return"";let t=e=e.trim();return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")||(t=t.indexOf("?")>0?t+"&t="+s():t+"?t="+s()),t},t.nteUInt=function(e,t){if(null==e)return t;if("number"==typeof e)return isNaN(e)||e<0?t:Math.round(e);{const i=parseInt(String(e),10);return isNaN(i)||i<0?t:i}},t.nteInt=function(e,t){if(null==e)return t;if("number"==typeof e)return Math.round(e);{const i=parseInt(String(e),10);return isNaN(i)?t:i}},t.nteFloat=function(e,t){if(null==e)return t;if("number"==typeof e)return e;{const i=parseFloat(String(e));return isNaN(i)?t:i}},t.nteString=function(e,t){return null==e?t:String(e)},t.nteBool=function(e,t){if(null==e)return t;if("boolean"==typeof e)return e;const i=String(e);return"true"===i||"false"!==i&&t},t.intToHTMLcolor=function(e){let t,i,o,s=e-0;t=(255&s)<<16,i=65280&s,o=(16711680&s)>>>16,s=t|i|o;let n=s.toString(16);return n="#000000".substring(0,7-n.length)+n,n},t.nteArray=function(e){if(e){if(Array.isArray(e))return e;if("string"==typeof e){const t=e;if(t.indexOf("[")>=0&&t.indexOf("]")>0)try{return JSON.parse(t)}catch(e){}}const t=[];return t.push(e),t}return[]},t.getDateStr=function(e="."){const t=new Date,i=t.getFullYear(),o=t.getMonth()+1,s=t.getDate();return i+e+(o<10?"0"+o:""+o)+e+(s<10?"0"+s:""+s)},t._toStringTimestamp=function(e){let t;const i=e.getFullYear();let o=e.getMonth()+1+"";parseInt(o,10)<10&&(o="0"+o);let s=e.getDate()+"";return parseInt(s,10)<10&&(s="0"+s),t=i+"-"+o+"-"+s+" "+e.toTimeString().substr(0,8),t}},function(e,t,i){"use strict";var o=this&&this.__decorate||function(e,t,i,o){var s,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(n<3?s(r):n>3?s(t,i,r):s(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.Navi=void 0;const s=i(0),n=i(1),r=i(2),a=i(13);let c=class extends s.Component{constructor(e){super(e),this.m_on=!1,this.m_isStarted=!1,this._onClick=e=>{this.m_on=!0}}componentDidUpdate(e){this.m_isStarted||!this.props.view||e.view||(this.m_isStarted=!0,this.m_on=!0)}render(){const e=this.m_on?void 0:"off",t={visibility:this.props.view?"visible":"hidden"};return s.createElement(s.Fragment,null,s.createElement("div",{id:"common_navi_left",className:e,style:t},s.createElement("div",null,s.createElement("div",{onClick:this._onClick},s.createElement(a.ToggleBtn,{className:"right",disabled:!this.props.enableRight,onClick:this.props.onRightClick}),s.createElement(a.ToggleBtn,{className:"left",disabled:!this.props.enableLeft,onClick:this.props.onLeftClick})))),s.createElement("div",{id:"common_navi_right",className:e,style:t},s.createElement("div",null,s.createElement("div",{onClick:this._onClick},s.createElement(a.ToggleBtn,{className:"right",disabled:!this.props.enableRight,onClick:this.props.onRightClick}),s.createElement(a.ToggleBtn,{className:"left",disabled:!this.props.enableLeft,onClick:this.props.onLeftClick})))))}};o([n.observable],c.prototype,"m_on",void 0),c=o([r.observer],c),t.Navi=c},function(e,t,i){"use strict";var o=this&&this.__decorate||function(e,t,i,o){var s,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(n<3?s(r):n>3?s(t,i,r):s(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.ImgBtn=t.AudioBtn=t.ToggleBtn=void 0;const s=i(0),n=i(1),r=i(2);class a extends s.Component{constructor(e){super(e),this.m_pID=-1,this._inited=this._inited.bind(this),this._onClick=this._onClick.bind(this)}_inited(e){!this.m_el&&e&&(this.m_el=e,this.props.onRef&&this.props.onRef(e),e.setAttribute("touch-action","none"),e.addEventListener("pointerdown",t=>{if(!(this.m_pID>=0)){if(this.m_pID=t.pointerId,!this.props.disableCapture)try{e.setPointerCapture(this.m_pID)}catch(e){}this.props.onMouseDown&&this.props.onMouseDown(t)}}),e.addEventListener("pointerup",t=>{if(this.m_pID===t.pointerId){try{e.releasePointerCapture(this.m_pID)}catch(e){}this.m_pID=-1,this.props.onMouseUp&&this.props.onMouseUp(t)}}),e.addEventListener("pointerleave",t=>{if(this.props.disableCapture){if(this.m_pID!==t.pointerId)return;try{e.releasePointerCapture(this.m_pID)}catch(e){}this.m_pID=-1}this.props.onMouseLeave&&this.props.onMouseLeave(t)}),e.addEventListener("pointercancel",t=>{if(this.m_pID===t.pointerId){try{e.releasePointerCapture(this.m_pID)}catch(e){}this.m_pID=-1,this.props.onMouseLeave&&this.props.onMouseLeave(t)}}))}_onClick(e){this.props.onClick&&this.props.onClick(e),this.props.preventEvent&&(e.preventDefault(),e.stopPropagation())}componentDidUpdate(e){if((this.props.disabled&&!e.disabled||!this.props.view&&e.view)&&this.m_pID>=0){try{this.m_el&&this.m_el.releasePointerCapture(this.m_pID)}catch(e){}this.m_pID=-1}}}o([n.observable],a.prototype,"m_pID",void 0);let c=class extends a{constructor(e){super(e),this.m_on=!1,this.m_on=!0===e.on}componentWillReceiveProps(e){this.props.on!==e.on&&(this.m_on=!0===e.on)}render(){const e=[];this.props.className&&e.push(this.props.className),this.m_on&&e.push("on"),this.m_pID>0&&e.push("down");const t=e.join(" ");let i=this.props.style;return!1===this.props.view&&(i||(i={}),i.display="none"),s.createElement("button",{id:this.props.id,className:t,onClick:this._onClick,ref:this._inited,disabled:!0===this.props.disabled,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:i},this.props.children)}};o([n.observable],c.prototype,"m_on",void 0),c=o([r.observer],c),t.ToggleBtn=c;let l=class extends c{constructor(e){super(e)}play(){this.m_on||(this.m_on=!0,this.props.playFnc(this.props.src,e=>{this.m_on&&(this.m_on=!1,this.props.onPause&&this.props.onPause(e))}))}_onClick(e){this.m_on?(this.props.pauseFnc(),this.m_on=!1):this.play(),super._onClick(e)}};o([n.action],l.prototype,"play",null),o([n.action],l.prototype,"_onClick",null),l=o([r.observer],l),t.AudioBtn=l;let d=class extends a{constructor(e){super(e),this.m_on=!1,this.m_on=!0===e.on}componentWillReceiveProps(e){this.props.on!==e.on&&(this.m_on=!0===e.on)}render(){const e=[];this.props.className&&e.push(this.props.className),this.m_on&&e.push("on"),this.m_pID>0&&e.push("down"),!0===this.props.disabled&&e.push("disable");const t=e.join(" ");let i=this.props.style;return!1===this.props.view&&(i||(i={}),i.display="none"),s.createElement("img",{id:this.props.id,className:t,onClick:this._onClick,ref:this._inited,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:i,src:this.props.src,useMap:this.props.useMap})}};o([n.observable],d.prototype,"m_on",void 0),d=o([r.observer],d),t.ImgBtn=d},function(e,t,i){"use strict";var o=this&&this.__decorate||function(e,t,i,o){var s,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(n<3?s(r):n>3?s(t,i,r):s(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},s=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(s,n){function r(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SENDPROG=t.useTeacher=t.tContext=t.TeacherConsumer=t.TeacherProvider=t.TeacherContext=t.IQuizProg=void 0;const n=i(0),r=i(6),a=i(1),c=i(4),l=i(5),d=i(36),p=i(38),u=i(8);var h,m;!function(e){e[e.READY=0]="READY",e[e.SENDING=1]="SENDING",e[e.SENDED=2]="SENDED",e[e.COMPLETE=3]="COMPLETE"}(h||(h={})),t.SENDPROG=h,function(e){e[e.READY=0]="READY",e[e.ONCOUNTDOWN=1]="ONCOUNTDOWN",e[e.RUN=2]="RUN",e[e.STOP=3]="STOP",e[e.END=4]="END"}(m=t.IQuizProg||(t.IQuizProg={}));const _=e=>{if(!e)return;let t=[],i=Math.floor(10*Math.random());t.push({main:"#ffe9f0",right:"#ffd7e3"}),t.push({main:"#ffeaea",right:"#ffdada"}),t.push({main:"#ffefe5",right:"#ffdcd9"}),t.push({main:"#feeedf",right:"#fddfc4"}),t.push({main:"#ffefd9",right:"#ffe2b9"}),t.push({main:"#fff7d9",right:"#ffecb9"}),t.push({main:"#fbf9db",right:"#f8f7bd"}),t.push({main:"#f1fbdc",right:"#e6f8bf"}),t.push({main:"#e4fae2",right:"#caf6c9"}),t.push({main:"#dff5f2",right:"#bdeae4"}),t.push({main:"#e2f7ff",right:"#c0ecfe"}),e.bgColor=t[i]};class f extends d.TeacherContextBase{constructor(){super(),this._loading=!0,this._interval=null,this._interval_count=0,this._connected_students=0,this._init_data=null,this.notifyNaviInfo=(e,t,i,o,n,a)=>s(this,void 0,void 0,(function*(){c.App.isDvlp?(this._curriculum=p.TEST_CURR.curriculum,this.state.topicname=this._curriculum.name,this.state.bookid=p.TEST_CURR.bookid,this.state.classid=p.TEST_CURR.classid,this.state.unitid=p.TEST_CURR.unitid,this.state.lessonid=p.TEST_CURR.lessonid):(this._curriculum=e,this.state.topicname=this._curriculum.name,this.state.bookid=t,this.state.classid=i,this.state.unitid=o,this.state.lessonid=n),this.state.directionON=!0,this.actions.getCurriculum((e,t,i)=>{this.state.lesson=t,this.state.curriculumid=i.id,this.state.topicname=t.name});let s="";c.App.students&&(s=c.App.students.map(e=>e.id).join(","));let a=new FormData;a.append("clsIdx",this.state.classid+""),a.append("depthItemIdx",this.state.curriculumid+""),a.append("studyCd","AR2"),a.append("userIdxes",s),yield u.default({method:"post",url:c.App.addOnHost+"/ma/question/start",data:a}).then(e=>{e.data.success&&(this.state.additional_data=e.data.additionalData)}).catch(e=>{}),c.App.pub_reloadStudents(()=>{});let d={msgtype:"assessment_curriculm",classid:this.state.classid,bookid:this.state.bookid,curriculum:JSON.stringify(this.state.lesson),curriculumid:this.state.curriculumid,title:this.state.lesson.name,additional_data:JSON.stringify(this.state.additional_data),isRetake:this.state.isRetake+""};r.delay(()=>{l.sendPAD(10,d)},1e3)})),this.state.prog="assessment",this.state.need_explain=[],this.state.solving_students=[],this.state.select_student_idx=0,this.state.bookid=0,this.state.isRetake=!1,this.state.quiz_prog=m.READY,this.state.additional_data=null,this.state.lastUpdated=-1,this.actions.getData=()=>this._data,this.actions.getCurriculum=()=>this._curriculum,this.actions.gotoDirection=()=>{this._setViewDiv("direction")},this.actions.gotoNextBook=()=>{l.sendLauncher(9,null)},this.actions.setLockNeedExplain=(e,t)=>{const i=this.state.need_explain.filter(t=>t.id+""==e+"");if(i.length>0)if(i.map(e=>{e.is_lock=t}),c.App.isDvlp&&(e="pad_1"),t){let t={msgtype:"page_lock"};l.sendPADToID(e,10,t)}else{let t={msgtype:"page_unlock"};l.sendPADToID(e,10,t)}},this.actions.addNeedExplain=(e,t)=>{let i=new Date,o=(i.getFullYear(),i.getMonth()+1);o=o>=10?o:"0"+o;let s=i.getDate();s=s>=10?s:"0"+s;let n=i.getHours();n=n>=10?n:"0"+n;let a=i.getMinutes(),c=i.getSeconds();c=c>=10?c:"0"+c,a=a>=10?a:"0"+a;let l=n+":"+a;-1===this.state.need_explain.findIndex(i=>i.id===e.id&&i.seq===t.seq)&&this.state.need_explain.push({name:e.name,nickname:e.nickname,displayMode:e.displayMode,time:l,seq:t.seq,id:e.id,is_lock:!1}),r.delay(()=>{this.state.lastUpdated+=1},100)},this.actions.setQuizProg=e=>{this.state.quiz_prog=e},this.actions.removeNeedExplain=(e,t,i)=>{const o=this.state.need_explain.findIndex(i=>i.id===e&&i.seq===t);let s,n;if(this.state.solving_students&&(s=this.state.solving_students.filter(t=>t.id+""==e+""),s&&s[0]&&s[0].detail&&(s=s[0],s.detail=[...s.detail,s.detail[0]],s.detail.map(e=>{e.seq===t&&(n=t,e.hadExplain=2,e.twinInfo&&(e.twinInfo.hadExplain=2))}),s.detail.splice(s.detail.length-1,1))),s){l.sendPADToID(s.id+"",10,{msgtype:"remove_need_explain",id:s.id,seq:n,lockoff:i});this.state.need_explain.splice(o,1);this.state.lastUpdated+=1}},this.actions.getLession=()=>this.state.lesson,this.actions.getCurriculum=e=>{if(this._curriculum&&this._curriculum.childrenList){let t=0,i=0,o=0;t=this.state.unitid,i=this.state.bookid,o=this.state.lessonid,this._curriculum.childrenList.map(t=>{t&&t.childrenList&&t.childrenList.map(o=>{o&&o.childrenList&&o.childrenList.map(s=>{s&&s.book&&s.book.id+""==i+""&&e&&e(t,o,s)})})})}return this._curriculum},this.actions.setStudentsDefulatGraph=e=>{this.state.need_explain=[],this.setStudentsDefulatGraph(e)},this.actions.setNaviFnc(()=>{"direction"===this.state.viewDiv?l.sendLauncher(8,null):(c.App.pub_playBtnPage(),this._setViewDiv("direction"),l.sendPAD(1,null))},()=>{"direction"===this.state.viewDiv?(c.App.pub_playBtnPage(),this.state.directionON=!1):(c.App.pub_playBtnPage(),l.sendLauncher(9,null))}),setInterval(()=>{this.checkStudents(!1,"")},2e3)}_setViewDiv(e){super._setViewDiv(e),"content"===e&&(this.state.solving_students=[],this.state.need_explain=[],this._init_data=[],this._connected_students=0),"direction"===e&&(this._init_data=null)}setStudentsDefulatGraph(e,t){let i="";i=c.App.students.map(e=>c.App.isDvlp?"79203":e.id).join(","),t&&(i=t);(()=>{-1===this.state.solving_students.findIndex(e=>e.id+""==i+"")&&((e,t,i,o,n,r,a)=>{s(void 0,void 0,void 0,(function*(){let s=e+"";s=-1!==s.indexOf(",")?s.split(","):[e],s.map(()=>{let e=t.findIndex(e=>e.userIdx+""==s+"");-1!==e&&t.length>e&&(s=t[e].userIdx+"|"+t[e].amMainSeq+"|"+t[e].mainSeq)});let l={clsIdx:JSON.stringify(o),depthItemIdx:JSON.stringify(n),studyCd:"AR2",isRetake:JSON.stringify(i),userIdxes:s+""};for(let e in r.additional_data)void 0!==r.additional_data[e]&&(l[e]=r.additional_data[e]);yield u.default.get(c.App.addOnHost+"/ma/question",{params:Object.assign({},l)}).then(e=>{if(e.data.success){if(e.data.resultData){let t=e.data.resultData,i=[],o=[...t],s=[];o.map(e=>{-1===i.indexOf(e.prevOrderNo1)&&s.push(e)}),t=s,t.map((e,t)=>{e.questionList.map(e=>{if(e.hadExplain=-1,"string"==typeof e.dpAnswer&&(e.dpAnswer=JSON.parse(e.dpAnswer)),void 0===e.checkInfo&&e.twinInfo2){e.checkInfo=e.twinInfo2;const t=[],i=e.checkInfo.dpAnswer;for(let e=0;e<i.length;e++){const o=i[e];t.push({basetype:o.base?o.base:0,subtype:o.sub?o.sub:0,basetypename:o.baseName?o.baseName:"",subtypename:o.subName?o.subName:"",matchType:o.matchType?o.matchType:0,answers:o.inputList?o.inputList:[]})}e.checkInfo.answers=t,_(e.checkInfo)}const t=[],i=e.dpAnswer;for(let e=0;e<i.length;e++){const o=i[e];t.push({basetype:o.base?o.base:0,subtype:o.sub?o.sub:0,basetypename:o.baseName?o.baseName:"",subtypename:o.subName?o.subName:"",matchType:o.matchType?o.matchType:0,answers:o.inputList?o.inputList:[]})}e.answers=t,_(e),_(e.twinInfo),_(e.twinInfo2)})}),a(t)}}else a("Server Error!!<br/>Please contact the administrator.")}).catch(e=>{a("Server Error!!<br/>Please contact the administrator.")})}))})(i+"",this._init_data,this.state.isRetake,this.state.classid,this.state.curriculumid,this.state,t=>{t.map(t=>{try{let i=c.App.students.find(e=>e.id+""==t.userIdx+"");if(void 0===i)return;let o=this._init_data.findIndex(e=>e.userIdx+""==i.id+"");if(-1===o)return;o=this._init_data[o];let s=3;"B"===t.assessmentGrade?s=2:"C"===t.assessmentGrade&&(s=1);let n=0;n=void 0===t.prevScore||t.prevScore<0?0:t.prevScore,!0===o.isPerfect&&t.questionList.map((e,t)=>{e.isTwin=-1,e.prevOrderNo1=t+1,e.hadExplain=0,e.isRight=!0,e.isSolved=1});const r=Object.assign(Object.assign(Object.assign({},i),o),{grade:s,detail:t.questionList,correctCnt:0,solvedCnt:0,orgTotalCnt:o.orgTotalCnt?o.orgTotalCnt:40,isPerfect:100===n,isCleard:!1,before_score:n,after_score:n});-1===this.state.solving_students.findIndex(e=>e.id+""==r.id+"")&&this.state.solving_students.push(r);let a={msgtype:this.state.quiz_prog===m.RUN?"assessment_data_start":"assessment_curriculm",detail:JSON.stringify(r),classid:this.state.classid,bookid:this.state.bookid,title:this.state.lesson.name,curriculum:JSON.stringify(this.state.lesson),curriculumid:this.state.curriculumid,additional_data:JSON.stringify(this.state.additional_data),id:r.id+"",isRetake:this.state.isRetake+""};l.sendPADToID(r.id+"",10,a),e&&e()}catch(e){console.log("디테일 에러",e)}})})})()}checkStudents(e,t){if(!1===e)c.App.pub_reloadStudents(()=>{if(c.App.students.length<this._connected_students){let e=[],t=[],i=[];this.state.solving_students&&(this.state.solving_students.map(t=>{-1!==c.App.students.findIndex(e=>e.id+""==t.id+"")&&e.push(t)}),this._init_data.map(e=>{-1!==c.App.students.findIndex(t=>t.id+""==e.userIdx+"")&&t.push(e)})),this.state.need_explain&&this.state.need_explain.map(e=>{-1!==c.App.students.findIndex(t=>t.id+""==e.id+"")&&i.push(e)}),this.state.solving_students=[...e],this.state.need_explain=[...i],this._init_data=[...t],this._connected_students=c.App.students.length}});else if(0!==this.state.bookid&&0!==this.state.curriculumid&&null!==this.state.additional_data&&void 0!==this.state.isRetake&&e&&""!==t){if(-1===this.state.solving_students.findIndex(e=>e.id+""==t+"")){let e=-1;null!==this._init_data&&(e=this._init_data.findIndex(e=>e.userIdx+""==t+"")),-1===e||null===this._init_data?(i=t+"",o=this.state.classid,n=this.state.curriculumid,r=this.state,a=e=>{try{"string"==typeof e||e.resultData&&(e.resultData.map(e=>{this._init_data.push(e)}),this.setStudentsDefulatGraph(()=>{this._connected_students=this.state.solving_students.length},t))}catch(e){}},s(void 0,void 0,void 0,(function*(){if(null===r.additional_data)return void a("Server Error!!<br/>Please contact the administrator.");let e=new FormData;e.append("clsIdx",o+""),e.append("depthItemIdx",n+""),-1!==i.indexOf(",")?e.append("userIdxes",i):e.append("userIdx",i),e.append("studyCd","AR2");for(let t in r.additional_data)void 0!==r.additional_data[t]&&e.append(t+"",r.additional_data[t]+"");u.default({method:"post",url:c.App.addOnHost+"/ma/duplicate-check/init-assessment-review",data:e}).then(t=>{!0===t.data.resultData.isDuplicateCall?a("Server Error!!<br/>Please contact the administrator."):(e.append("tempSeq",t.data.resultData.tempSeq),u.default({method:"post",url:c.App.addOnHost+"/ma/init/assessment-review",data:e}).then(e=>{e.data.success?(r.isRetake=e.data.isRetake,a(e.data)):a("Server Error!!<br/>Please contact the administrator.")}).catch(e=>{a("Server Error!!<br/>Please contact the administrator.")}))}).catch(e=>{a("Server Error!!<br/>Please contact the administrator.")})}))):this.setStudentsDefulatGraph(()=>{this._connected_students=this.state.solving_students.length},t)}}var i,o,n,r,a}receive(e){if(super.receive(e),11===e.type&&e.data){if("assessment_result"===e.data.msgtype){const t=e.data;let i=this.state.solving_students.findIndex(e=>e.id+""==t.id+"");if(c.App.isDvlp&&this.state.solving_students.length>0&&(i=0),-1===i)return;let o=this.state.solving_students[i];if(e.data.cleard&&(o.isCleard=e.data.cleard),o){let e=[...o.detail];e&&(()=>{s(this,void 0,void 0,(function*(){yield u.default.get(c.App.addOnHost+"/ma/score/stat-info",{params:{clsIdx:JSON.stringify(this.state.classid),depthItemIdx:JSON.stringify(this.state.curriculumid),studyCd:"AR2",userIdx:JSON.stringify(c.App.isDvlp?t.id:o.id),isRetake:JSON.stringify(this.state.isRetake)}}).then(i=>{if(i.data){let s=e.findIndex(e=>e.seq===JSON.parse(t.result).seq);-1!==s&&(e[s]=JSON.parse(t.result)),e.map((e,i)=>{o.detail[i].isSolved=e.isSolved,o.detail[i].isRight=e.isRight,o.detail[i].tryCnt=e.tryCnt,o.detail[i].isTwin=e.isTwin;const s=JSON.parse(t.result).twinInfo,n=o.detail[i].twinInfo;s&&n&&s.seq===n.seq&&(o.detail[i].twinInfo=JSON.parse(t.result).twinInfo,1!==o.detail[i].hadExplain&&1!==o.detail[i].twinInfo.hadExplain||(e.twinInfo=o.detail[i].twinInfo,e.hadExplain=1,this.actions.addNeedExplain(o,o.detail[i])))}),o.solvedCnt=e.filter(e=>e.isSolved).length;let n=i.data.resultData.score,a=i.data.resultData.prevScore;n<0&&(n=0),(void 0===a||a<0)&&(a=0),o.after_score=parseFloat(n.toFixed(2)),o.before_score=parseFloat(a.toFixed(2)),o.correctCnt=e.filter(e=>e.twinInfo&&e.twinInfo.isRight||e.isRight).length,(-1!==window.location.href.indexOf("localhost")||-1!==window.location.href.indexOf("fel40")||c.App.isDvlp)&&(console.log("학생별 최종점수 아이디 :: ",o.id),console.log("학생별 최종점수 이름 :: ",o.name),console.log("학생별 최종점수 닉네임 :: ",o.nickname),console.log("학생별 최종점수 이전 :: ",o.before_score),console.log("학생별 최종점수 이후 :: ",o.after_score)),o.detail=e,r.delay(()=>{this.state.lastUpdated+=1},10),o.detail&&o.detail.map(e=>{"string"==typeof e.dpAnswer&&(e.dpAnswer=JSON.parse(e.dpAnswer))})}}).catch(e=>{})}))})()}}}if(3===e.type&&r.delay(()=>{-1===this._init_data.findIndex(t=>t.userIdx+""==e.data.id+"")&&(this.checkStudents(!0,e.data.id+""),-1!==window.location.href.indexOf("localhost")&&r.delay(()=>{this.checkStudents(!0,e.data.id+"")},100))},500),0===e.type&&r.delay(()=>{-1===this._init_data.findIndex(t=>t.userIdx+""==e.data.id+"")&&(this.checkStudents(!0,e.data.id+""),-1!==window.location.href.indexOf("localhost")&&r.delay(()=>{this.checkStudents(!0,e.data.id+"")},100))},2e3),4===e.type){if(-1!==this._init_data.findIndex(t=>t.userIdx+""==e.data.id+""))return;this.checkStudents(!0,e.data.id+""),-1!==window.location.href.indexOf("localhost")&&r.delay(()=>{this.checkStudents(!0,e.data.id+"")},100)}if(1===e.type){let e={msgtype:"assessment_curriculm",classid:this.state.classid,bookid:this.state.bookid,curriculum:JSON.stringify(this.state.lesson),curriculumid:this.state.curriculumid,title:this.state.lesson?this.state.lesson.name:"",additional_data:JSON.stringify(this.state.additional_data),isRetake:this.state.isRetake+""};l.sendPAD(10,e)}}setData(e){this._data=e}}o([a.observable],f.prototype,"state",void 0),o([a.action],f.prototype,"_setViewDiv",null),t.TeacherContext=f;const g=new f;t.tContext=g;const{Provider:v,Consumer:y}=n.createContext(g);t.TeacherConsumer=y;class b extends n.Component{render(){return n.createElement(v,{value:g},this.props.children)}}t.TeacherProvider=b,t.useTeacher=function(e){return function(t){return n.createElement(y,null,t=>n.createElement(e,Object.assign({},t)))}}},function(e,t,i){"use strict";e.exports=function(e,t){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return e.apply(t,i)}}},function(e,t,i){"use strict";var o=i(3);function s(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,i){if(!t)return e;var n;if(i)n=i(t);else if(o.isURLSearchParams(t))n=t.toString();else{var r=[];o.forEach(t,(function(e,t){null!=e&&(o.isArray(e)?t+="[]":e=[e],o.forEach(e,(function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),r.push(s(t)+"="+s(e))})))})),n=r.join("&")}if(n){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}},function(e,t,i){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,i){"use strict";(function(t){var o=i(3),s=i(45),n={"Content-Type":"application/x-www-form-urlencoded"};function r(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(a=i(19)),a),transformRequest:[function(e,t){return s(t,"Accept"),s(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),o.forEach(["post","put","patch"],(function(e){c.headers[e]=o.merge(n)})),e.exports=c}).call(this,i(44))},function(e,t,i){"use strict";var o=i(3),s=i(46),n=i(16),r=i(48),a=i(51),c=i(52),l=i(20);e.exports=function(e){return new Promise((function(t,d){var p=e.data,u=e.headers;o.isFormData(p)&&delete u["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",_=e.auth.password||"";u.Authorization="Basic "+btoa(m+":"+_)}var f=r(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),n(f,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in h?a(h.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:i,config:e,request:h};s(t,d,o),h=null}},h.onabort=function(){h&&(d(l("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){d(l("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),d(l(t,e,"ECONNABORTED",h)),h=null},o.isStandardBrowserEnv()){var g=i(53),v=(e.withCredentials||c(f))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;v&&(u[e.xsrfHeaderName]=v)}if("setRequestHeader"in h&&o.forEach(u,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete u[t]:h.setRequestHeader(t,e)})),o.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),d(e),h=null)})),void 0===p&&(p=null),h.send(p)}))}},function(e,t,i){"use strict";var o=i(47);e.exports=function(e,t,i,s,n){var r=new Error(e);return o(r,t,i,s,n)}},function(e,t,i){"use strict";var o=i(3);e.exports=function(e,t){t=t||{};var i={},s=["url","method","params","data"],n=["headers","auth","proxy"],r=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];o.forEach(s,(function(e){void 0!==t[e]&&(i[e]=t[e])})),o.forEach(n,(function(s){o.isObject(t[s])?i[s]=o.deepMerge(e[s],t[s]):void 0!==t[s]?i[s]=t[s]:o.isObject(e[s])?i[s]=o.deepMerge(e[s]):void 0!==e[s]&&(i[s]=e[s])})),o.forEach(r,(function(o){void 0!==t[o]?i[o]=t[o]:void 0!==e[o]&&(i[o]=e[o])}));var a=s.concat(n).concat(r),c=Object.keys(t).filter((function(e){return-1===a.indexOf(e)}));return o.forEach(c,(function(o){void 0!==t[o]?i[o]=t[o]:void 0!==e[o]&&(i[o]=e[o])})),i}},function(e,t,i){"use strict";function o(e){this.message=e}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,e.exports=o},function(e,t,i){"use strict";var o=this&&this.__decorate||function(e,t,i,o){var s,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(n<3?s(r):n>3?s(t,i,r):s(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},s=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(s,n){function r(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),r=i(2),a=i(1),c=i(4),l=i(7),d=i(5),p=i(6),u=i(61),h=i(63),m=i(64),_=i(9),f=i(9),g=i(12),v=i(8),y=i(65),b=i(66),w=i(67).default,k={direction:"horizontal",observer:!1,noSwiping:!0};let x=class extends n.Component{constructor(e){super(e),this._curIdx=0,this._prog=0,this._resultShowing=[],this._typeSayPop=0,this.quizResult=[],this.quizCheck=null,this._viewAlert=!1,this._viewNewAlertMsg="",this._viewSolution=!1,this._waitLoading=0,this.navi={view:!0,enableLeft:!1,enableRight:!1},this._result=[],this.ifr=[],this.ifr_desc=[],this._passTwin=!1,this._lastQuestionMsg="",this.check_question=void 0,this._swiper=null,this._refSwiper=e=>{if(!e)return;const t=e.swiper;t.on("init",()=>{}),t.on("transitionStart",()=>{this._passTwin=!1,this._viewAlert=!1,this._viewNewAlertMsg="",this._viewSolution=!1}),t.on("slideChangeTransitionEnd",()=>{this.props.view&&(d.clearSPenTool(),this._passTwin=!1,this._curIdx=t.activeIndex,this._curIdx<this.quizResult.length&&4!==this._prog&&(3===this._prog&&!1===this.props.isPreview&&0===this.props.complete&&(this._prog=1),this.quizResult[this._curIdx].starttime=(new Date).getTime(),this.quizResult[this._curIdx].endtime=(new Date).getTime(),this.quizResult[this._curIdx].tryCnt=0,this.navi={view:!0,enableLeft:!1,enableRight:!1}),void 0===this.check_question?this.initContent(this._curIdx):this.initContent(-1))}),this._swiper=t},this.showSolution=()=>{c.App.pub_solution_btn_click(),this._viewSolution=!0},this.showProblem=()=>{c.App.pub_playBtnTab(),this._viewSolution=!1},this._onPrev=()=>{0!==this._curIdx&&(c.App.pub_playBtnTab(),this._swiper&&this._swiper.slidePrev(0))},this._onNext=()=>{if(c.App.pub_playBtnTab(),!0===this.props.view&&this._curIdx===this.quizResult.length-2&&this.quizResult[this._curIdx].correct||this._curIdx===this.quizResult.length-1)p.delay(()=>{this.props.goToPrev()},500);else if(this._swiper&&(!0===this._passTwin?this._curIdx+=2:this._curIdx+=1,this._swiper&&(this._swiper.slideTo(this._curIdx,0,!0),this.check_question=void 0,this._swiper.update())),this.props.quiz_list){let e={};e=this.check_question?{bgColor:Object.assign({},this.check_question.bgColor)}:{bgColor:Object.assign({},this.props.quiz_list[this._curIdx].bgColor)}}},this.clickSubmitItemofQuizList=e=>{},this._onSend=e=>s(this,void 0,void 0,(function*(){if(!this.props.view)return;if(1!==this._prog)return;if(-1===this._curIdx)return;let t=this.quizResult[this._curIdx];if(null!==this.quizCheck&&(t=this.quizCheck),2===t.tryCnt)return;this._prog=2,c.App.pub_playToPad(),t.tryCnt++,this.props.quiz_list&&-1===this.props.quiz_list[this._curIdx].isTwin&&t.correct&&(this._passTwin=!0);let i=0;t.starttime&&t.endtime&&(t.endtime=(new Date).getTime(),i=Math.round((t.endtime-t.starttime)/1e3));const o=this.props.quiz_list;if(null===o)return;let s=o[this._curIdx];if(void 0!==this.check_question&&(s=this.check_question),!s)return t.tryCnt-=1,this._prog=1,void(this._viewNewAlertMsg="Error!!<br/>Please contact the administrator.");const n=()=>{c.App.student&&(t.studentid=c.App.student.id);const e=this._curIdx;if(e<-1)return;let i=this._result[e];null!==this.quizCheck&&(i=this.quizCheck),i.quizSeq=t.contentSeq,i.tryCnt=t.tryCnt,i.compelete=t.completed,i.correct=t.correct,l.wait(1e3),t.correct?this._typeSayPop=1:(this._typeSayPop=6,this._viewSolution=!0),void 0===this.check_question?(this._curIdx===this.quizResult.length-1?this._prog=4:this._prog=3,1!==this.props.complete&&this.completeContent(this._curIdx),this._resultShowing[this._curIdx]=!0):this._prog=3};if(null!==this.quizCheck)this.quizCheck.tryCnt=t.tryCnt,this.quizCheck.isRight=t.correct,n();else{let o=new FormData;try{o.append("ansTf",t.correct?"1":"0"),o.append("duration",i+""),o.append("mainSeq",s.mainSeq?s.mainSeq+"":"0"),o.append("dpProblemtype",-1===s.isTwin?"PM":"PT"),o.append("quesSeq",s.quesSeq?s.quesSeq+"":"0"),o.append("studyCd","AR2"),o.append("tryCnt",t.tryCnt+""),this.props.state&&o.append("isRetake",this.props.state.isRetake+""),o.append("userAnswer",JSON.stringify(t.userChoices))}catch(e){console.log("왜 안붙냐 ㅡㅡ",e)}yield v.default({method:"post",url:c.App.addOnHost+"/ma/answer",data:o}).then(i=>{if(!i.data.success)return t.tryCnt-=1,void(this._viewNewAlertMsg="Server Error!!<br/>Please contact the administrator.");if(this.props.quiz_list&&this.props.quiz_list.length>this._curIdx&&this.props.state){this.props.quiz_list[this._curIdx].tryCnt=t.tryCnt,this.props.quiz_list[this._curIdx].isRight=t.correct;let i=this._curIdx===this.quizResult.length-2&&this.quizResult[this._curIdx].correct||this._curIdx===this.quizResult.length-1;!1===this.props.isPreview&&this.props.checkCurrent(this._curIdx,t.correct,t.tryCnt);let o={addOnHost:c.App.addOnHost+"",liveType:"red",plusMinusType:"plus",score:this.props.quiz_list[this._curIdx].isRight?10:0,userIdx:c.App.student&&!1===c.App.isDvlp?parseInt(c.App.student.id,10)+"":"79203",clsIdx:this.props.state.classid,depthItemIdx:this.props.state.curriculumid,callback:t=>{if(this.props.quiz_list&&this.props.quiz_list.length>this._curIdx){const t={msgtype:"assessment_result",cleard:i,idx:0,id:c.App.student&&!1===c.App.isDvlp?parseInt(c.App.student.id,10):79203,mainSeq:this._curIdx>-1&&this.props.quiz_list[this._curIdx]?this.props.quiz_list[this._curIdx].mainSeq:0,after_score:this.props.state?this.props.state.after_score:0,result:JSON.stringify(-1!==this.props.quiz_list[this._curIdx].isTwin&&this._curIdx>0?this.props.quiz_list[this._curIdx-1]:this.props.quiz_list[this._curIdx])};this._prog=3,d.sendTeacher(11,t),e&&e(),0===this.props.complete&&(d.showSLivePointPop(!0),this.props.actions&&this.props.actions.getQuestionConcept(!1,()=>{n(),p.delay(()=>{this.navi={view:!0,enableLeft:!1,enableRight:!0}},2e3)}))}},error:e=>{this._viewNewAlertMsg="Error!!<br/>Please contact the administrator."}};if(c.App.isDvlp)b.setLivePoint(o);else if(this.props.quiz_list&&this.props.quiz_list.length>this._curIdx&&c.App.student){const t={msgtype:"assessment_result",id:parseInt(c.App.student.id,10),idx:0,cleard:i,after_score:this.props.state?this.props.state.after_score:0,mainSeq:this._curIdx>-1&&this.props.quiz_list[this._curIdx]?this.props.quiz_list[this._curIdx].mainSeq:0,result:JSON.stringify(-1!==this.props.quiz_list[this._curIdx].isTwin&&this._curIdx>0?this.props.quiz_list[this._curIdx-1]:this.props.quiz_list[this._curIdx])};this._prog=3,d.sendTeacher(11,t),e&&e(),0===this.props.complete&&(d.showSLivePointPop(!0),n(),p.delay(()=>{this.navi={view:!0,enableLeft:!1,enableRight:!0}},2e3))}}}).catch(e=>{this.quizResult[this._curIdx].tryCnt-=1,this._viewNewAlertMsg="Server Error!!<br/>Please contact the administrator."})}})),this._onCompletedSayPop=()=>{this._typeSayPop=0;let e=this.quizResult[this._curIdx];1!==e.tryCnt||e.correct},this._onCloseNewAlertPop=()=>{this.props.view&&(2===this._prog&&(this._prog=1),this._viewNewAlertMsg="")},this.handlePostMessage=e=>{const t=e.data;if("macontent"===t.from&&"submit"===t.type){let e;if(void 0===this.check_question){if(this._curIdx<-1||this._curIdx>=this.quizResult.length)return;e=this.quizResult[this._curIdx]}else e=this.quizCheck;if(null!==e){m.answercheck(e,t.msg);let i=!0,o=!0;e.userChoices.map((e,t)=>{e.completed||(i=!1),e.correct||(o=!1)}),e.completed=i,e.correct=o}}},this.onIfmLoaded=e=>{let t=this.checked_ifr;if(t=-1===e?this.checked_ifr:this.ifr[e],t){e>=0&&e<this.quizResult.length&&(this.quizResult[e].starttime=(new Date).getTime(),this.quizResult[e].endtime=(new Date).getTime());try{const i=t.contentWindow;if(!this.props.quiz_list||!i)return;let o={};o=this.check_question?{bgColor:Object.assign({},this.check_question.bgColor)}:{bgColor:Object.assign({},this.props.quiz_list[e].bgColor)},this.sendPostMessage("changeBGStyle",o,e),this.sendPostMessageToDesc("changeBGStyle",o,e),this.initContent(e)}catch(e){console.log(e)}}},this.onIfmDescLoaded=e=>{let t=this.checked_desc_ifr;if(t=-1===e?this.checked_desc_ifr:this.ifr_desc[this._curIdx],t)try{const i=t.contentWindow;if(!this.props.quiz_list||!i)return;let o={};o=this.check_question?{bgColor:Object.assign({},this.check_question.bgColor)}:{bgColor:Object.assign({},this.props.quiz_list[e].bgColor)},this.sendPostMessageToDesc("changeBGStyle",o,e)}catch(e){console.log(e)}};const t=this.props.quiz_list;if(null!==t)for(let e=0;e<t.length;e++)this._result.push({quizSeq:t[e].seq,correct:!1,tryCnt:0,compelete:!1,qnumber:t[e].seq,quizKind:0,mainSeq:t[e].mainSeq?t[e].mainSeq:0})}componentDidMount(){window.addEventListener("message",this.handlePostMessage,!1)}componentWillUnmount(){window.removeEventListener("message",this.handlePostMessage,!1)}sendPostMessage(e,t,i){let o=this.checked_ifr;if(o=-1===i?this.checked_ifr:this.ifr[i],!o)return;let s={from:"matemplate",to:"macontent",type:e,msg:t};s=JSON.parse(JSON.stringify(s)),o&&null!==o.contentWindow&&o.contentWindow.postMessage(s,"*")}sendPostMessageToDesc(e,t,i){let o=this.checked_desc_ifr;if(o=-1===i?this.checked_desc_ifr:this.ifr_desc[i],!o)return;let s={from:"matemplate",to:"macontent",type:e,msg:t};s=JSON.parse(JSON.stringify(s)),o&&null!==o.contentWindow&&o.contentWindow.postMessage(s,"*")}initContent(e){let t,i;if(-1!==e){const o=this.props.quiz_list;if(null===o)return;t=o[e],i=this.ifr[e]}else i=this.checked_ifr,t=this.check_question;if(t&&t.answers){let i={idx:-1===e?0:e,quizmode:"ip",isTeacher:!1,content:{answers:t.answers,desc:t.desc,difiicult:t.desc,mainSeq:t.mainSeq,qnumber:t.seq,quesSeq:t.quesSeq,quizKind:0,seq:t.seq,thumb:t.thumb,url:t.url}};this.sendPostMessage("init",i,e)}}completeContent(e){const t=this.props.quiz_list;if(null===t)return;let i={idx:e,quizmode:"ip",isTeacher:!1,content:[t[e]]};this.sendPostMessage("completed",i,e)}componentWillReceiveProps(e){if(this.props.view!==e.view&&e.view){const t=e.quiz_list;if(null===t)return;this.quizResult=[],this._passTwin=!1,void 0===this.check_question&&(this.quizCheck=null);for(let e=0;e<t.length;e++){let i=[];t[e].answers&&(t[e].answers.map(e=>{i.push({choicedIdx:[],choicedValue:[],correct:!1,completed:!1})}),this.quizResult.push({studentid:c.App.student?c.App.student.id:"",contentSeq:t[e].seq,contentAnswers:t[e].answers,userChoices:i,correct:!1,tryCnt:0,completed:!1,solved:!1,url:t[e].url+"/index.html?key="+(new Date).toISOString(),desc:t[e].url+"/desc.html?key="+(new Date).toISOString(),starttime:(new Date).getTime(),endtime:(new Date).getTime()})),this._resultShowing.push(!1),this.navi={view:!0,enableLeft:!1,enableRight:!1}}const i=this.props.quiz_list;if(null===i)return;for(let e=0;e<i.length;e++)this._result[e]={quizSeq:i[e].seq,correct:!1,tryCnt:0,compelete:!1,qnumber:i[e].seq,quizKind:0,mainSeq:i[e].mainSeq?i[e].mainSeq:0}}if(4===this._prog&&0===this.props.complete&&(this.props.isPreviewIdx&&this.props.isPreview&&(this._curIdx=this.props.isPreviewIdx),this._swiper&&e.view)){this._swiper.update();if(null===this.props.quiz_list)return;let e=setInterval(()=>{this._swiper&&this._swiper.slides&&this._swiper.slides.length>this._curIdx&&(this.props.isPreview&&(this._prog=1),clearInterval(e),this._swiper&&this.props.isPreview&&this.props.view&&(this._swiper.slideTo(this._curIdx,0,!0),this.check_question=void 0,this.props.isPreview&&void 0===this.check_question&&(this._prog=3),this.onIfmLoaded(this._curIdx)))},10)}if(this.props.view!==e.view&&e.isPreview){e.isPreviewIdx&&e.isPreview&&(this._curIdx=e.isPreviewIdx);let t=setInterval(()=>{this._swiper&&(this._swiper.slides&&this._swiper.slides.length>this._curIdx&&(this.props.isPreview&&(this._prog=1),clearInterval(t)),this._swiper.slides&&this._swiper.slides.length>this._curIdx&&this._swiper&&this.props.isPreview&&this.props.view&&(this._swiper.slideTo(this._curIdx,0,!0),this.check_question=void 0,this.props.isPreview&&void 0===this.check_question&&(this._prog=3),this.onIfmLoaded(this._curIdx)))},10)}}componentDidUpdate(e){if(this.props.view&&!e.view){if(this.props.isPreviewIdx&&this.props.isPreview?this._curIdx=this.props.isPreviewIdx:this._curIdx=0,this._viewAlert=!1,this._viewNewAlertMsg="",void 0===this.check_question&&this.props.isPreview?(this._viewSolution=!1,this._prog=3):(0===this.props.complete||this.props.isPreview)&&(this._prog=1),this._swiper&&0===this.props.complete){this._swiper.update();let e=setInterval(()=>{this._swiper&&this._swiper.slides&&this._swiper.slides.length>this._curIdx&&this.props.view&&(this._swiper.slideTo(this._curIdx,0),this.props.toggleDetail&&this.props.toggleDetail(!1),this.check_question=void 0,clearInterval(e))},10)}if(null===this.props.quiz_list)return}else if(!this.props.view&&e.view){this._viewAlert=!1,this._viewNewAlertMsg="",this._viewSolution=!1;const e=this.props.quiz_list;if(null===e)return;for(let t=0;t<e.length;t++)this._result[t]={quizSeq:e[t].seq,correct:!1,tryCnt:0,compelete:!1,qnumber:e[t].seq,quizKind:0,mainSeq:e[t].mainSeq?e[t].mainSeq:0}}1===this.props.complete&&1!==e.complete&&(this.navi=Object.assign(Object.assign({},this.navi),{enableLeft:!1,enableRight:!1}))}render(){const{view:e,state:t}=this.props;return!1===this.props.view&&this.props.isPreview||void 0===this.props.quiz_list||null===this.props.quiz_list||0===this.props.quiz_list.length?n.createElement("div",{className:"s_independent_practice ",style:{display:"none",opacity:"0"}}):n.createElement(n.Fragment,null,n.createElement("div",{className:"s_independent_practice "+(this.props.isPreview?"preview":""),style:{display:e?"block":"none",opacity:e?"1":"0"}},n.createElement(_.WarningPopup,{view:!1===this.props.isPreview&&this._prog<4&&1===this.props.complete,type:0,button:!1,delay:3,onComplete:()=>{!1===this.props.isPreview&&this.props.view&&1===this.props.complete&&4!==this._prog&&(3===this._prog?(this._prog=4,this.props.goToPrev()):1===this._prog&&(this.quizResult.length>this._curIdx&&(this.quizResult[this._curIdx].correct=!1),this._typeSayPop=6,this._onSend(()=>{p.delay(()=>{this._prog=4,this.props.goToPrev()},2500)})))}}),n.createElement("div",{id:"navi_container",style:this.props.isPreview&&!1===this.props.isteacher?{display:"none"}:{}},n.createElement(g.Navi,{view:this.navi.view,enableLeft:this.navi.enableLeft,enableRight:this.navi.enableRight,onLeftClick:()=>this._onPrev(),onRightClick:()=>this._onNext()})),n.createElement("div",{id:"contentWrap",className:"contentWrap"},(()=>{if(!this.props.quiz_list[this._curIdx])return n.createElement(n.Fragment,null);let e;this.props.state&&(e=this.props.state.result);const t=()=>{let e=!1;return this._curIdx>-1&&null!==this.props.quiz_list&&this.props.quiz_list[this._curIdx]&&this.props.quiz_list[this._curIdx+1]&&this.props.quiz_list[this._curIdx].twinInfo&&this.props.quiz_list[this._curIdx+1].seq===this.props.quiz_list[this._curIdx].twinInfo.seq&&void 0===this.check_question&&void 0!==this.props.quiz_list[this._curIdx].checkInfo&&(e=!0),e};return n.createElement(n.Fragment,null,n.createElement(y.default,{view:this.props.view,quizIdx:!1===this.props.isPerfect?this.props.quiz_list[this._curIdx].prevOrderNo1:this._curIdx+1,tryCnt:(()=>this.check_question&&this.quizCheck?this.quizCheck.tryCnt:this.props.quiz_list[this._curIdx].tryCnt)(),isRight:(()=>this.check_question&&this.quizCheck?this.quizCheck.isRight:this.props.quiz_list[this._curIdx].isRight)(),quizLevel:this.props.quiz_list[this._curIdx].dpLevel,isTwin:-1!==this.props.quiz_list[this._curIdx].isTwin,maintryCnt:(()=>!1===t()&&this.props.quiz_list[this._curIdx-1]?this.props.quiz_list[this._curIdx-1].tryCnt:this.props.quiz_list[this._curIdx].tryCnt)(),mainisRight:(()=>!1===t()&&this.props.quiz_list[this._curIdx-1]?this.props.quiz_list[this._curIdx-1].isRight:this.props.quiz_list[this._curIdx].isRight)(),isteacher:!1,isPerfect:this.props.isPerfect,isPreview:this.props.isPreview,isChecked:!(t()&&this.props.quiz_list[this._curIdx]&&0!==this.props.quiz_list[this._curIdx].hadExplain),checkQuestion:()=>{let e;if(null!==this.props.quiz_list&&(this.props.toggleDetail&&this.props.toggleDetail(!1),this.props.quiz_list&&this.props.quiz_list[this._curIdx]&&(e=this.props.quiz_list[this._curIdx].checkInfo),e)){this.quizResult.length>this._curIdx&&this.quizResult[this._curIdx]&&(this.quizResult[this._curIdx].completed=!1);let t=[];if(e.answers){e.answers=[];let i=JSON.parse(e.dpAnswer+"");for(let t=0;t<i.length;t++)e.answers[t]={basetype:i[t].base?i[t].base:0,subtype:i[t].sub?i[t].sub:0,basetypename:i[t].baseName?i[t].baseName:"",subtypename:i[t].subName?i[t].subName:"",matchType:i[t].matchType?i[t].matchType:0,answers:i[t].inputList?i[t].inputList:[]};e.answers.map(e=>{t.push({choicedIdx:[],choicedValue:[],correct:!1,completed:!1})}),this.quizCheck={studentid:c.App.student?c.App.student.id:"",contentSeq:e.seq,contentAnswers:e.answers,userChoices:t,correct:!1,tryCnt:0,completed:!1,solved:!1,isRight:void 0,url:e.url+"/index.html?key="+(new Date).toISOString(),desc:e.url+"/desc.html?key="+(new Date).toISOString(),starttime:(new Date).getTime(),endtime:(new Date).getTime()}}this.check_question=e,this._prog=1,this._viewSolution=!1}},toggleDetail:this.props.toggleDetail,solvedCnt:(()=>{if(e&&e.detail){return e.detail.filter(e=>1===e.isSolved||1===e.twinInfo.isSolved).length}return 0})(),totalCnt:e&&e.totalCnt?e.totalCnt:0,need_explain:!(!this.props.quiz_list||-1!==this.props.quiz_list[this._curIdx].isTwin)&&1===this.props.quiz_list[this._curIdx].hadExplain}))})(),n.createElement(w,Object.assign({ref:this._refSwiper},k,{activeSlideKey:this.props.isPreview?this.props.isPreviewIdx:null}),this.props.quiz_list.map((e,t)=>n.createElement("div",{key:"q_"+t+e.seq,className:"swiper-no-swiping",style:!1===this.props.view||void 0!==this.check_question?{opacity:0,pointerEvents:"none"}:{}},n.createElement("iframe",{src:!this.props.view||0!==t&&this._curIdx!==t&&this.props.isPreviewIdx!==t?"":e.url+"index.html?&idx="+t,style:{display:this._viewSolution?"none":""},ref:e=>{e&&(this.ifr[t]=e)},onLoad:this.onIfmLoaded.bind(this,t)}),(()=>n.createElement("iframe",{src:!this.props.view||0!==t&&this._curIdx!==t&&this.props.isPreviewIdx!==t?"":e.url+"desc.html?&idx="+t,ref:e=>{e&&(this.ifr_desc[t]=e)},onLoad:this.onIfmDescLoaded.bind(this,t),style:this._viewSolution?{opacity:1,pointerEvents:"auto"}:{opacity:0,pointerEvents:"none"}}))()))),(()=>this.check_question?n.createElement("div",{className:"check_question",style:{zIndex:2}},n.createElement("div",{className:"swiper-slide"},n.createElement("iframe",{src:this.check_question.url+"index.html",style:{display:this._viewSolution?"none":""},ref:e=>{e&&(this.checked_ifr=e)},onLoad:this.onIfmLoaded.bind(this,-1)}),(()=>n.createElement("iframe",{src:this.check_question.url+"desc.html",ref:e=>{e&&(this.checked_desc_ifr=e)},onLoad:this.onIfmDescLoaded.bind(this,-1),style:{display:this._viewSolution?"":"none"}}))())):n.createElement(n.Fragment,null))(),n.createElement("button",{className:"btn_solution",onClick:this.showSolution,style:{display:this._prog>=3&&!this._viewSolution?"block":"none"}}),n.createElement("button",{className:"btn_problem",onClick:this.showProblem,style:{display:this._viewSolution?"block":"none"}})),n.createElement(f.AlertPopup,{view:""!==this._viewNewAlertMsg,msg:this._viewNewAlertMsg,onClose:this._onCloseNewAlertPop,onOk:this._onCloseNewAlertPop,isSingle:!0}),n.createElement(u.default,{isVisiblePenTool:this.props.isVisiblePenTool,view:!1===this.props.isteacher&&e&&this._curIdx>-1&&null===this.quizCheck&&this._curIdx<this.quizResult.length&&1===this._prog,type:"pad",sended:this._prog>=3,originY:0,onSend:this._onSend}),n.createElement(u.default,{isVisiblePenTool:this.props.isVisiblePenTool,view:e&&void 0!==this.check_question&&null!==this.quizCheck&&1===this._prog,type:"pad",sended:this._prog>=3,originY:0,onSend:this._onSend}),n.createElement("button",{className:"common_back checked_frame "+(void 0!==this.check_question&&this._prog>=3?"active":""),onClick:()=>{this.quizCheck&&(this.quizCheck.tryCnt=0),this.check_question=void 0,this._prog=3,this._viewSolution=!1,c.App.pub_playBtnBack()}}),n.createElement("section",{id:"detail_btns",hidden:!1===this.props.isPreview||void 0!==this.check_question},n.createElement("button",{id:"problum_prev",disabled:this._curIdx<=0,onClick:()=>{if(this.props.isPerfect&&this._swiper)return this._curIdx-=1,this._swiper.slideTo(this._curIdx,0,!0),void this._swiper.update();c.App.pub_playBtnTab(),this._curIdx>0&&this.props.quiz_list&&-1!==this.props.quiz_list[this._curIdx-1].isTwin&&1!==this.props.quiz_list[this._curIdx-1].isSolved?this._curIdx-=2:this._curIdx-=1,this._curIdx<0&&(this._curIdx=0),this._swiper&&(this._swiper.slideTo(this._curIdx,0,!0),this.check_question=void 0,this._prog=3,this._swiper.update())}}),n.createElement("button",{id:"problum_toggle",onClick:()=>{c.App.pub_playBtnTab(),this.props.goToPrev()}}),n.createElement("button",{id:"problum_next",disabled:!1===this.props.isPerfect&&(this._curIdx<=this.props.quiz_list.length-1&&this._curIdx===this.props.quiz_list.length-1||this._curIdx===this.props.quiz_list.length-2&&!0===this.props.quiz_list[this._curIdx].isRight||this._curIdx>-1&&this._curIdx<=this.props.quiz_list.length-2&&this.props.quiz_list[this._curIdx+2]&&1!==this.props.quiz_list[this._curIdx+2].isSolved&&this.props.quiz_list[this._curIdx+1]&&1!==this.props.quiz_list[this._curIdx+1].isSolved),onClick:()=>{if(this.props.isPerfect&&this._swiper&&this.props.quiz_list){if(this._curIdx===this.props.quiz_list.length-1)return;return this._curIdx+=1,this._swiper.slideTo(this._curIdx,0,!0),void this._swiper.update()}this.props.quiz_list&&this.props.quiz_list[this._curIdx+1]&&1===this.props.quiz_list[this._curIdx+1].isSolved?this._curIdx+=1:this.props.quiz_list&&this.props.quiz_list[this._curIdx+2]&&1===this.props.quiz_list[this._curIdx+2].isSolved&&(this._curIdx+=2),c.App.pub_playBtnTab(),this._swiper&&(this._swiper.slideTo(this._curIdx,0,!0),this.check_question=void 0,this._prog=3,this._swiper.update())}})),c.App.isDvlp?n.createElement("button",{id:"skip",onClick:()=>{this.props.quiz_list&&(this._curIdx=this.props.quiz_list.length-1),this._swiper&&this._swiper.slideTo(this._curIdx,100,!0)}}):""),n.createElement(h.NewSayPopup,{view:this._typeSayPop>0,delay:2800,type:this._typeSayPop,onComplete:this._onCompletedSayPop,hideTeaching:!0}))}};o([a.observable],x.prototype,"_curIdx",void 0),o([a.observable],x.prototype,"_prog",void 0),o([a.observable],x.prototype,"_resultShowing",void 0),o([a.observable],x.prototype,"_typeSayPop",void 0),o([a.observable],x.prototype,"quizResult",void 0),o([a.observable],x.prototype,"quizCheck",void 0),o([a.observable],x.prototype,"_viewAlert",void 0),o([a.observable],x.prototype,"_viewNewAlertMsg",void 0),o([a.observable],x.prototype,"_viewSolution",void 0),o([a.observable],x.prototype,"_waitLoading",void 0),o([a.observable],x.prototype,"navi",void 0),o([a.observable],x.prototype,"_result",void 0),o([a.observable],x.prototype,"ifr",void 0),o([a.observable],x.prototype,"ifr_desc",void 0),o([a.observable],x.prototype,"_passTwin",void 0),o([a.observable],x.prototype,"_lastQuestionMsg",void 0),o([a.observable],x.prototype,"check_question",void 0),o([a.observable],x.prototype,"checked_ifr",void 0),o([a.observable],x.prototype,"checked_desc_ifr",void 0),x=o([r.observer],x),t.default=x},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(0);t.default=e=>{const[t,i]=o.useState(o.createElement(o.Fragment,null)),[s,n]=o.useState("defaultImg_f");return o.useEffect(()=>{let t=o.createElement(o.Fragment,null);const s="1"===e.displayMode&&(""===e.thumbnail||!e.thumbnail),r="2"===e.displayMode&&(""===e.avatar||!e.avatar);t=(s||r)&&e.name&&e.name.length>=2?o.createElement("span",{className:"text"},e.name[0].toUpperCase()+e.name[1].toUpperCase()):"1"===e.displayMode&&""!==e.thumbnail?o.createElement("img",{src:e.thumbnail}):o.createElement("img",{src:e.avatar}),i(t),n("F"===e.gender?"defaultImg_f":"defaultImg_m")},[e.displayMode,e.name,e.thumbnail,e.avatar,e.gender]),o.createElement("div",{className:"custom_thumbnail "+e.className+" "+s+(""!==e.thumbnail?" no-bold":"")},t)}},function(e,t,i){e.exports=i(26)},function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const o=i(10),s=i(0),n=i(29),r=i(4),a=i(5),c=i(30);o.setConfig({ErrorOverlay:e=>s.createElement("div",null)});const l={clear:r.App.pub_clear,importLink:c.importLink,importHTML:c.importHTML};let d;d=i(31);let p=!1;const u=d,h=u.default,m=u.AppProvider,_=u.appContext;l.set=(e,t,i)=>{r.App.pub_set(e,t,i),_.setData(e)},l.render=()=>{r.App.pub_initAudio(),n.render(s.createElement(m,null,s.createElement(h,null)),document.getElementById("wrap"))},l.init=(e,t,i,o,s,n)=>{r.App.pub_load(e,null,t,i,o,s,n)},l.start=()=>{p=!0,setTimeout(()=>_.start(),500)},l.receive=e=>{if(4===e.type){const t=e.data;p?t&&t.id&&""!==t.id&&(r.App.isStarted?a.sendPADToID(t.id,0,null):a.sendPADToID(t.id,1,null)):r.App.pub_addInitedStudent(t)&&(p||(p=!0,_.start()))}else _.receive(e)},l.teachingTool=e=>{},l.notifyNaviInfo=(e,t,i,o,s,n)=>{_.notifyNaviInfo(e,t,i,o,s,n)},l.notifyBookCaptureInfo=e=>{_.notifyBookCaptureInfo(e)},l.notifyUploadToServerResult=e=>{_.uploaded(e)},l.notifyUploadToServerMultiResult=e=>{_.multiUploaded(e)},l.notifyAlert=e=>{_.notifyAlert(e)},l.notifyPenToolState=(e,t)=>{_.notifyPenToolState(e,t)},l.notifyHamburgerMenuClicked=e=>{_.notifyHamburgerMenuClicked(e)},l.callThreeminState=()=>{_.callThreeminState()},i(71),e.app_o=l}).call(this,i(27))},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,s=(o=i(0))&&"object"==typeof o&&"default"in o?o.default:o;function n(e){return n.warnAboutHMRDisabled&&(n.warnAboutHMRDisabled=!0,console.error("React-Hot-Loader: misconfiguration detected, using production version in non-production environment."),console.error("React-Hot-Loader: Hot Module Replacement is not enabled.")),s.Children.only(e.children)}n.warnAboutHMRDisabled=!1;var r=function e(){return e.shouldWrapWithAppContainer?function(e){return function(t){return s.createElement(n,null,s.createElement(e,t))}}:function(e){return e}};r.shouldWrapWithAppContainer=!1;t.AppContainer=n,t.hot=r,t.areComponentsEqual=function(e,t){return e===t},t.setConfig=function(){},t.cold=function(e){return e},t.configureComponent=function(){}},function(e,t){e.exports=ReactDOM},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.importLink=t.importHTML=void 0,t.importHTML=function(e){return new Promise((t,i)=>{const o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="document",o.onload=e=>{if(!e)return;const s=o.response;s&&s.body&&s.body.firstElementChild?t(s.body.firstElementChild):s&&s.documentElement?t(s.documentElement):i("error")},o.onerror=e=>{i(e)},o.send(null)})},t.importLink=function(e,t){return new Promise((t,i)=>{const o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="document",o.onload=e=>{if(!e)return;const i=o.response;t(i)},o.onerror=e=>{i(e)},o.send(null)})}},function(e,t,i){"use strict";(function(e){var o=this&&this.__decorate||function(e,t,i,o){var s,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(n<3?s(r):n>3?s(t,i,r):s(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.appContext=t.AppProvider=void 0;const s=i(0),n=i(2),r=i(10),a=i(33),c=i(12);i(34),i(35);const l=i(14);Object.defineProperty(t,"AppProvider",{enumerable:!0,get:function(){return l.TeacherProvider}}),Object.defineProperty(t,"appContext",{enumerable:!0,get:function(){return l.tContext}});const d=i(56);let p=class extends s.Component{render(){const{state:e,actions:t}=this.props,i=e.viewDiv;return s.createElement(s.Fragment,null,s.createElement("div",{className:"content-container main"},s.createElement("div",{className:"content-wrapper",style:{left:("direction"===i?0:-1280)+"px"}},s.createElement(a.default,{className:"video-direction",view:"direction"===i&&""!==e.topicname,on:e.directionON&&""!==e.topicname,isTeacher:!0,lesson:t.getLession(),bookId:e.bookid,subtitle:"",poster_url:"/content/mathalive_lib/MA/assessment_review/common/bg_direction.jpg",video_url:"/content/mathalive_lib/MA/assessment_review/common/mv_assessment_review.mp4",video_frame:125,onEndStart:t.onDirectionEndStart,onEnd:t.onDirectionEnded,audio_url:-1===window.location.href.indexOf("localhost")?"/content/mathalive_lib/mp3/12_Assessment.mp3":""}),s.createElement("div",{style:"content"!==i?{opacity:"0"}:{}},s.createElement(d.default,{view:"content"===i,state:e,actions:t})))),s.createElement(c.Navi,Object.assign({},e.navi,{onLeftClick:t.naviLeft,onRightClick:t.naviRight})))}};p=o([n.observer],p);const u=l.useTeacher(e=>s.createElement(n.Observer,null,()=>s.createElement(p,{state:e.state,actions:e.actions})));t.default=r.hot(e)(u)}).call(this,i(32)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,i){"use strict";var o=this&&this.__decorate||function(e,t,i,o){var s,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(n<3?s(r):n>3?s(t,i,r):s(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},s=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(s,n){function r(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),r=i(1),a=i(2),c=i(7);let l=class extends n.Component{constructor(e){super(e),this.m_on=!1,this.m_showMathKit=!1,this.bookInfo=[],this.curIndex=0,this._list=[],this._onClick=()=>{this.props.isTeacher&&this._off()},this._off=()=>s(this,void 0,void 0,(function*(){this.props.view&&this.m_on&&(this.m_on=!1,this.props.onEndStart&&this.props.onEndStart(),yield c.wait(500),this.props.view&&!this.m_on&&this.props.onEnd&&this.props.onEnd())})),this.m_on=e.view&&e.on}_on(){return s(this,void 0,void 0,(function*(){this.m_on=!0}))}componentWillReceiveProps(e){if(e.lesson&&this.props.lesson!==e.lesson||this.props.view!==e.view){for(;this.bookInfo.length>0;)this.bookInfo.pop();e.lesson&&e.lesson.childrenList&&e.lesson.childrenList.length>0&&e.lesson.childrenList.map((t,i)=>{try{if(t.book){t.book.id===e.bookId&&(this.curIndex=this.bookInfo.length);let i=t.depth_name?t.depth_name:"";i=i.replace(/\&lt;/g,"<"),i=i.replace(/\&gt;/g,">"),this.bookInfo.push({bookName:t.name?t.name:"",id:t.id,lesson:e.lesson?e.lesson.name:"",subtitle:i})}}catch(e){alert("A ee  "+JSON.stringify(e))}})}}componentDidUpdate(e){this.props.view?e.view?this.props.on&&!e.on?this._on():!this.props.on&&e.on&&this._off():this.props.on?this._on():this.m_on=!1:this.m_on=!1}render(){const{isTeacher:e,subtitle:t}=this.props,i=[];i.push(this.props.className);const o=document.querySelector(".bgm");return this.props.view?(this.m_on&&i.push("on"),o&&o.play()):(i.push("hide"),o&&(o.pause(),o.currentTime=0)),n.createElement("div",{className:i.join(" "),onClick:this._onClick},e&&this.bookInfo&&n.createElement("span",{className:"concept_name"},this.bookInfo.length>0?this.bookInfo[this.curIndex].lesson:""),n.createElement("div",{className:"progress_dot"},e&&this.bookInfo&&this.bookInfo.map((e,t)=>n.createElement("span",{key:"q_"+t,className:this.curIndex===t?"on":""}))),n.createElement("div",{className:"video"},n.createElement("video",{muted:!0,autoPlay:!0,poster:this.props.poster_url?this.props.poster_url:void 0},n.createElement("source",{src:this.props.video_url,type:"video/mp4"}),n.createElement("strong",null,"Your browser does not support the video tag."))),n.createElement("div",{className:"text"},n.createElement("div",{className:"t1"},this.bookInfo&&this.bookInfo.length>0?this.bookInfo[this.curIndex].bookName:""),e&&n.createElement("div",{className:"t2",dangerouslySetInnerHTML:{__html:this.bookInfo&&this.bookInfo.length>0?this.bookInfo[this.curIndex].subtitle:""}}),!e&&n.createElement("div",{className:"t2",dangerouslySetInnerHTML:{__html:0===t.length&&this.bookInfo[this.curIndex]?this.bookInfo[this.curIndex].subtitle:t}})),n.createElement("audio",{className:"bgm",autoPlay:!0,src:this.props.audio_url?this.props.audio_url:void 0}))}};o([r.observable],l.prototype,"m_on",void 0),o([r.observable],l.prototype,"_list",void 0),o([r.action],l.prototype,"_off",void 0),l=o([a.observer],l),t.default=l},function(e,t,i){"use strict";i.r(t)},function(e,t,i){"use strict";i.r(t)},function(e,t,i){"use strict";var o=this&&this.__decorate||function(e,t,i,o){var s,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(n<3?s(r):n>3?s(t,i,r):s(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.TeacherContextBase=void 0;const s=i(1),n=i(4),r=i(5),a=i(37);class c{constructor(){this._naviLeftFnc=null,this._naviRightFnc=null,this.state={viewDiv:"direction",directionON:!1,navi:{view:!1,enableLeft:!1,enableRight:!1},svg_bg:{view:!0,bPlay:!1,viewCharactor:!0},loading:!1,retCnt:0,numOfStudent:0,bookid:0,bookkey:0,curriculumid:0,classid:0,unitid:0,lessonid:0,conceptLibiary:{view:!1,datatype:"grade",resultmode:!1}},this.actions={onDirectionEndStart:()=>{"direction"===this.state.viewDiv&&r.sendPAD(3,null)},onDirectionEnded:()=>{"direction"===this.state.viewDiv&&this._setViewDiv("content"),n.App.isStarted=!0},setNaviView:e=>{this.state.navi.view=e},setNavi:(e,t)=>{this.state.navi.enableLeft=e,this.state.navi.enableRight=t},setNaviFnc:(e,t)=>{this._naviLeftFnc=e,this._naviRightFnc=t},naviLeft:()=>{"direction"===this.state.viewDiv?r.sendLauncher(8,null):(n.App.pub_playBtnPage(),this._naviLeftFnc?this._naviLeftFnc():this._setViewDiv("direction"))},naviRight:()=>{"direction"===this.state.viewDiv?(n.App.pub_playBtnPage(),this.state.directionON=!1):(n.App.pub_playBtnPage(),this._naviRightFnc?this._naviRightFnc():r.sendLauncher(9,null))},setRetCnt:e=>{e>this.state.numOfStudent&&(e=this.state.numOfStudent),this.state.retCnt=e},setNumOfStudent:e=>{this.state.numOfStudent=e},setConcepLibaryView:e=>{this.state.conceptLibiary.view=e},setConcepLibaryDataType:e=>{this.state.conceptLibiary.datatype=e},setConcepLibaryResultMode:e=>{this.state.conceptLibiary.resultmode=e},setLoading:e=>{r.showTLoading(e)}},this.notifyBookCaptureInfo=e=>{},this.clickSendButton=()=>{},this.notifyRecordData=(e,t)=>{}}_setViewDiv(e,t){this.state.viewDiv!==e&&(t||n.App.pub_stop(),"direction"===e?(this.state.directionON=!0,this.state.svg_bg.bPlay=!0,this.state.svg_bg.viewCharactor=!0,r.sendLauncher(5,null),r.sendPAD(1,null),this.state.navi.view=!0,this.state.navi.enableLeft=n.App.prevBook,this.state.navi.enableRight=!0,this._naviLeftFnc=null,this._naviRightFnc=null,this.state.conceptLibiary.view=!1,this.state.conceptLibiary.datatype="grade",this.state.conceptLibiary.resultmode=!1):(this.state.directionON=!1,this.state.svg_bg.bPlay=!1,this.state.svg_bg.viewCharactor=!1,r.sendLauncher(6,null),r.sendPAD(0,null)),this._naviLeftFnc=null,this._naviRightFnc=null,this.state.numOfStudent=0,this.state.retCnt=0,this.state.viewDiv=e)}start(){if("direction"===this.state.viewDiv&&(this.state.directionON=!0,this.state.navi.view=!0,this.state.navi.enableLeft=n.App.prevBook,this.state.navi.enableRight=!0,this.state.svg_bg.bPlay=!0,r.sendLauncher(5,null),r.sendPAD(1,null)),n.App.isDvlp){let e=1398;e=1398;let t=23813;t=23832;let i=23813;i=23832;let o=e=>i+e;o=e=>i+e;let s=()=>"Check Your Skills";s=()=>"Improve Your Skills";let n={id:t,code:"00010001",depth:2,depth_name:"Module 1",info:"",div:"",subDiv:"",name:"Understand and Compare Fractions",thumbnail:"",childrenList:[],useYn:"Y",cmsLevel:""};for(let e=0;e<7;e++){let t="Understand Fractions with Number line";1===e?t="Count, Read and Write Numbers 4 – 5":2===e?t="Ways to make 5":3===e?t="Add and Subtract Decimals and Multiply Decimals and Whole Numbers":4===e?t="55555":5===e?t="66666":6===e&&(t="77777");let r="00010001000"+(e+1),c={id:1e3+e,code:r,depth:3,depth_name:"Topic "+(e+1)+".",info:"",div:"M0301",subDiv:"",name:t,thumbnail:"",childrenList:[],useYn:0===e?"N":"Y",cmsLevel:""};for(let e=0;e<6;e++){let t="M0401";1===e&&(t="M0402");let n=r+"000"+(e+1),l={id:1e3+e,code:n,depth:4,depth_name:"CONCEPT "+(e+1),info:"",div:t,subDiv:"",name:a.parseDept4Div(t),thumbnail:"",childrenList:[],useYn:"Y",cmsLevel:""},d="M0501",p="M050101";for(let e=0;e<24;e++){e<2?d="M0501":e>=2&&e<6?d="M0502":e>=6&&e<9?d="M0503":e>=9&&e<12?d="M0504":12===e?d="M0506":14===e?d="M0509":19===e&&(d="M0510"),e<2?p="M05010"+(e+1):e>=2&&e<6?p="M05020"+(e-1):6===e?p="M050302":e>6&&e<9?p="M05030"+(e-4):9===e?p="M050401":10===e?p="M050403":11===e?p="M050404":12===e?p="M050601":13===e?p="M050701":14===e?p="M050702":15===e?p="M050801":16===e?p="M050802":17===e?p="M050803":18===e?p="M050804":19===e?p="M050901":20===e?p="M050902":21===e?p="M050903":22===e?p="M050904":23===e&&(p="M050905");let t=n+"000"+(e+1),r=0,c="";0===e?(r=1,c="2020-09-20 04:42:46"):3===e&&(r=1,c="2020-09-20 04:42:47");let u={id:o(e),code:t,cmsCode:"18992,20125,20135,20139",depth:5,depth_name:s(),info:"",div:d,subDiv:p,name:a.parseDept5SubDiv(p),thumbnail:"",childrenList:[],book:{id:i+e,path:"",viewMode:2,key:e+1,cmsKey:e+1,completed:r,updatetime:c},cmsLevel:""};l.childrenList.push(u)}c.childrenList.push(l)}n.childrenList.push(c)}this.notifyNaviInfo(n,i,e,1e3,1e3,"total")}else{let e="";e="total",r.getNaviInfo(e)}}receive(e){}uploaded(e){}multiUploaded(e){}notify(e){}notifyRecorded(e){}notifyVideoRecord(e){}notifyNaviInfo(e,t,i,o,s,n){}notifyPenToolState(e,t){}notifyLiveGivePopupClose(){}notifyAlert(e){}notifyHamburgerMenuClicked(e){}callThreeminState(){}}o([s.observable],c.prototype,"state",void 0),o([s.action],c.prototype,"_setViewDiv",null),o([s.action],c.prototype,"start",null),t.TeacherContextBase=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseClassColor=t.parseDept5SubDiv=t.parseDept5Div=t.parseDept4Div=t.parseDept3Div=void 0,t.parseDept3Div=function(e){return"M0301"===e?"Number&Operations":"M0302"===e?"Measurement&Date":"M0303"===e?"Operations&Algebra":"M0304"===e?"Geometry":"M0305"===e?"Topic":"M0306"===e?"Module Review":""},t.parseDept4Div=function(e){return"M0401"===e?"Concept":"M0402"===e?"Problem":"M0403"===e?"Strategy":"M0404"===e?"Number&Operations":"M0405"===e?"Measurement&Date":"M0406"===e?"Operations&Algebra":"M0407"===e?"Geometry":"M0408"===e?"Concept Learning":"M0409"===e?"Topic Learning":"M0410"===e?"Module Learning":"M0411"===e?"Module Test":""},t.parseDept5Div=function(e){return"M0501"===e?"Warm-Up":"M0502"===e?"Concept Learning":"M0503"===e?"Concept Learning 2":"M0504"===e?"Concept Learning 3":"M0505"===e?"Problem Solving":"M0506"===e?"Wrap-Up":"M0507"===e?"Topic Learning":"M0508"===e?"Module Learning":"M0509"===e?"Module Test":""},t.parseDept5SubDiv=function(e){return"M050101"===e?"Warm-Up Activity":"M050102"===e?"Learning Objectives":"M050103"===e?"Concept Summary":"M050201"===e?"Concept Learning":"M050202"===e?"Concept Activity":"M050203"===e?"Concept Tool":"M050204"===e?"Concept Summary":"M050301"===e?"Activity":"M050302"===e?"Concept Tool":"M050303"===e?"Summary":"M050304"===e?"Check":"M050401"===e?"Activity":"M050402"===e?"Concept Tool":"M050403"===e?"Summary":"M050404"===e?"Check":"M050501"===e?"Independent Practice":"M050502"===e?"Extended Practice":"M050503"===e?"Strategy":"M050504"===e?"Reasoning (2)":"M050505"===e?"Strategy":"M050601"===e?"Wrap-Up Activity":"M050602"===e?"Portfolio":"M050701"===e?"Topic Strategy":"M050702"===e?"Adaptive Learning":"M050801"===e?"Module Review":"M050802"===e?"Adaptive Learning":"M050803"===e?"Module Portfolio":"M050804"===e?"Module Strategy":"M050901"===e?"Assessment":"M050902"===e?"Module Portfolio":"M050903"===e?"Assessment Review":"M050904"===e?"STEAM Activity":"M050905"===e?"STEAM Portfolio":""},t.parseClassColor=function(e){return"B62001"===e?"Black":"White"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TEST_CURR=t.TEMP_STUDENTS_MAIN_GRAPH=void 0,t.TEMP_STUDENTS_MAIN_GRAPH={students:[{grade:1,detail:[],mainSeq:116,clsIdx:1398,userIdx:78981,depthItemIdx:23832,correctCnt:5,solvedCnt:10,totalCnt:35,orgTotalCnt:50},{grade:1,mainSeq:116,clsIdx:1398,userIdx:78982,depthItemIdx:23832,correctCnt:10,solvedCnt:10,totalCnt:35,orgTotalCnt:50},{grade:1,mainSeq:116,clsIdx:1398,userIdx:78983,depthItemIdx:23832,correctCnt:7,solvedCnt:10,totalCnt:20,orgTotalCnt:50},{grade:1,mainSeq:116,clsIdx:1398,userIdx:78984,depthItemIdx:23832,correctCnt:7,solvedCnt:15,totalCnt:25,orgTotalCnt:50},{grade:1,mainSeq:116,clsIdx:1398,userIdx:78985,depthItemIdx:23832,correctCnt:6,solvedCnt:15,totalCnt:27,orgTotalCnt:50}]},t.TEST_CURR={curriculum:{thumbnail:"https://attach.fel40.com/2021/06/17/FILE202106171147070551.png",code:"00010001",depth:2,progbooktype:0,name:"Solve Addition and Subtraction Problems to 10",extraactivity:null,useYn:"Y",depth_name:"Module 1",id:19909,cmsLevel:"",childrenList:[{thumbnail:"",code:"000100010001",progbooktype:0,subDiv:"",depth_name:"Topic 1",cmsLevel:"T1",div:"M0305",depth:3,name:"Solve Addition Problems to 10",extraactivity:138,useYn:"Y",id:19910,childrenList:[{thumbnail:"",code:"0001000100010001",progbooktype:0,subDiv:"",depth_name:"Concept 1",cmsLevel:"C1",div:"M0408",depth:4,name:"Add To",extraactivity:null,useYn:"Y",id:20601,childrenList:[{thumbnail:"",code:"00010001000100010001",progbooktype:0,book:{ibooktype:0,path:"/content/9324",cmsKey:9324,ibookstart:0,id:23085,completed:1,viewMode:2,updatetime:"2021-10-14 10:57:38",key:8789,ibookend:0},subDiv:"M050101",depth_name:"Get Ready",cmsCode:"18990,19705,19715,19719",cmsLevel:"",div:"M0501",depth:5,name:"Quiz",extraactivity:null,useYn:"",id:20618,info:"Warm-Up"},{thumbnail:"",code:"00010001000100010002",progbooktype:0,book:{ibooktype:0,path:"/content/9368",cmsKey:9368,ibookstart:0,id:23523,completed:1,viewMode:2,updatetime:"2021-11-02 11:30:47",key:8760,ibookend:0},subDiv:"M050102",depth_name:"What Will We Learn?",cmsLevel:"",div:"M0501",depth:5,name:"Learning Objective",extraactivity:null,useYn:"",id:20619,info:"Warm-Up"},{thumbnail:"https://attach.fel40.com/2021/08/12/FILE202108122053588981.jpg",code:"00010001000100010003",progbooktype:0,book:{ibooktype:0,path:"/content/9369",cmsKey:9369,ibookstart:0,id:23524,completed:1,viewMode:2,updatetime:"2021-11-02 11:30:43",key:8759,ibookend:0},subDiv:"M050202",depth_name:"Take a Look",cmsLevel:"",div:"M0502",depth:5,name:"Concept Activity",extraactivity:null,useYn:"",id:20620,info:"Concept Learning"},{thumbnail:"https://attach.fel40.com/2021/08/11/FILE202108111945449101.jpg",code:"00010001000100010004",progbooktype:0,book:{ibooktype:0,path:"/content/9370",cmsKey:9370,ibookstart:0,id:23525,completed:1,viewMode:2,updatetime:"2021-08-18 15:32:19",key:8758,ibookend:0},subDiv:"M050204",depth_name:"Let&#39;s Clear Up",cmsLevel:"",div:"M0502",depth:5,name:"Concept Summary",extraactivity:null,useYn:"",id:20621,info:"Concept Learning"},{thumbnail:"",code:"00010001000100010005",progbooktype:0,book:{ibooktype:0,path:"/content/9406",cmsKey:9406,ibookstart:0,id:23526,completed:1,viewMode:2,updatetime:"2021-11-16 09:55:21",key:8788,ibookend:0},subDiv:"M050501",depth_name:"Learning for Basics",cmsLevel:"",div:"M0505",depth:5,name:"Independent Practice",extraactivity:null,useYn:"",id:20816,info:"Problem Solving"},{thumbnail:"",code:"00010001000100010006",progbooktype:0,book:{ibooktype:0,path:"/content/9407",cmsKey:9407,ibookstart:0,id:23527,completed:1,viewMode:2,updatetime:"2021-08-31 15:14:35",key:8787,ibookend:0},subDiv:"M050502",depth_name:"Learning for Depth",cmsLevel:"",div:"M0505",depth:5,name:"Extended Practice",extraactivity:null,useYn:"",id:20817,info:"Problem Solving"},{thumbnail:"",code:"00010001000100010007",progbooktype:0,book:{ibooktype:0,path:"/content/9121",cmsKey:9121,ibookstart:0,id:23528,completed:1,viewMode:2,updatetime:"2021-10-15 13:24:53",key:8755,ibookend:0},subDiv:"M050503",depth_name:"Learning with Strategies",cmsLevel:"",div:"M0505",depth:5,name:"Strategy",extraactivity:null,useYn:"",id:20818,info:"Problem Solving"},{thumbnail:"",code:"00010001000100010008",progbooktype:0,book:{ibooktype:0,path:"/content/9800",cmsKey:9800,ibookstart:0,id:23519,completed:1,viewMode:2,updatetime:"2021-10-14 10:33:50",key:9315,ibookend:0},subDiv:"M050601",depth_name:"Let&#39;s Check",cmsLevel:"",div:"M0506",depth:5,name:"Math Talk",extraactivity:null,useYn:"",id:20819,info:"Wrap-Up"}],info:""},{thumbnail:"",code:"0001000100010002",progbooktype:0,subDiv:"",depth_name:"Concept 2",cmsLevel:"C2",div:"M0408",depth:4,name:"Put Together",extraactivity:null,useYn:"Y",id:20602,childrenList:[{thumbnail:"",code:"00010001000100020001",progbooktype:0,book:{ibooktype:0,path:"/content/9325",cmsKey:9325,ibookstart:0,id:23518,completed:1,viewMode:2,updatetime:"2021-11-11 13:04:17",key:8797,ibookend:0},subDiv:"M050101",depth_name:"Get Ready",cmsLevel:"",div:"M0501",depth:5,name:"Quiz",extraactivity:null,useYn:"",id:20626,info:"Warm-Up"},{thumbnail:"",code:"00010001000100020002",progbooktype:0,book:{ibooktype:0,path:"/content/9628",cmsKey:9628,ibookstart:0,id:23529,completed:0,viewMode:2,updatetime:"",key:8772,ibookend:0},subDiv:"M050102",depth_name:"What Will We Learn?",cmsLevel:"",div:"M0501",depth:5,name:"Learning Objective",extraactivity:null,useYn:"",id:20627,info:"Warm-Up"},{thumbnail:"https://attach.fel40.com/2021/08/12/FILE202108122055050951.jpg",code:"00010001000100020003",progbooktype:0,book:{ibooktype:0,path:"/content/9629",cmsKey:9629,ibookstart:0,id:23530,completed:0,viewMode:2,updatetime:"",key:8771,ibookend:0},subDiv:"M050202",depth_name:"Take a Look",cmsLevel:"",div:"M0502",depth:5,name:"Concept Activity",extraactivity:null,useYn:"",id:20628,info:"Concept Learning"},{thumbnail:"https://attach.fel40.com/2021/08/11/FILE202108111948516561.jpg",code:"00010001000100020004",progbooktype:0,book:{ibooktype:0,path:"/content/9630",cmsKey:9630,ibookstart:0,id:23531,completed:0,viewMode:2,updatetime:"",key:8770,ibookend:0},subDiv:"M050204",depth_name:"Let&#39;s Clear Up",cmsLevel:"",div:"M0502",depth:5,name:"Concept Summary",extraactivity:null,useYn:"",id:20629,info:"Concept Learning"},{thumbnail:"",code:"00010001000100020005",progbooktype:0,book:{ibooktype:0,path:"/content/9408",cmsKey:9408,ibookstart:0,id:23532,completed:1,viewMode:2,updatetime:"2021-08-18 16:30:32",key:8796,ibookend:0},subDiv:"M050501",depth_name:"Learning for Basics",cmsLevel:"",div:"M0505",depth:5,name:"Independent Practice",extraactivity:null,useYn:"",id:20630,info:"Problem Solving"},{thumbnail:"",code:"00010001000100020006",progbooktype:0,book:{ibooktype:0,path:"/content/9409",cmsKey:9409,ibookstart:0,id:23533,completed:1,viewMode:2,updatetime:"2021-08-18 16:39:42",key:8795,ibookend:0},subDiv:"M050502",depth_name:"Learning for Depth",cmsLevel:"",div:"M0505",depth:5,name:"Extended Practice",extraactivity:null,useYn:"",id:20631,info:"Problem Solving"},{thumbnail:"",code:"00010001000100020007",progbooktype:0,book:{ibooktype:0,path:"/content/9123",cmsKey:9123,ibookstart:0,id:23534,completed:1,viewMode:2,updatetime:"2021-10-15 13:37:59",key:8798,ibookend:0},subDiv:"M050503",depth_name:"Learning with Strategies",cmsLevel:"",div:"M0505",depth:5,name:"Strategy",extraactivity:null,useYn:"",id:20632,info:"Problem Solving"},{thumbnail:"",code:"00010001000100020008",progbooktype:0,book:{ibooktype:0,path:"/content/9801",cmsKey:9801,ibookstart:0,id:23520,completed:1,viewMode:2,updatetime:"2021-11-14 19:42:45",key:9316,ibookend:0},subDiv:"M050601",depth_name:"Let&#39;s Check",cmsLevel:"",div:"M0506",depth:5,name:"Math Talk",extraactivity:null,useYn:"",id:20633,info:"Wrap-Up"}],info:""},{thumbnail:"",code:"0001000100010003",progbooktype:0,subDiv:"",depth_name:"Concept 3",cmsLevel:"C3",div:"M0408",depth:4,name:"Both Addends Unknown",extraactivity:null,useYn:"Y",id:20603,childrenList:[{thumbnail:"",code:"00010001000100030001",progbooktype:0,book:{ibooktype:0,path:"/content/9383",cmsKey:9383,ibookstart:0,id:23521,completed:1,viewMode:2,updatetime:"2021-08-23 17:50:37",key:8801,ibookend:0},subDiv:"M050101",depth_name:"Get Ready",cmsLevel:"",div:"M0501",depth:5,name:"Memory Game",extraactivity:null,useYn:"",id:20634,info:"Warm-Up"},{thumbnail:"",code:"00010001000100030002",progbooktype:0,book:{ibooktype:0,path:"/content/9641",cmsKey:9641,ibookstart:0,id:23535,completed:0,viewMode:2,updatetime:"",key:8837,ibookend:0},subDiv:"M050102",depth_name:"What Will We Learn?",cmsLevel:"",div:"M0501",depth:5,name:"Learning Objective",extraactivity:null,useYn:"",id:20635,info:"Warm-Up"},{thumbnail:"https://attach.fel40.com/2021/08/12/FILE202108122055276611.jpg",code:"00010001000100030003",progbooktype:0,book:{ibooktype:0,path:"/content/9639",cmsKey:9639,ibookstart:0,id:23536,completed:0,viewMode:2,updatetime:"",key:8839,ibookend:0},subDiv:"M050202",depth_name:"Take a Look",cmsLevel:"",div:"M0502",depth:5,name:"Concept Activity",extraactivity:null,useYn:"",id:20636,info:"Concept Learning"},{thumbnail:"https://attach.fel40.com/2021/08/11/FILE202108111953524231.jpg",code:"00010001000100030004",progbooktype:0,book:{ibooktype:0,path:"/content/9640",cmsKey:9640,ibookstart:0,id:23537,completed:0,viewMode:2,updatetime:"",key:8838,ibookend:0},subDiv:"M050204",depth_name:"Let&#39;s Clear Up",cmsLevel:"",div:"M0502",depth:5,name:"Concept Summary",extraactivity:null,useYn:"",id:20637,info:"Concept Learning"},{thumbnail:"",code:"00010001000100030005",progbooktype:0,book:{ibooktype:0,path:"/content/9415",cmsKey:9415,ibookstart:0,id:23538,completed:1,viewMode:2,updatetime:"2021-11-02 17:30:34",key:8800,ibookend:0},subDiv:"M050501",depth_name:"Learning for Basics",cmsLevel:"",div:"M0505",depth:5,name:"Independent Practice",extraactivity:null,useYn:"",id:20638,info:"Problem Solving"},{thumbnail:"",code:"00010001000100030006",progbooktype:0,book:{ibooktype:0,path:"/content/9416",cmsKey:9416,ibookstart:0,id:23539,completed:1,viewMode:2,updatetime:"2021-08-18 17:11:48",key:8799,ibookend:0},subDiv:"M050502",depth_name:"Learning for Depth",cmsLevel:"",div:"M0505",depth:5,name:"Extended Practice",extraactivity:null,useYn:"",id:20639,info:"Problem Solving"},{thumbnail:"",code:"00010001000100030007",progbooktype:0,book:{ibooktype:0,path:"/content/9124",cmsKey:9124,ibookstart:0,id:23540,completed:1,viewMode:2,updatetime:"2021-11-11 11:37:15",key:8802,ibookend:0},subDiv:"M050503",depth_name:"Learning with Strategies",cmsLevel:"",div:"M0505",depth:5,name:"Strategy",extraactivity:null,useYn:"",id:20640,info:"Problem Solving"},{thumbnail:"",code:"00010001000100030008",progbooktype:0,book:{ibooktype:0,path:"/content/9802",cmsKey:9802,ibookstart:0,id:23522,completed:0,viewMode:2,updatetime:"",key:9317,ibookend:0},subDiv:"M050601",depth_name:"Let&#39;s Check",cmsLevel:"",div:"M0506",depth:5,name:"Math Talk",extraactivity:null,useYn:"",id:20641,info:"Wrap-Up"}],info:""},{thumbnail:"",code:"0001000100010004",progbooktype:0,subDiv:"",depth_name:"Topic Learning",cmsLevel:"",div:"M0409",depth:4,name:"Solve Addition Problems to 10",extraactivity:null,useYn:"Y",id:20604,childrenList:[{thumbnail:"",code:"00010001000100040001",progbooktype:0,book:{ibooktype:0,path:"/content/9293",cmsKey:9293,ibookstart:0,id:23083,completed:1,viewMode:2,updatetime:"2021-10-15 15:52:51",key:8825,ibookend:0},subDiv:"M050701",depth_name:"Strategy Worksheet",cmsLevel:"",div:"M0507",depth:5,name:"Topic Strategy",extraactivity:null,useYn:"",id:20642,info:"Topic Learning"},{thumbnail:"",code:"00010001000100040002",progbooktype:0,book:{ibooktype:0,path:"/content/9034",cmsKey:9034,ibookstart:0,id:23084,completed:1,viewMode:2,updatetime:"2021-11-14 19:42:13",key:8826,ibookend:0},subDiv:"M050702",depth_name:"Go Deeper",cmsCode:"18990,19705,19715,19719",cmsLevel:"",div:"M0507",depth:5,name:"Adaptive Learning",extraactivity:null,useYn:"",id:20643,info:"Topic Learning"}],info:""}],info:""},{thumbnail:"",code:"000100010002",progbooktype:0,subDiv:"",depth_name:"Topic 2",cmsLevel:"T2",div:"M0305",depth:3,name:"Solve Subtraction Problems to 10",extraactivity:138,useYn:"Y",id:20605,childrenList:[{thumbnail:"",code:"0001000100020001",progbooktype:0,subDiv:"",depth_name:"Concept 1",cmsLevel:"C1",div:"M0408",depth:4,name:"Take From",extraactivity:null,useYn:"Y",id:20608,childrenList:[{thumbnail:"",code:"00010001000200010001",progbooktype:0,book:{ibooktype:0,path:"/content/9326",cmsKey:9326,ibookstart:0,id:23541,completed:1,viewMode:2,updatetime:"2021-11-13 19:34:59",key:8805,ibookend:0},subDiv:"M050101",depth_name:"Get Ready",cmsLevel:"",div:"M0501",depth:5,name:"Quiz",extraactivity:null,useYn:"",id:20650,info:"Warm-Up"},{thumbnail:"",code:"00010001000200010002",progbooktype:0,book:{ibooktype:0,path:"/content/9634",cmsKey:9634,ibookstart:0,id:23553,completed:1,viewMode:2,updatetime:"2021-11-13 19:39:49",key:8813,ibookend:0},subDiv:"M050102",depth_name:"What Will We Learn?",cmsLevel:"",div:"M0501",depth:5,name:"Learning Objective",extraactivity:null,useYn:"",id:20651,info:"Warm-Up"},{thumbnail:"https://attach.fel40.com/2021/08/13/FILE202108131216271611.jpg",code:"00010001000200010003",progbooktype:0,book:{ibooktype:0,path:"/content/9635",cmsKey:9635,ibookstart:0,id:23554,completed:1,viewMode:2,updatetime:"2021-11-13 19:39:52",key:8812,ibookend:0},subDiv:"M050202",depth_name:"Take a Look",cmsLevel:"",div:"M0502",depth:5,name:"Concept Activity",extraactivity:null,useYn:"",id:20652,info:"Concept Learning"},{thumbnail:"https://attach.fel40.com/2021/08/11/FILE202108112040253651.jpg",code:"00010001000200010004",progbooktype:0,book:{ibooktype:0,path:"/content/9637",cmsKey:9637,ibookstart:0,id:23555,completed:1,viewMode:2,updatetime:"2021-11-13 19:40:35",key:8811,ibookend:0},subDiv:"M050204",depth_name:"Let&#39;s Clear Up",cmsLevel:"",div:"M0502",depth:5,name:"Concept Summary",extraactivity:null,useYn:"",id:20653,info:"Concept Learning"},{thumbnail:"",code:"00010001000200010005",progbooktype:0,book:{ibooktype:0,path:"/content/9620",cmsKey:9620,ibookstart:0,id:23556,completed:1,viewMode:2,updatetime:"2021-11-13 19:40:39",key:8804,ibookend:0},subDiv:"M050501",depth_name:"Learning for Basics",cmsLevel:"",div:"M0505",depth:5,name:"Independent Practice",extraactivity:null,useYn:"",id:20654,info:"Problem Solving"},{thumbnail:"",code:"00010001000200010006",progbooktype:0,book:{ibooktype:0,path:"/content/9621",cmsKey:9621,ibookstart:0,id:23557,completed:1,viewMode:2,updatetime:"2021-08-19 09:44:22",key:8803,ibookend:0},subDiv:"M050502",depth_name:"Learning for Depth",cmsLevel:"",div:"M0505",depth:5,name:"Extended Practice",extraactivity:null,useYn:"",id:20655,info:"Problem Solving"},{thumbnail:"",code:"00010001000200010007",progbooktype:0,book:{ibooktype:0,path:"/content/9125",cmsKey:9125,ibookstart:0,id:23558,completed:1,viewMode:2,updatetime:"2021-10-15 15:55:30",key:8806,ibookend:0},subDiv:"M050503",depth_name:"Learning with Strategies",cmsLevel:"",div:"M0505",depth:5,name:"Strategy",extraactivity:null,useYn:"",id:20656,info:"Problem Solving"},{thumbnail:"",code:"00010001000200010008",progbooktype:0,book:{ibooktype:0,path:"/content/9210",cmsKey:9210,ibookstart:0,id:23547,completed:0,viewMode:2,updatetime:"",key:9243,ibookend:0},subDiv:"M050601",depth_name:"Let&#39;s Check",cmsLevel:"",div:"M0506",depth:5,name:"Memory Game",extraactivity:null,useYn:"",id:20729,info:"Wrap-Up"}],info:""},{thumbnail:"",code:"0001000100020002",progbooktype:0,subDiv:"",depth_name:"Concept 2",cmsLevel:"C2",div:"M0408",depth:4,name:"Count how many more",extraactivity:null,useYn:"Y",id:20609,childrenList:[{thumbnail:"",code:"00010001000200020001",progbooktype:0,book:{ibooktype:0,path:"/content/8995",cmsKey:8995,ibookstart:0,id:23542,completed:1,viewMode:2,updatetime:"2021-08-19 10:29:12",key:8702,ibookend:0},subDiv:"M050101",depth_name:"Get Ready",cmsLevel:"",div:"M0501",depth:5,name:"Quiz",extraactivity:null,useYn:"Y",id:20658,info:"Warm-Up"},{thumbnail:"",code:"00010001000200020002",progbooktype:0,book:{ibooktype:0,path:"/content/9059",cmsKey:9059,ibookstart:0,id:23559,completed:0,viewMode:2,updatetime:"",key:8747,ibookend:0},subDiv:"M050102",depth_name:"What Will We Learn?",cmsLevel:"",div:"M0501",depth:5,name:"Learning Objective",extraactivity:null,useYn:"Y",id:20659,info:"Warm-Up"},{thumbnail:"https://attach.fel40.com/2021/08/11/FILE202108112018466661.jpg",code:"00010001000200020003",progbooktype:0,book:{ibooktype:0,path:"/content/9060",cmsKey:9060,ibookstart:0,id:23560,completed:0,viewMode:2,updatetime:"",key:8746,ibookend:0},subDiv:"M050202",depth_name:"Take a Look",cmsLevel:"",div:"M0502",depth:5,name:"Concept Activity",extraactivity:null,useYn:"",id:20660,info:"Concept Learning"},{thumbnail:"https://attach.fel40.com/2021/08/11/FILE202108112019100151.jpg",code:"00010001000200020004",progbooktype:0,book:{ibooktype:0,path:"/content/9061",cmsKey:9061,ibookstart:0,id:23561,completed:0,viewMode:2,updatetime:"",key:8745,ibookend:0},subDiv:"M050204",depth_name:"Let&#39;s Clear Up",cmsLevel:"",div:"M0502",depth:5,name:"Concept Summary",extraactivity:null,useYn:"",id:20661,info:"Concept Learning"},{thumbnail:"",code:"00010001000200020005",progbooktype:0,book:{ibooktype:0,path:"/content/9030",cmsKey:9030,ibookstart:0,id:23562,completed:1,viewMode:2,updatetime:"2021-11-11 16:29:23",key:8701,ibookend:0},subDiv:"M050501",depth_name:"Learning for Basics",cmsLevel:"",div:"M0505",depth:5,name:"Independent Practice",extraactivity:null,useYn:"Y",id:20662,info:"Problem Solving"},{thumbnail:"",code:"00010001000200020006",progbooktype:0,book:{ibooktype:0,path:"/content/9031",cmsKey:9031,ibookstart:0,id:23563,completed:1,viewMode:2,updatetime:"2021-08-19 10:48:33",key:8700,ibookend:0},subDiv:"M050502",depth_name:"Learning for Depth",cmsLevel:"",div:"M0505",depth:5,name:"Extended Practice",extraactivity:null,useYn:"Y",id:20663,info:"Problem Solving"},{thumbnail:"",code:"00010001000200020007",progbooktype:0,book:{ibooktype:0,path:"/content/9032",cmsKey:9032,ibookstart:0,id:23564,completed:1,viewMode:2,updatetime:"2021-10-15 15:58:46",key:8699,ibookend:0},subDiv:"M050503",depth_name:"Learning with Strategies",cmsLevel:"",div:"M0505",depth:5,name:"Strategy",extraactivity:null,useYn:"Y",id:20664,info:"Problem Solving"},{thumbnail:"",code:"00010001000200020008",progbooktype:0,book:{ibooktype:0,path:"/content/9058",cmsKey:9058,ibookstart:0,id:23548,completed:1,viewMode:2,updatetime:"2021-08-19 11:36:24",key:8744,ibookend:0},subDiv:"M050601",depth_name:"Let&#39;s Check",cmsLevel:"",div:"M0506",depth:5,name:"Hit a Mole",extraactivity:null,useYn:"",id:20665,info:"Wrap-Up"}],info:""},{thumbnail:"",code:"0001000100020003",progbooktype:0,subDiv:"",depth_name:"Concept 3",cmsLevel:"C3",div:"M0408",depth:4,name:"Count how many fewer",extraactivity:null,useYn:"Y",id:20610,childrenList:[{thumbnail:"",code:"00010001000200030001",progbooktype:0,book:{ibooktype:0,path:"/content/9636",cmsKey:9636,ibookstart:0,id:23543,completed:1,viewMode:2,updatetime:"2021-11-13 18:15:48",key:8807,ibookend:0},subDiv:"M050101",depth_name:"Get Ready",cmsLevel:"",div:"M0501",depth:5,name:"Quiz",extraactivity:null,useYn:"",id:20667,info:"Warm-Up"},{thumbnail:"",code:"00010001000200030002",progbooktype:0,book:{ibooktype:0,path:"/content/9643",cmsKey:9643,ibookstart:0,id:23565,completed:0,viewMode:2,updatetime:"",key:8835,ibookend:0},subDiv:"M050102",depth_name:"What Will We Learn?",cmsLevel:"",div:"M0501",depth:5,name:"Learning Objective",extraactivity:null,useYn:"",id:20668,info:"Warm-Up"},{thumbnail:"https://attach.fel40.com/2021/08/11/FILE202108112027554711.jpg",code:"00010001000200030003",progbooktype:0,book:{ibooktype:0,path:"/content/9642",cmsKey:9642,ibookstart:0,id:23566,completed:0,viewMode:2,updatetime:"",key:8836,ibookend:0},subDiv:"M050202",depth_name:"Take a Look",cmsLevel:"",div:"M0502",depth:5,name:"Concept Activity",extraactivity:null,useYn:"",id:20669,info:"Concept Learning"},{thumbnail:"https://attach.fel40.com/2021/08/11/FILE202108112028391351.jpg",code:"00010001000200030004",progbooktype:0,book:{ibooktype:0,path:"/content/9644",cmsKey:9644,ibookstart:0,id:23567,completed:0,viewMode:2,updatetime:"",key:8834,ibookend:0},subDiv:"M050204",depth_name:"Let&#39;s Clear Up",cmsLevel:"",div:"M0502",depth:5,name:"Concept Summary",extraactivity:null,useYn:"",id:20670,info:"Concept Learning"},{thumbnail:"",code:"00010001000200030005",progbooktype:0,book:{ibooktype:0,path:"/content/9420",cmsKey:9420,ibookstart:0,id:23568,completed:1,viewMode:2,updatetime:"2021-11-13 19:42:42",key:8810,ibookend:0},subDiv:"M050501",depth_name:"Learning for Basics",cmsLevel:"",div:"M0505",depth:5,name:"Independent Practice",extraactivity:null,useYn:"",id:20671,info:"Problem Solving"},{thumbnail:"",code:"00010001000200030006",progbooktype:0,book:{ibooktype:0,path:"/content/9421",cmsKey:9421,ibookstart:0,id:23569,completed:1,viewMode:2,updatetime:"2021-11-13 19:42:45",key:8809,ibookend:0},subDiv:"M050502",depth_name:"Learning for Depth",cmsLevel:"",div:"M0505",depth:5,name:"Extended Practice",extraactivity:null,useYn:"",id:20672,info:"Problem Solving"},{thumbnail:"",code:"00010001000200030007",progbooktype:0,book:{ibooktype:0,path:"/content/9126",cmsKey:9126,ibookstart:0,id:23570,completed:1,viewMode:2,updatetime:"2021-10-15 16:01:49",key:8808,ibookend:0},subDiv:"M050503",depth_name:"Learning with Strategies",cmsLevel:"",div:"M0505",depth:5,name:"Strategy",extraactivity:null,useYn:"",id:20673,info:"Problem Solving"},{thumbnail:"",code:"00010001000200030008",progbooktype:0,book:{ibooktype:0,path:"/content/9187",cmsKey:9187,ibookstart:0,id:23549,completed:0,viewMode:2,updatetime:"",key:9244,ibookend:0},subDiv:"M050601",depth_name:"Let&#39;s Check",cmsLevel:"",div:"M0506",depth:5,name:"Hit a Mole",extraactivity:null,useYn:"",id:20674,info:"Wrap-Up"}],info:""},{thumbnail:"",code:"0001000100020004",progbooktype:0,subDiv:"",depth_name:"Topic Learning",cmsLevel:"",div:"M0409",depth:4,name:"Solve Subtraction Problems to 10",extraactivity:null,useYn:"Y",id:20611,childrenList:[{thumbnail:"",code:"00010001000200040001",progbooktype:0,book:{ibooktype:0,path:"/content/9294",cmsKey:9294,ibookstart:0,id:23571,completed:0,viewMode:2,updatetime:"",key:8827,ibookend:0},subDiv:"M050701",depth_name:"Strategy Worksheet",cmsLevel:"",div:"M0507",depth:5,name:"Topic Strategy",extraactivity:null,useYn:"",id:20675,info:"Topic Learning"},{thumbnail:"",code:"00010001000200040002",progbooktype:0,book:{ibooktype:0,path:"/content/9034",cmsKey:9034,ibookstart:0,id:23572,completed:0,viewMode:2,updatetime:"",key:8828,ibookend:0},subDiv:"M050702",depth_name:"Go Deeper",cmsCode:"18990,19705,19716,19725",cmsLevel:"",div:"M0507",depth:5,name:"Adaptive Learning",extraactivity:null,useYn:"",id:20676,info:"Topic Learning"}],info:""}],info:""},{thumbnail:"",code:"000100010003",progbooktype:0,subDiv:"",depth_name:"Topic 3",cmsLevel:"T3",div:"M0305",depth:3,name:"Count On to Add Within 10",extraactivity:138,useYn:"Y",id:20606,childrenList:[{thumbnail:"",code:"0001000100030001",progbooktype:0,subDiv:"",depth_name:"Concept 1",cmsLevel:"C1",div:"M0408",depth:4,name:"Count On to Add Within 10",extraactivity:null,useYn:"Y",id:20612,childrenList:[{thumbnail:"",code:"00010001000300010001",progbooktype:0,book:{ibooktype:0,path:"/content/9327",cmsKey:9327,ibookstart:0,id:23544,completed:1,viewMode:2,updatetime:"2021-11-13 18:04:55",key:8816,ibookend:0},subDiv:"M050101",depth_name:"Get Ready",cmsLevel:"",div:"M0501",depth:5,name:"Quiz",extraactivity:null,useYn:"",id:20683,info:"Warm-Up"},{thumbnail:"",code:"00010001000300010002",progbooktype:0,book:{ibooktype:0,path:"/content/9657",cmsKey:9657,ibookstart:0,id:23573,completed:1,viewMode:2,updatetime:"2021-08-20 15:37:59",key:8985,ibookend:0},subDiv:"M050102",depth_name:"What Will We Learn?",cmsLevel:"",div:"M0501",depth:5,name:"Learning Objective",extraactivity:null,useYn:"",id:20684,info:"Warm-Up"},{thumbnail:"https://attach.fel40.com/2021/08/12/FILE202108122056192661.jpg",code:"00010001000300010003",progbooktype:0,book:{ibooktype:0,path:"/content/9658",cmsKey:9658,ibookstart:0,id:23574,completed:0,viewMode:2,updatetime:"",key:8984,ibookend:0},subDiv:"M050202",depth_name:"Take a Look",cmsLevel:"",div:"M0502",depth:5,name:"Concept Activity",extraactivity:null,useYn:"",id:20685,info:"Concept Learning"},{thumbnail:"https://attach.fel40.com/2021/08/11/FILE202108112030218331.jpg",code:"00010001000300010004",progbooktype:0,book:{ibooktype:0,path:"/content/9659",cmsKey:9659,ibookstart:0,id:23575,completed:0,viewMode:2,updatetime:"",key:8983,ibookend:0},subDiv:"M050204",depth_name:"Let&#39;s Clear Up",cmsLevel:"",div:"M0502",depth:5,name:"Concept Summary",extraactivity:null,useYn:"",id:20686,info:"Concept Learning"},{thumbnail:"",code:"00010001000300010005",progbooktype:0,book:{ibooktype:0,path:"/content/9422",cmsKey:9422,ibookstart:0,id:23576,completed:1,viewMode:2,updatetime:"2021-08-20 15:38:05",key:8815,ibookend:0},subDiv:"M050501",depth_name:"Learning for Basics",cmsLevel:"",div:"M0505",depth:5,name:"Independent Practice",extraactivity:null,useYn:"",id:20687,info:"Problem Solving"},{thumbnail:"",code:"00010001000300010006",progbooktype:0,book:{ibooktype:0,path:"/content/9423",cmsKey:9423,ibookstart:0,id:23577,completed:1,viewMode:2,updatetime:"2021-08-20 15:43:21",key:8814,ibookend:0},subDiv:"M050502",depth_name:"Learning for Depth",cmsLevel:"",div:"M0505",depth:5,name:"Extended Practice",extraactivity:null,useYn:"",id:20688,info:"Problem Solving"},{thumbnail:"",code:"00010001000300010007",progbooktype:0,book:{ibooktype:0,path:"/content/9127",cmsKey:9127,ibookstart:0,id:23578,completed:1,viewMode:2,updatetime:"2021-11-14 18:00:59",key:8817,ibookend:0},subDiv:"M050503",depth_name:"Learning with Strategies",cmsLevel:"",div:"M0505",depth:5,name:"Strategy",extraactivity:null,useYn:"",id:20689,info:"Problem Solving"},{thumbnail:"",code:"00010001000300010008",progbooktype:0,book:{ibooktype:0,path:"/content/9188",cmsKey:9188,ibookstart:0,id:23550,completed:1,viewMode:2,updatetime:"2021-09-09 16:17:38",key:9245,ibookend:0},subDiv:"M050601",depth_name:"Let&#39;s Check",cmsLevel:"",div:"M0506",depth:5,name:"Hit a Mole",extraactivity:null,useYn:"",id:20690,info:"Wrap-Up"}],info:""},{thumbnail:"",code:"0001000100030002",progbooktype:0,subDiv:"",depth_name:"Concept 2",cmsLevel:"C2",div:"M0408",depth:4,name:"Add in Any Order Within 10",extraactivity:null,useYn:"Y",id:20613,childrenList:[{thumbnail:"",code:"00010001000300020001",progbooktype:0,book:{ibooktype:0,path:"/content/9803",cmsKey:9803,ibookstart:0,id:23545,completed:0,viewMode:2,updatetime:"",key:9318,ibookend:0},subDiv:"M050101",depth_name:"Get Ready",cmsLevel:"",div:"M0501",depth:5,name:"Math Talk",extraactivity:null,useYn:"",id:20691,info:"Warm-Up"},{thumbnail:"",code:"00010001000300020002",progbooktype:0,book:{ibooktype:0,path:"/content/9660",cmsKey:9660,ibookstart:0,id:23579,completed:0,viewMode:2,updatetime:"",key:8988,ibookend:0},subDiv:"M050102",depth_name:"What Will We Learn?",cmsLevel:"",div:"M0501",depth:5,name:"Learning Objective",extraactivity:null,useYn:"",id:20692,info:"Warm-Up"},{thumbnail:"https://attach.fel40.com/2021/08/12/FILE202108122056403511.jpg",code:"00010001000300020003",progbooktype:0,book:{ibooktype:0,path:"/content/9661",cmsKey:9661,ibookstart:0,id:23580,completed:0,viewMode:2,updatetime:"",key:8987,ibookend:0},subDiv:"M050202",depth_name:"Take a Look",cmsLevel:"",div:"M0502",depth:5,name:"Concept Activity",extraactivity:null,useYn:"",id:20693,info:"Concept Learning"},{thumbnail:"https://attach.fel40.com/2021/08/11/FILE202108112034223171.jpg",code:"00010001000300020004",progbooktype:0,book:{ibooktype:0,path:"/content/9662",cmsKey:9662,ibookstart:0,id:23581,completed:0,viewMode:2,updatetime:"",key:8986,ibookend:0},subDiv:"M050204",depth_name:"Let&#39;s Clear Up",cmsLevel:"",div:"M0502",depth:5,name:"Concept Summary",extraactivity:null,useYn:"",id:20694,info:"Concept Learning"},{thumbnail:"",code:"00010001000300020005",progbooktype:0,book:{ibooktype:0,path:"/content/9424",cmsKey:9424,ibookstart:0,id:23582,completed:1,viewMode:2,updatetime:"2021-08-19 15:13:29",key:8819,ibookend:0},subDiv:"M050501",depth_name:"Learning for Basics",cmsLevel:"",div:"M0505",depth:5,name:"Independent Practice",extraactivity:null,useYn:"",id:20695,info:"Problem Solving"},{thumbnail:"",code:"00010001000300020006",progbooktype:0,book:{ibooktype:0,path:"/content/9425",cmsKey:9425,ibookstart:0,id:23583,completed:1,viewMode:2,updatetime:"2021-11-04 09:59:41",key:8818,ibookend:0},subDiv:"M050502",depth_name:"Learning for Depth",cmsLevel:"",div:"M0505",depth:5,name:"Extended Practice",extraactivity:null,useYn:"",id:20696,info:"Problem Solving"},{thumbnail:"",code:"00010001000300020007",progbooktype:0,book:{ibooktype:0,path:"/content/9128",cmsKey:9128,ibookstart:0,id:23584,completed:1,viewMode:2,updatetime:"2021-10-15 16:12:36",key:8820,ibookend:0},subDiv:"M050503",depth_name:"Learning with Strategies",cmsLevel:"",div:"M0505",depth:5,name:"Strategy",extraactivity:null,useYn:"",id:20697,info:"Problem Solving"},{thumbnail:"",code:"00010001000300020008",progbooktype:0,book:{ibooktype:0,path:"/content/9211",cmsKey:9211,ibookstart:0,id:23551,completed:0,viewMode:2,updatetime:"",key:9246,ibookend:0},subDiv:"M050601",depth_name:"Let&#39;s Check",cmsLevel:"",div:"M0506",depth:5,name:"Memory Game",extraactivity:null,useYn:"",id:20698,info:"Wrap-Up"}],info:""},{thumbnail:"",code:"0001000100030003",progbooktype:0,subDiv:"",depth_name:"Concept 3",cmsLevel:"C3",div:"M0408",depth:4,name:"Count On to Add Within 10(from greater addend)",extraactivity:null,useYn:"Y",id:20614,childrenList:[{thumbnail:"",code:"00010001000300030001",progbooktype:0,book:{ibooktype:0,path:"/content/9328",cmsKey:9328,ibookstart:0,id:23546,completed:1,viewMode:2,updatetime:"2021-11-13 18:19:58",key:8821,ibookend:0},subDiv:"M050101",depth_name:"Get Ready",cmsLevel:"",div:"M0501",depth:5,name:"Quiz",extraactivity:null,useYn:"",id:20699,info:"Warm-Up"},{thumbnail:"",code:"00010001000300030002",progbooktype:0,book:{ibooktype:0,path:"/content/9665",cmsKey:9665,ibookstart:0,id:23585,completed:0,viewMode:2,updatetime:"",key:8989,ibookend:0},subDiv:"M050102",depth_name:"What Will We Learn?",cmsLevel:"",div:"M0501",depth:5,name:"Learning Objective",extraactivity:null,useYn:"",id:20700,info:"Warm-Up"},{thumbnail:"https://attach.fel40.com/2021/08/11/FILE202108112035490861.jpg",code:"00010001000300030003",progbooktype:0,book:{ibooktype:0,path:"/content/9664",cmsKey:9664,ibookstart:0,id:23586,completed:0,viewMode:2,updatetime:"",key:8990,ibookend:0},subDiv:"M050202",depth_name:"Take a Look",cmsLevel:"",div:"M0502",depth:5,name:"Concept Activity",extraactivity:null,useYn:"",id:20701,info:"Concept Learning"},{thumbnail:"https://attach.fel40.com/2021/08/11/FILE202108112036191751.jpg",code:"00010001000300030004",progbooktype:0,book:{ibooktype:0,path:"/content/9663",cmsKey:9663,ibookstart:0,id:23587,completed:0,viewMode:2,updatetime:"",key:8991,ibookend:0},subDiv:"M050204",depth_name:"Let&#39;s Clear Up",cmsLevel:"",div:"M0502",depth:5,name:"Concept Summary",extraactivity:null,useYn:"",id:20702,info:"Concept Learning"},{thumbnail:"",code:"00010001000300030005",progbooktype:0,book:{ibooktype:0,path:"/content/9426",cmsKey:9426,ibookstart:0,id:23588,completed:1,viewMode:2,updatetime:"2021-08-19 16:03:43",key:8824,ibookend:0},subDiv:"M050501",depth_name:"Learning for Basics",cmsLevel:"",div:"M0505",depth:5,name:"Independent Practice",extraactivity:null,useYn:"",id:20703,info:"Problem Solving"},{thumbnail:"",code:"00010001000300030006",progbooktype:0,book:{ibooktype:0,path:"/content/9427",cmsKey:9427,ibookstart:0,id:23589,completed:1,viewMode:2,updatetime:"2021-11-04 10:01:55",key:8823,ibookend:0},subDiv:"M050502",depth_name:"Learning for Depth",cmsLevel:"",div:"M0505",depth:5,name:"Extended Practice",extraactivity:null,useYn:"",id:20704,info:"Problem Solving"},{thumbnail:"",code:"00010001000300030007",progbooktype:0,book:{ibooktype:0,path:"/content/9129",cmsKey:9129,ibookstart:0,id:23590,completed:1,viewMode:2,updatetime:"2021-10-15 16:15:11",key:8822,ibookend:0},subDiv:"M050503",depth_name:"Learning with Strategies",cmsLevel:"",div:"M0505",depth:5,name:"Strategy",extraactivity:null,useYn:"",id:20705,info:"Problem Solving"},{thumbnail:"",code:"00010001000300030008",progbooktype:0,book:{ibooktype:0,path:"/content/9189",cmsKey:9189,ibookstart:0,id:23552,completed:0,viewMode:2,updatetime:"",key:9247,ibookend:0},subDiv:"M050601",depth_name:"Let&#39;s Check",cmsLevel:"",div:"M0506",depth:5,name:"Hit a Mole",extraactivity:null,useYn:"",id:20815,info:"Wrap-Up"}],info:""},{thumbnail:"",code:"0001000100030004",progbooktype:0,subDiv:"",depth_name:"Topic Learning",cmsLevel:"",div:"M0409",depth:4,name:"Count On to Add Within 10",extraactivity:null,useYn:"Y",id:20615,childrenList:[{thumbnail:"",code:"00010001000300040001",progbooktype:0,book:{ibooktype:0,path:"/content/9295",cmsKey:9295,ibookstart:0,id:23591,completed:1,viewMode:2,updatetime:"2021-11-14 18:02:18",key:8829,ibookend:0},subDiv:"M050701",depth_name:"Strategy Worksheet",cmsLevel:"",div:"M0507",depth:5,name:"Topic Strategy",extraactivity:null,useYn:"",id:20708,info:"Topic Learning"},{thumbnail:"",code:"00010001000300040002",progbooktype:0,book:{ibooktype:0,path:"/content/9034",cmsKey:9034,ibookstart:0,id:23592,completed:0,viewMode:2,updatetime:"",key:8830,ibookend:0},subDiv:"M050702",depth_name:"Go Deeper",cmsCode:"18990,19705,19717,19729",cmsLevel:"",div:"M0507",depth:5,name:"Adaptive Learning",extraactivity:null,useYn:"",id:20709,info:"Topic Learning"}],info:""}],info:""},{thumbnail:"",code:"000100010004",progbooktype:0,subDiv:"",depth_name:"",cmsLevel:"",div:"M0306",depth:3,name:"Module Review",extraactivity:null,useYn:"Y",id:20607,childrenList:[{thumbnail:"",code:"0001000100040001",progbooktype:0,subDiv:"",depth_name:"Module Learning",cmsLevel:"",div:"M0410",depth:4,name:"Solve Addition and Subtraction Problems to 10",extraactivity:null,useYn:"Y",id:20616,childrenList:[{thumbnail:"",code:"00010001000400010001",progbooktype:0,book:{ibooktype:0,path:"/content/10863",cmsKey:10863,ibookstart:0,id:23078,completed:1,viewMode:2,updatetime:"2021-11-14 19:45:25",key:11347,ibookend:0},subDiv:"M050801",depth_name:"Welcome to the Quiz Show!",cmsLevel:"",div:"M0508",depth:5,name:"Module Review",extraactivity:null,useYn:"",id:20724,info:"Module Learning"},{thumbnail:"",code:"00010001000400010002",progbooktype:0,book:{ibooktype:0,path:"/content/11826",cmsKey:11826,ibookstart:0,id:23079,completed:0,viewMode:2,updatetime:"",key:11306,ibookend:0},subDiv:"M050803",depth_name:"Make Your Own Portfolio",cmsLevel:"",div:"M0508",depth:5,name:"Module Portfolio",extraactivity:null,useYn:"",id:20725,info:"Module Learning"},{thumbnail:"",code:"00010001000400010003",progbooktype:0,book:{ibooktype:0,path:"/content/9280",cmsKey:9280,ibookstart:0,id:23080,completed:1,viewMode:2,updatetime:"2021-11-14 22:43:58",key:8831,ibookend:0},subDiv:"M050804",depth_name:"Various Solving Strategies",cmsLevel:"",div:"M0508",depth:5,name:"Module Strategy",extraactivity:null,useYn:"",id:20726,info:"Module Learning"}],info:""},{thumbnail:"",code:"0001000100040002",progbooktype:0,subDiv:"",depth_name:"Module Test",cmsLevel:"",div:"M0411",depth:4,name:"Solve Addition and Subtraction Problems to 10",extraactivity:null,useYn:"Y",id:20617,childrenList:[{thumbnail:"",code:"00010001000400020001",progbooktype:0,book:{ibooktype:0,path:"/content/9036",cmsKey:9036,ibookstart:0,id:23081,completed:1,viewMode:2,updatetime:"2021-11-14 19:26:59",key:8833,ibookend:0},subDiv:"M050901",depth_name:"Check Your Skills",cmsCode:"18990,19705,19718,19731",cmsLevel:"",div:"M0509",depth:5,name:"Assessment",extraactivity:null,useYn:"",id:20727,info:"Module Test"},{thumbnail:"",code:"00010001000400020002",progbooktype:0,book:{ibooktype:0,path:"/content/9038",cmsKey:9038,ibookstart:0,id:23082,completed:1,viewMode:2,updatetime:"2021-11-13 23:25:56",key:8832,ibookend:0},subDiv:"M050903",depth_name:"Improve Your Skills",cmsLevel:"",div:"M0509",depth:5,name:"Assessment Review",extraactivity:null,useYn:"",id:20728,info:"Module Test"}],info:""}],info:""}],info:""},bookid:23082,classid:1496,unitid:20607,lessonid:20617,curriType:"total"}},function(e,t,i){"use strict";var o=i(3),s=i(15),n=i(40),r=i(21);function a(e){var t=new n(e),i=s(n.prototype.request,t);return o.extend(i,n.prototype,t),o.extend(i,t),i}var c=a(i(18));c.Axios=n,c.create=function(e){return a(r(c.defaults,e))},c.Cancel=i(22),c.CancelToken=i(54),c.isCancel=i(17),c.all=function(e){return Promise.all(e)},c.spread=i(55),e.exports=c,e.exports.default=c},function(e,t,i){"use strict";var o=i(3),s=i(16),n=i(41),r=i(42),a=i(21);function c(e){this.defaults=e,this.interceptors={request:new n,response:new n}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[r,void 0],i=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)i=i.then(t.shift(),t.shift());return i},c.prototype.getUri=function(e){return e=a(this.defaults,e),s(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,i){return this.request(o.merge(i||{},{method:e,url:t}))}})),o.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,i,s){return this.request(o.merge(s||{},{method:e,url:t,data:i}))}})),e.exports=c},function(e,t,i){"use strict";var o=i(3);function s(){this.handlers=[]}s.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},s.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},s.prototype.forEach=function(e){o.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=s},function(e,t,i){"use strict";var o=i(3),s=i(43),n=i(17),r=i(18);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=s(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),o.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||r.adapter)(e).then((function(t){return a(e),t.data=s(t.data,t.headers,e.transformResponse),t}),(function(t){return n(t)||(a(e),t&&t.response&&(t.response.data=s(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,i){"use strict";var o=i(3);e.exports=function(e,t,i){return o.forEach(i,(function(i){e=i(e,t)})),e}},function(e,t){var i,o,s=e.exports={};function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(e){if(i===setTimeout)return setTimeout(e,0);if((i===n||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:n}catch(e){i=n}try{o="function"==typeof clearTimeout?clearTimeout:r}catch(e){o=r}}();var c,l=[],d=!1,p=-1;function u(){d&&c&&(d=!1,c.length?l=c.concat(l):p=-1,l.length&&h())}function h(){if(!d){var e=a(u);d=!0;for(var t=l.length;t;){for(c=l,l=[];++p<t;)c&&c[p].run();p=-1,t=l.length}c=null,d=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===r||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function _(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];l.push(new m(e,t)),1!==l.length||d||a(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=_,s.addListener=_,s.once=_,s.off=_,s.removeListener=_,s.removeAllListeners=_,s.emit=_,s.prependListener=_,s.prependOnceListener=_,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,i){"use strict";var o=i(3);e.exports=function(e,t){o.forEach(e,(function(i,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[o])}))}},function(e,t,i){"use strict";var o=i(20);e.exports=function(e,t,i){var s=i.config.validateStatus;!s||s(i.status)?e(i):t(o("Request failed with status code "+i.status,i.config,null,i.request,i))}},function(e,t,i){"use strict";e.exports=function(e,t,i,o,s){return e.config=t,i&&(e.code=i),e.request=o,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,i){"use strict";var o=i(49),s=i(50);e.exports=function(e,t){return e&&!o(t)?s(e,t):t}},function(e,t,i){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,i){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,i){"use strict";var o=i(3),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,i,n,r={};return e?(o.forEach(e.split("\n"),(function(e){if(n=e.indexOf(":"),t=o.trim(e.substr(0,n)).toLowerCase(),i=o.trim(e.substr(n+1)),t){if(r[t]&&s.indexOf(t)>=0)return;r[t]="set-cookie"===t?(r[t]?r[t]:[]).concat([i]):r[t]?r[t]+", "+i:i}})),r):r}},function(e,t,i){"use strict";var o=i(3);e.exports=o.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function s(e){var o=e;return t&&(i.setAttribute("href",o),o=i.href),i.setAttribute("href",o),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=s(window.location.href),function(t){var i=o.isString(t)?s(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0}},function(e,t,i){"use strict";var o=i(3);e.exports=o.isStandardBrowserEnv()?{write:function(e,t,i,s,n,r){var a=[];a.push(e+"="+encodeURIComponent(t)),o.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),o.isString(s)&&a.push("path="+s),o.isString(n)&&a.push("domain="+n),!0===r&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,i){"use strict";var o=i(22);function s(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var i=this;e((function(e){i.reason||(i.reason=new o(e),t(i.reason))}))}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var e;return{token:new s((function(t){e=t})),cancel:e}},e.exports=s},function(e,t,i){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,i){"use strict";var o=this&&this.__decorate||function(e,t,i,o){var s,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(n<3?s(r):n>3?s(t,i,r):s(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(t,"__esModule",{value:!0});const s=i(0),n=i(2),r=i(1),a=i(4),c=i(57),l=i(69);let d=class extends s.Component{constructor(e){super(e),this.view_detail=!1}componentDidUpdate(e){this.props.view&&!e.view&&(this.view_detail=!1),this.props.view}render(){const{view:e,state:t,actions:i}=this.props;i.getData();return s.createElement("div",{className:"t_assessment assessment"},s.createElement("div",{className:"learningContent"},s.createElement("div",{className:"topHeader"},s.createElement("div",{className:"status_title"},t.topicname)),s.createElement(c.default,{view:this.props.view,state:t,actions:i,toggleDetail:(e,i)=>{if(void 0!==i&&t.solving_students.length>i){t.select_student_idx=i;let o=t.solving_students[t.select_student_idx].id;a.App.isDvlp&&(o="79203"),this.view_detail=e}}}),s.createElement(l.LearningDetailPage,{student_idx:t.select_student_idx,student_list:t.solving_students,view:this.view_detail,toggleView:e=>{if(t.solving_students.length>t.select_student_idx){let i=t.solving_students[t.select_student_idx].id;a.App.isDvlp&&(i="79203"),this.view_detail=e}},lastUpdated:t.lastUpdated,is_teacher:!0,removeNeedExplain:i.removeNeedExplain})))}};o([r.observable],d.prototype,"view_detail",void 0),d=o([n.observer],d),t.default=d},function(e,t,i){"use strict";var o=this&&this.__decorate||function(e,t,i,o){var s,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(n<3?s(r):n>3?s(t,i,r):s(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},s=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(s,n){function r(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),r=i(1),a=i(2),c=i(6),l=i(5),d=i(14),p=i(4),u=i(58),h=i(59),m=i(9),_=i(23),f=i(24),g=i(68);class v extends n.Component{render(){const{item:e}=this.props;let t=e.after_score;return this.props.is_before&&(t=e.before_score),Math.round(t)}}let y=class extends n.Component{constructor(){super(...arguments),this.m_d="",this.m_px=30,this.m_py=6}render(){const{item:e}=this.props;return e?n.createElement("div",null,n.createElement("div",{className:"player-box graph "+(!0===e.isPerfect?"perfect":"")},n.createElement("div",{className:"stage"},n.createElement("div",{className:"circlebox"},(()=>n.createElement(h.ProgressCircle,{watch:null,paint:{arcWH:140,px:this.m_px,py:this.m_py,r:0,d:this.m_d,fill:"/content/mathalive_lib/MA/assessment_review/common/prograss-bg.jpg",lineCarving:!0,fillsize:140,strokeWidth:50},percent:!0===e.isPerfect?100:Math.floor(e.solvedCnt?e.solvedCnt/e.totalCnt*100:0)},!0===e.isPerfect?n.createElement("span",{className:"percent"},100):n.createElement("span",{className:"percent"},Math.floor(100*(e.solvedCnt?e.solvedCnt/e.totalCnt:0)))))(),n.createElement("img",{src:`/content/mathalive_lib/MA/assessment_review/common/prograss-main${!0===e.isPerfect?"-perfect":""}.png`}),!0===e.isPerfect?n.createElement(n.Fragment,null):n.createElement("span",{className:"needs"},this.props.needs),n.createElement("div",{className:"info"},!0===e.isPerfect?n.createElement("div",{className:"num perfect"},"Perfect!"):n.createElement("div",{className:"num"},e.solvedCnt?e.solvedCnt:0," / ",e.totalCnt)))))):n.createElement(n.Fragment,null)}};o([r.observable],y.prototype,"m_d",void 0),o([r.observable],y.prototype,"m_px",void 0),o([r.observable],y.prototype,"m_py",void 0),y=o([a.observer],y);let b=class extends n.Component{constructor(){super(...arguments),this.quiz_prog_lock=!1,this.precessCheck="all",this.player_len=0,this._viewPreview=!1,this._viewPreviewIdx=0,this._hadExplain=!1,this._stopPopup=!1}parseNeedExplain(){return this.props.state.need_explain}componentWillReceiveProps(e){const{state:t,actions:i}=this.props;t.viewDiv;if(!1===this.props.view&&!0===e.view&&(this.props.actions.setQuizProg(d.IQuizProg.READY),this.player_len=0),!0===this.props.view&&!1===e.view){this.props.actions.setQuizProg(d.IQuizProg.END),p.App.pub_playBasicButton();let e={msgtype:"quiz_reset"};l.sendPAD(10,e),this.player_len=0,this._stopPopup=!1}this.props.state.solving_students===e.state.solving_students&&this.props.state.lastUpdated===e.state.lastUpdated||(this.player_len=e.state.solving_students.filter(e=>!0===e.isCleard).length)}render(){const{state:e,actions:t}=this.props,i=(e.viewDiv,this.parseNeedExplain()),o=this.props.state.solving_students,r=e=>{const t=this.props.state.solving_students;if(void 0===t||0===t.length)return 0;if(0===e)return this.props.state.quiz_prog!==d.IQuizProg.RUN?0:t.length;if(this.props.state.quiz_prog!==d.IQuizProg.RUN)return 0;if(1===e){return t.filter(e=>!0===e.isCleard).length}return t.filter(e=>!1===e.isCleard).length};return n.createElement(n.Fragment,null,n.createElement("div",{id:"list-warpper"},n.createElement("section",{id:"main-list"},n.createElement("div",{className:"need-explain"},(()=>n.createElement(n.Fragment,null,n.createElement("h2",null,n.createElement("img",{src:"/content/mathalive_lib/MA/assessment_review/common/hand_icon.jpg"})," ",i.length),(()=>this.props.state.quiz_prog===d.IQuizProg.READY?n.createElement("div",{className:"none-item"},n.createElement("img",{src:"/content/mathalive_lib/MA/assessment_review/common/ani_01.gif"}),n.createElement("div",{className:"sp-bars"},n.createElement("i",null),n.createElement("i",null),n.createElement("i",null),n.createElement("i",null),n.createElement("i",null),n.createElement("i",null),n.createElement("i",null),n.createElement("i",null),n.createElement("i",null),n.createElement("i",null),n.createElement("i",null))):n.createElement("div",{className:"scroll "+(i.length>4?"onscroll":"")},n.createElement("ul",null,i.map((i,o)=>n.createElement("li",{key:o+i.name},n.createElement("span",{onClick:()=>{const t=e.solving_students.findIndex(e=>e.id+""==i.id+"");if(-1!==t&&e.solving_students[t]){const o=e.solving_students[t];if(void 0===o)return;if(void 0===o.detail)return;let s=[];o.detail.map(e=>{s.push(e),e.twinInfo&&s.push(e.twinInfo)});const n=s.findIndex(e=>e.seq+""==i.seq+"");-1!==n&&(e.select_student_idx=t,this._viewPreview=!0,this._viewPreviewIdx=n)}}},"1"===i.displayMode?i.name+" ":i.nickname+" "),n.createElement("strong",null,i.time),n.createElement("button",{onClick:()=>{t.removeNeedExplain(i.id,i.seq,!0)},className:"complete_checker"}),n.createElement("button",{onClick:()=>{t.setLockNeedExplain(i.id,!i.is_lock)},className:"complete_rock "+(i.is_lock?"on":"off")}))))))()))()),n.createElement("div",{className:"process-list"},(()=>n.createElement(n.Fragment,null,n.createElement("ul",null,n.createElement("div",{className:"all "+("all"===this.precessCheck?"active":"")},n.createElement("button",{onClick:()=>{p.App.pub_playBasicButton(),this.precessCheck="all"}},n.createElement("span",{className:"tit"},"ALL"),n.createElement("strong",{className:"num"},r(0)))),n.createElement("li",{className:"complete"===this.precessCheck?"active":""},n.createElement("button",{onClick:()=>{p.App.pub_playBasicButton(),this.precessCheck="complete"}},n.createElement("span",{className:"tit"},"Complete"),n.createElement("strong",{className:"num"},r(1)))),n.createElement("li",{className:"proceeding"===this.precessCheck?"active":""},n.createElement("button",{onClick:()=>{p.App.pub_playBasicButton(),this.precessCheck="proceeding"}},n.createElement("span",{className:"tit"},"Proceeding"),n.createElement("strong",{className:"num"},r(2)))))))())),n.createElement("section",{id:"side-list"},n.createElement("div",{className:"player-list "+this.precessCheck,style:{pointerEvents:(this.props.state.quiz_prog,d.IQuizProg.RUN,"auto")}},(()=>0===o.length?n.createElement(n.Fragment,null):n.createElement(n.Fragment,null,n.createElement("ul",{id:"student_list",ref:e=>{null!==e&&(e.addEventListener("pointerdown",t=>{if(0===t.pressure)return;let i=t.clientY,o=e.scrollTop;e.addEventListener("pointermove",t=>{if(0===t.pressure)return;let s=-1*(t.clientY-i);e.scrollTop=o+s})}),e.addEventListener("pointerup",t=>{e.removeEventListener("pointermove",()=>{})}),e.addEventListener("mouseup",t=>{e.removeEventListener("pointermove",()=>{})}))}},void 0===o||0===o.length?n.createElement("i",{className:"loading_item"}):"",o.map((e,t)=>n.createElement("li",{key:t+("1"===e.displayMode?e.name:e.nickname),"data-cleard":e.isCleard,onClick:()=>{this.props.toggleDetail(!0,t)}},n.createElement("h2",null,n.createElement("div",{className:"user"},n.createElement(f.default,{thumbnail:e.thumb,avatar:e.avatar,displayMode:e.displayMode,name:"1"===e.displayMode?e.name:e.nickname,className:"",gender:e.gender}),n.createElement("span",{className:"ico level0"+e.grade}),n.createElement("span",{className:"name "+(e.isPerfect?"perfect":"")},"1"===e.displayMode?e.name:e.nickname)),n.createElement("div",{className:"score"},!0===e.isPerfect?n.createElement("span",{className:"result"},"100"):n.createElement(n.Fragment,null,n.createElement("span",{className:"before"},n.createElement(v,{item:e,is_before:!0})),n.createElement("img",{src:"/content/mathalive_lib/MA/assessment_review/common/arrow_main.png"}),n.createElement("span",{className:"result"},!1===e.isCleard?"?":n.createElement(v,{item:e,is_before:!1}))))),n.createElement(y,{key:"play_list"+e.id+t,item:e,needs:e&&e.detail&&e.detail.filter?e.detail.filter(e=>1===e.hadExplain).length:0}))))))()),n.createElement("div",{className:"button-list "+(this.props.state.quiz_prog===d.IQuizProg.END?"finished":"")},(t=>n.createElement(n.Fragment,null,n.createElement("button",{onClick:()=>{if(this.props.state.solving_students.length===p.App.students.length){p.App.pub_playBasicButton(),this.props.actions.setQuizProg(d.IQuizProg.RUN);let t={msgtype:"assessment_start",classid:e.classid,bookid:e.bookid,curriculumid:e.curriculumid,curriculum:JSON.stringify(e.lesson),additional_data:JSON.stringify(e.additional_data)};this.player_len=this.props.state.solving_students.filter(e=>!0===e.isCleard).length,l.sendPAD(10,t),console.log("pub_reloadStudents!!!!"),p.App.pub_reloadStudents(()=>{console.log("pub_reloadStudents")})}},hidden:0===this.props.state.solving_students.length,className:"start","data-active":this.props.state.quiz_prog===d.IQuizProg.READY}),n.createElement(u.default,{is_lock:this.quiz_prog_lock,view:!0,onToggle:e=>{p.App.pub_playBasicButton(),this.quiz_prog_lock=e,!1===this.quiz_prog_lock&&i.map(e=>e.is_lock=!1)},is_teacher:!0}),n.createElement(g.BtnProgress,{view:this.props.state.quiz_prog>d.IQuizProg.READY,isEnd:this.props.state.quiz_prog===d.IQuizProg.END,totalStudents:p.App.students?p.App.students.length:0,submitStudents:r(1),noRetryView:!0,onClick:()=>{this._stopPopup=!0}})))(this.player_len)))),(()=>{const t=e.solving_students[e.select_student_idx];if(void 0===t)return n.createElement(n.Fragment,null);if(void 0===t.detail)return n.createElement(n.Fragment,null);let i=[];return t.detail.map(e=>{i.push(e),e.twinInfo&&i.push(e.twinInfo)}),n.createElement(_.default,{view:this._viewPreview,quiz_list:i,isVisiblePenTool:!1,isPreview:!0,isPerfect:t.isPerfect,isteacher:!0,isPreviewIdx:this._viewPreviewIdx,checkCurrent:(e,t,i)=>{},goToPrev:()=>{this._viewPreview=!1},hadExplain:this._hadExplain})})(),n.createElement(m.AlertPopup,{view:this._stopPopup,onClose:()=>{this._stopPopup=!1,this.props.actions.setQuizProg(d.IQuizProg.RUN)},onOk:()=>s(this,void 0,void 0,(function*(){this._stopPopup=!1,this.props.state.solving_students.map(e=>e.isCleard=!0);l.sendPAD(10,{msgtype:"quiz_end"}),p.App.pub_playBasicButton(),c.delay(()=>{this.props.actions.setQuizProg(d.IQuizProg.END)},1e3)})),msg:"Force Quit?"}))}};o([r.observable],b.prototype,"quiz_prog_lock",void 0),o([r.observable],b.prototype,"precessCheck",void 0),o([r.observable],b.prototype,"player_len",void 0),o([r.observable],b.prototype,"_viewPreview",void 0),o([r.observable],b.prototype,"_viewPreviewIdx",void 0),o([r.observable],b.prototype,"_hadExplain",void 0),o([r.observable],b.prototype,"_stopPopup",void 0),b=o([a.observer],b),t.default=b},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(0),s=i(5),n=i(4);class r extends o.Component{render(){return this.props.is_teacher?o.createElement("button",{onClick:()=>{if(this.props.is_lock){n.App.pub_reloadStudents(()=>{}),this.props.onToggle&&this.props.onToggle(!1);let e={msgtype:"page_unlock"};s.sendPAD(10,e)}else{n.App.pub_reloadStudents(()=>{}),this.props.onToggle&&this.props.onToggle(!0);let e={msgtype:"page_lock"};s.sendPAD(10,e)}},className:"lock_btn","data-active":this.props.view,"data-locked":this.props.is_lock}):o.createElement("div",{className:"lockking",style:this.props.is_lock?{display:"block"}:{display:"none"}},this.props.children?this.props.children:o.createElement("div",{className:"text"},o.createElement("strong",null,"Pay Attention"),o.createElement("img",{src:"/content/mathalive_lib/images/imgFairy.png"})))}}t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressCircle=t._dArc=t._cToP=t._pToC=void 0;const o=i(0);t._pToC=(e,t,i,o)=>{let s=(o-90)*Math.PI/180;return{x:e+i*Math.cos(s),y:t+i*Math.sin(s)}},t._cToP=(e,t,i,o)=>({x:e+i*Math.cos(o),y:t+i*Math.sin(o)}),t._dArc=(e,i,o,s,n,r)=>{let a={d:"",p:{x:0,y:0}};if(o-=r/2,n-s>=360)a.d=["M",e,i,"m",-o,0,"a",o,o,0,"1",0,2*o,0,"a",o,o,0,"1",0,2*-o,0].join(" ");else{let r=n-s<=180?"0":"1",c=t._pToC(e,i,o,n),l=t._pToC(e,i,o,s);t._cToP(e,i,o,s);a.d=["M",c.x,c.y,"A",o,o,0,r,0,l.x,l.y].join(" "),a.p.x=c.x,a.p.y=c.y}return a};class s extends o.Component{constructor(e){super(e),this._drawArc=e=>{if(void 0!==e&&null!==this.props.paint){const i=this.props.paint.arcWH/2,o=this.props.paint.arcWH/2;let s,n=e/100;n*=360,s=t._dArc(o,o,i,0,n,this.props.paint.strokeWidth?this.props.paint.strokeWidth:0),this.setState({d:s.d,px:s.p.x,py:s.p.y})}},this.state={d:"",px:0,py:0}}componentWillReceiveProps(e){null===e.paint||this.state.d===e.paint.d&&this.state.py===e.paint.py&&this.state.px===e.paint.px||(this.setState({d:e.paint.d,px:e.paint.px,py:e.paint.py}),this._drawArc(e.percent)),this.props.percent!==e.percent&&this._drawArc(e.percent)}componentDidMount(){null!==this.props.paint&&(this.setState({d:this.props.paint.d,px:this.props.paint.px,py:this.props.paint.py}),this._drawArc(this.props.percent))}render(){if(null!==this.props.paint){const{arcWH:e,d:t,px:i,py:s,r:n,fill:r,fillsize:a}=this.props.paint,c=r.length>10?"url(#pattern)":r;return o.createElement(o.Fragment,null,o.createElement("svg",{id:"findsvg",style:{overflow:"visible"},width:e,height:e,viewBox:"0 0 "+e+" "+e},o.createElement("path",{strokeLinecap:this.props.paint.lineCarving?"butt":"round",strokeWidth:this.props.paint.strokeWidth?this.props.paint.strokeWidth:5,stroke:c,fill:"none",d:this.state.d+""}),o.createElement("circle",{className:"circle",cx:0===this.state.px?e/2:this.state.px,cy:this.state.py,r:n,fill:c}),this.props.zeropoint?o.createElement("circle",{className:"circle",cx:e/2,cy:1,r:n,fill:c}):"",o.createElement("pattern",{id:"pattern",patternUnits:"userSpaceOnUse",x:0-n,y:0-n,width:a?a+2*n:100,height:a?a+2*n:100},o.createElement("image",{xlinkHref:this.props.paint.fill,x:0,y:0,width:a?a+2*n:100,height:a?a+2*n:100}))),this.props.children?this.props.children:"")}return null!==this.props.watch?o.createElement(o.Fragment,null,o.createElement("div",{className:"circle"},o.createElement("div",{className:"progress-circle progress-"+this.props.watch.progress}),o.createElement("div",{className:"m_text"},this.props.watch.text)),this.props.children?this.props.children:""):o.createElement(o.Fragment,null)}}t.ProgressCircle=s},function(e,t,i){"use strict";var o=this&&this.__decorate||function(e,t,i,o){var s,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(n<3?s(r):n>3?s(t,i,r):s(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},s=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(s,n){function r(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CoverPopup=void 0;const n=i(0),r=i(1),a=i(2),c=i(7);let l=class extends n.Component{constructor(){super(...arguments),this.m_state="closed",this._open=()=>s(this,void 0,void 0,(function*(){"closed"===this.m_state&&(this.m_state="opening",yield c.wait(100),this.m_state="open")})),this._close=()=>s(this,void 0,void 0,(function*(){"open"===this.m_state&&(this.m_state="closing",yield c.wait(400),this.props.onClosed(),this.m_state="closed")}))}componentDidUpdate(e){this.props.view!==e.view&&(this.props.view?this._open():this._close())}render(){return n.createElement("div",{className:this.props.className+" "+this.m_state},this.props.children)}};o([r.observable],l.prototype,"m_state",void 0),l=o([a.observer],l),t.CoverPopup=l},function(e,t,i){"use strict";var o=this&&this.__decorate||function(e,t,i,o){var s,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(n<3?s(r):n>3?s(t,i,r):s(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(t,"__esModule",{value:!0});const s=i(0),n=i(1),r=i(2),a=i(62),c=i(11);let l=class extends s.Component{constructor(e){super(e),this.m_btnH=0,this.m_max=0,this.m_sy=-1,this.m_vy=-1,this.m_time=-1,this.m_bSend=!1,this.m_state={y:0,alpha:1,tDur:0,aDur:0,isOn:!1,disabled:!1},this._ref=e=>{if(this.m_max>0||!e)return;e.setAttribute("touch-action","none");const t=window.getComputedStyle(e),i=c.nteFloat(t.height,0),o=c.nteFloat(t.bottom,0);i>0&&(this.m_btnH=i,"pad"===this.props.type?this.m_max=o-i-35:this.m_max=i+o+10,this.props.view||(this.m_state.y=this.m_max))},this._down=e=>{this.m_state.isOn||this.m_state.disabled||void 0!==this.props.disable&&this.props.disable||(this.m_state.y=this.props.originY,this.m_state.alpha=1,this.m_state.tDur=0,this.m_state.aDur=0,this.m_state.isOn=!0,this.m_vy=0,this.m_time=Date.now())},this._start=(e,t)=>{this.m_sy=t.y,this.m_bSend=!0},this._drag=(e,t)=>{if(!this.m_state.isOn||this.m_state.disabled)return;let i=t.y-this.m_sy;"teacher"===this.props.type?(t.deltaY<-1?this.m_bSend=!1:t.deltaY>=0&&(this.m_bSend=!0),i<0&&(i=0)):(t.deltaY>1?this.m_bSend=!1:t.deltaY<=0&&(this.m_bSend=!0),i>0&&(i=0)),!1===this.props.preventDrag&&(this.m_state.y=i+this.props.originY);const o=Date.now();this.m_vy=t.deltaY/(o-this.m_time),this.m_time=o},this._stop=(e,t)=>{if(this.m_state.isOn&&!this.m_state.disabled)if(this.m_bSend){let e=.5*this.m_vy*1e3,i=t.y-this.m_sy;"teacher"===this.props.type?(e<this.m_btnH?e=this.m_btnH:e>4*this.m_btnH&&(e=4*this.m_btnH),i<0&&(i=0)):(-1*e<this.m_btnH?e=-this.m_btnH:-1*e>4*this.m_btnH&&(e=-4*this.m_btnH),i>0&&(i=0)),this.m_state.tDur=.5,this.m_state.aDur=.5,this.m_state.alpha=0,this.m_state.y=i+e+this.props.originY,this.props.onSend()}else this.m_state.isOn=!1,this.m_state.tDur=.3,this.m_state.aDur=0,this.m_state.y=this.props.originY},e.sended?(this.m_state.alpha=0,this.m_state.disabled=!0):e.view?(this.m_state.y=e.originY,this.m_state.alpha=1,this.m_state.tDur=.3,this.m_state.aDur=0,this.m_state.isOn=!1,this.m_state.disabled=!1):e.view||(this.m_state.y=e.originY,this.m_state.alpha=0,this.m_state.tDur=.3,this.m_state.aDur=.3,this.m_state.isOn=!1,this.m_state.disabled=!0)}componentWillReceiveProps(e){e.sended&&!this.props.sended?(this.m_state.alpha=0,this.m_state.disabled=!0):e.view&&!this.props.view?(this.m_state.y=e.originY,this.m_state.alpha=1,e.preventUpWhenView?(this.m_state.tDur=0,this.m_state.aDur=.3):(this.m_state.tDur=.3,this.m_state.aDur=0),this.m_state.isOn=!1,this.m_state.disabled=!1):!e.view&&this.props.view?(this.m_state.y=this.m_max,this.m_state.alpha=0,this.m_state.tDur=.3,this.m_state.aDur=.3,this.m_state.isOn=!1,this.m_state.disabled=!0):!e.view||e.sended||this.m_state.isOn||e.originY===this.props.originY||(this.m_state.y=e.originY,this.m_state.tDur=.3,this.m_state.aDur=0),!this.props.isRetry&&e.isRetry&&(this.m_state.y=e.originY,this.m_state.alpha=1,e.preventUpWhenView?(this.m_state.tDur=0,this.m_state.aDur=.3):(this.m_state.tDur=.3,this.m_state.aDur=0),this.m_state.isOn=!1,this.m_state.disabled=!1)}render(){const{y:e,tDur:t,aDur:i,alpha:o,isOn:n,disabled:r}=this.m_state;let c={transform:`translateY(${e}px)`,transition:`transform ${t}s, opacity ${i/2}s ${i/2}s`,opacity:o,pointerEvents:r||!this.props.view?"none":"auto"};this.props.preventDrag&&(c={});const l=[];return"pad"===this.props.type?l.push("fel_toteacher"):l.push("fel_topad"),n&&l.push("on"),this.props.isVisiblePenTool&&this.props.isVisiblePenTool&&l.push("up"),s.createElement(a.DraggableCore,{onMouseDown:this._down,onDrag:this._drag,onStart:this._start,onStop:this._stop},s.createElement("button",{ref:this._ref,className:l.join(" ")+(this.props.className?" "+this.props.className:""),style:c},s.createElement("span",{className:"revise"+(this.props.isRevise?" on":""),style:{display:this.props.isRevise?"":"none"}})))}};o([n.observable],l.prototype,"m_state",void 0),l=o([r.observer],l),t.default=l},function(e,t){e.exports=ReactDraggable},function(e,t,i){"use strict";var o=this&&this.__decorate||function(e,t,i,o){var s,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(n<3?s(r):n>3?s(t,i,r):s(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},s=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(s,n){function r(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NewSayPopup=void 0;const n=i(0),r=i(1),a=i(2),c=i(6),l=i(7),d=i(4),p=i(5);let u=class extends n.Component{constructor(){super(...arguments),this.showopen=!1,this._innerType=0,this._name="great",this._onComplete=()=>s(this,void 0,void 0,(function*(){yield l.wait(500),this.props.onComplete(),!0!==this.props.hideTeaching&&p.showSMathKit(!0)}))}componentDidUpdate(e){if(this.props.view&&!e.view){let e=this.props.delay;e||(e=800),this.props.type<5?this._innerType=Math.floor(4*Math.random()+1):this._innerType=this.props.type,1===this._innerType?this._name="great":2===this._innerType?this._name="awesome":3===this._innerType?this._name="perfect":4===this._innerType?this._name="excellent":5===this._innerType?this._name="bonus":6===this._innerType?this._name="sorry":7===this._innerType&&(this._name="retry"),c.delay(()=>{this.showopen=!1,this._onComplete()},2e3),c.delay(()=>{this.showopen=!0,!0!==this.props.hideTeaching&&p.showSMathKit(!1),this.props.type<5?d.App.pub_playgreat():6===this.props.type?d.App.pub_playsorry():7===this.props.type&&d.App.pub_playretry()},500)}else!this.props.view&&e.view&&(this._name="great",this._innerType=0)}render(){return n.createElement("div",{className:"msg_rst"+(this.showopen?" open":""),style:{display:this.props.view?"":"none"}},n.createElement("div",{className:"imgtxt "+this._name}),n.createElement("div",{className:"twinkle"},n.createElement("span",null),n.createElement("span",null),n.createElement("span",null),n.createElement("span",null),n.createElement("span",null),n.createElement("span",null),n.createElement("span",null),n.createElement("span",null)))}};o([r.observable],u.prototype,"showopen",void 0),o([r.observable],u.prototype,"_innerType",void 0),o([r.observable],u.prototype,"_name",void 0),u=o([a.observer],u),t.NewSayPopup=u},function(e,t,i){"use strict";function o(e,t){const i=/[^a-zA-Z]/g,o=/[^0-9]/g;var s=e.replace(i,""),n=t.replace(i,"");if(s===n){var r=parseInt(e.replace(o,""),10),a=parseInt(t.replace(o,""),10);return r===a?0:r>a?1:-1}return s>n?1:-1}function s(e){for(var t=0,i=e.length,o=i;(o-=1)>-1;)t+=(e.charCodeAt(o)-64)*Math.pow(26,i-1-o);return t}function n(e){var t=e%26,i=e/26|0,o=t?String.fromCharCode(64+t):(i--,"Z");return i?n(i)+o:o}Object.defineProperty(t,"__esModule",{value:!0}),t.answercheck=void 0,t.answercheck=function(e,t){if(console.log("=========> answercheck result",e),console.log("=========> answercheck msg",t),!t||e.length<0)return-1;const i=e;if(!i)return-1;if(0===t.basetype&&1===t.subtype){console.log("=========> answercheck gap2",i.contentAnswers);let e=[],o=[];return i.contentAnswers.map((i,s)=>{i.basetype===t.basetype&&i.subtype===t.subtype&&(e.push(i),o.push(s))}),e.map((e,s)=>{let n=o[s];const r=i.userChoices[n];if(2===e.matchType){r.correct=!1;for(let i=0;i<e.answers.length;i++)e.answers[i]===t.choicedValue[s]&&(r.correct=!0)}else e.answers[0]===t.choicedValue[s]?r.correct=!0:r.correct=!1;r.choicedIdx=t.choicedIdx[s],r.choicedValue=t.choicedValue[s],r.completed=!0}),o.length>0?o[o.length-1]:-1}if(0===t.basetype&&2===t.subtype){console.log("=========> answercheck gap3",i.contentAnswers);let e=[],o=[];return i.contentAnswers.map((i,s)=>{i.basetype===t.basetype&&i.subtype===t.subtype&&(e.push(i),o.push(s))}),e.map((e,s)=>{let n=o[s];const r=i.userChoices[n];if(2===e.matchType){r.correct=!1;for(let i=0;i<e.answers.length;i++)JSON.stringify(e.answers[i])===JSON.stringify(t.choicedValue[s])&&(r.correct=!0)}else JSON.stringify(e.answers)===JSON.stringify(t.choicedValue[s])?r.correct=!0:r.correct=!1;r.choicedIdx=t.choicedIdx[s],r.choicedValue=t.choicedValue[s],r.completed=!0}),o.length>0?o[o.length-1]:-1}let r=i.contentAnswers.findIndex(e=>e.basetype===t.basetype&&e.subtype===t.subtype);if(r<0)return-1;console.log("=========> answercheck answer idx",r,i.contentAnswers[r]);const a=i.contentAnswers[r],c=i.userChoices[r];if(!c)return-1;if(0===t.basetype&&0===t.subtype){if(console.log("=========> answercheck gap",a),2===a.matchType){let e=t.choicedValue.join(",");console.log("=========> answercheck gap choices",e);let i=!1;for(let t=0;t<a.answers.length;t++)if(a.answers[t]===e){i=!0;break}c.correct=i}else if(1===a.matchType){if(console.log("=========> answercheck gap",a.answers.length,t.choicedValue.length),a.answers.length!==t.choicedValue.length)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!1,-2;let e=!0;for(let i=0;i<a.answers.length;i++)if(a.answers[i]!==t.choicedValue[i]){e=!1;break}c.correct=e}c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck gap",a,c)}else if(1===t.basetype&&0===t.subtype){if(2===a.matchType){const e=a.answers.findIndex(e=>e+""===t.choicedValue[0]);c.correct=!(e<0)}else 1===a.matchType&&(console.log("=========> answercheck choice",a.answers[0],t.choicedValue[0]),a.answers[0]+""===t.choicedValue[0]?c.correct=!0:c.correct=!1);c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck choice",a,c)}else if(1===t.basetype&&1===t.subtype){if(2===a.matchType){let e=t.choicedValue.sort();console.log("=========> answercheck choice/multi compare2",e,e.join());const i=a.answers.findIndex(t=>t===e.join());c.correct=!(i<0)}else if(1===a.matchType){let e=a.answers.slice().sort(),i=t.choicedValue.sort();console.log("=========> answercheck choice/multi compare",e,i),JSON.stringify(e)===JSON.stringify(i)?c.correct=!0:c.correct=!1}c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck choice/multi",a,c)}else if(1===t.basetype&&2===t.subtype){if(2===a.matchType){for(let e=0;e<a.answers.length;e++){if(-1==a.answers[e].indexOf(","))return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,-1}for(let e=0;e<a.answers.length;e++){let i=a.answers[e].split(",").sort(),o=t.choicedValue.sort();if(console.log("=========> answercheck choice/group match one compare",i,o),console.log("JSON.stringify(ans),JSON.stringify(cho)",JSON.stringify(i),JSON.stringify(o)),JSON.stringify(i)===JSON.stringify(o)){c.correct=!0;break}c.correct=!1}}else if(1===a.matchType){if(-1==a.answers[0].indexOf(","))return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,-1;let e=a.answers[0].split(",").sort(),i=t.choicedValue.sort();console.log("=========> answercheck choice/group compare",e,i),console.log("JSON.stringify(ans),JSON.stringify(cho)",JSON.stringify(e),JSON.stringify(i)),JSON.stringify(e)===JSON.stringify(i)?c.correct=!0:c.correct=!1}console.log("=========> answercheck choice/group userChoice.correct",c.correct),c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck choice/group",a,c)}else if(2===t.basetype){if(2===a.matchType&&5===a.subtype){const e=t.choicedValue,i=a.answers;console.log("copy group math one choicedValue",e),console.log("copy group math one answers",i);const o=Array.from(i),s=[];o.forEach(e=>{let t=[];-1!=e.indexOf(",")?t=e.split(","):t.push(e),s.push(t)}),console.log("copy group math one arrGroupAnswers",s);let n=!1;for(let t=0;t<s.length;t++)if(console.log("copy group math one","arrGroupAnswers[i]",JSON.stringify(s[t]),"choicedValue",JSON.stringify(e)),JSON.stringify(s[t])==JSON.stringify(e)){n=!0;break}c.correct=n}else if(2===a.matchType&&4===a.subtype){const e=t.choicedValue.length,i=a.answers.length;console.log();const o=Math.round(i/e);let s=[];for(let t=0;t<o;t++){let o=e*t,n=e*(t+1);n>i&&(n=i),s.push(a.answers.slice(o,n))}console.log("===> answercheck dragdrop tmp",s);let n=!1;for(let e=0;e<s.length;e++){let i=!0;for(let o=0;o<s[e].length;o++){let n=s[e][o].split(",").sort(),r=t.choicedValue[o].split(",").sort();if(n.length!==r.length){i=!1;break}if(JSON.stringify(n)!==JSON.stringify(r)){i=!1;break}}if(i){n=!0;break}}c.correct=n}else if(2===a.matchType&&1===t.subtype){let e=!1;for(let i=0;i<a.answers.length;i++){let o=a.answers[i].split(","),s=t.choicedValue[0].split(",");if(o.length!==s.length)break;if(console.log("JSON.stringify(answerArr)",JSON.stringify(o)),console.log("JSON.stringify(choicedValue)",JSON.stringify(s)),JSON.stringify(o)===JSON.stringify(s)){e=!0;break}}c.correct=e}else if(2===a.matchType&&4!==t.subtype){let e=!1;for(let i=0;i<a.answers.length;i++){let o=a.answers[i].split(",");if(o.length!==t.choicedValue.length)break;if(console.log("===> answercheck dragdrop check",t.subtype,a.matchType,i,o,t.choicedValue),JSON.stringify(o)===JSON.stringify(t.choicedValue)){e=!0;break}}c.correct=e}else if(1===a.matchType){if(console.log("=========> answercheck dragdrop",t.subtype,a.matchType,a.answers.length,t.choicedValue.length),console.log("=========> answers.length/",a.answers.length,t.choicedValue.length),a.answers.length!==t.choicedValue.length)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!1,-2;let e=!0;for(let i=0;i<a.answers.length;i++){console.log("=========> answercheck dragdrop",t.subtype,a.matchType,i,a.answers[i],t.choicedValue[i],a.answers[i]===t.choicedValue[i]);let o=a.answers[i].split(",").sort();if(o.length>1){let s=t.choicedValue[i].split(",").sort();if(o.length!==s.length){e=!1;break}if(o.join()!==s.join()){e=!1;break}}else if(a.answers[i]!==t.choicedValue[i]){e=!1;break}}c.correct=e}c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck dragdrop",t.subtype,a.matchType,a,c)}else if(3===t.basetype&&0===t.subtype){if(3===a.matchType);else if(2===a.matchType);else if(1===a.matchType){if(console.log("=========> answercheck shade",a.answers.length,t.choicedValue.length),a.answers.length!==t.choicedValue.length)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!1,-2;let e=!0;for(let i=0;i<a.answers.length;i++){console.log("=========> answercheck shade",i,a.answers[i],t.choicedValue[i],a.answers[i]===t.choicedValue[i]);let o=a.answers[i].split(",").sort();if(o.length>1){let s=t.choicedValue[i].split(",").sort();if(o.length!==s.length){e=!1;break}if(o.join()!==s.join()){e=!1;break}}else if(a.answers[i]!==t.choicedValue[i]){e=!1;break}}c.correct=e}c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck shade",a,c)}else if(3===t.basetype&&1===t.subtype){if(3===a.matchType){let e=!0;if(0===t.choicedValue.length)e=!1;else{let i=!1;if(t.choicedValue.length>1)for(let e=1;e<t.choicedValue.length;e++)if(t.choicedValue[0]===t.choicedValue[e]){i=!0;break}if(i)e=!1;else for(let i=0;i<t.choicedValue.length;i++){let o=t.choicedValue[i].split(",");if(a.answers.length!==o.length){e=!1;break}if(a.answers.slice().sort().join(",")===t.choicedValue[i]){e=!1;break}}}c.correct=e}else if(2===a.matchType);else if(1===a.matchType){if(console.log("=========> answercheck shade",a.answers.length,t.choicedValue.length),a.answers.length!==t.choicedValue.length)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!1,-2;let e=!0;for(let i=0;i<a.answers.length;i++)if(console.log("contentanswer.answers[i]",i,a.answers[i]),console.log("msg.choicedValue[i]",i,t.choicedValue[i]),a.answers[i]!==t.choicedValue[i]){e=!1;break}c.correct=e}c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck shade",a,c)}else if(4===t.basetype&&0===t.subtype){if(2===a.matchType){let e=t.choicedValue;console.log("=========> answercheck dragadd",e,e.join());const i=a.answers.findIndex(t=>t===e.join());c.correct=!(i<0)}else if(1===a.matchType){if(console.log("=========> answercheck dragadd",a.answers.length,t.choicedValue.length),a.answers.length!==t.choicedValue.length)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!1,-2;let e=!0;for(let i=0;i<a.answers.length;i++)if(console.log("=========> answercheck dragadd",i,a.answers[i],t.choicedValue[i],a.answers[i]!==t.choicedValue[i]),a.answers[i]!==t.choicedValue[i]){e=!1;break}c.correct=e}c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck dragadd",a,c)}else if(4===t.basetype&&2===t.subtype){if(2===a.matchType){let e=t.choicedValue;console.log("=========> answercheck tally chart",e,e.join());const i=a.answers.findIndex(t=>t===e.join());c.correct=!(i<0)}else if(1===a.matchType){if(console.log("=========> answercheck tally chart",a.answers.length,t.choicedValue.length),a.answers.length!==t.choicedValue.length)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!1,-2;let e=!0;for(let i=0;i<a.answers.length;i++)if(console.log("=========> answercheck tally chart",i,a.answers[i],t.choicedValue[i],a.answers[i]!==t.choicedValue[i]),a.answers[i]!==t.choicedValue[i]){e=!1;break}c.correct=e}c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck tally chart",a,c)}else if(4===t.basetype&&3===t.subtype||0===t.basetype&&3===t.subtype){if(2===a.matchType){let e=t.choicedValue;console.log("=========> answercheck gapplus",e,e.join());const i=a.answers.findIndex(t=>t===e.join());c.correct=!(i<0)}else if(1===a.matchType){if(console.log("=========> answercheck gapplus",a.answers.length,t.choicedValue.length),a.answers.length!==t.choicedValue.length)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!1,-2;let e=!0;for(let i=0;i<a.answers.length;i++)if(console.log("=========> answercheck gapplus",i,a.answers[i],t.choicedValue[i],a.answers[i]!==t.choicedValue[i]),a.answers[i]!==t.choicedValue[i]){e=!1;break}c.correct=e}if(c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,4===t.basetype){let e=i.contentAnswers.findIndex(e=>0===e.basetype&&3===e.subtype);if(e<0)return c.completed=!1,-2;const t=i.userChoices[e];if(t&&t.completed&&t.correct&&JSON.stringify(c.choicedValue)!==JSON.stringify(t.choicedValue))return console.log("=========> final compare1 contentanswer.matchType",a.matchType),c.correct=!1,r}else{let e=i.contentAnswers.findIndex(e=>4===e.basetype&&3===e.subtype);if(e<0)return c.completed=!1,-2;const t=i.userChoices[e];if(t&&t.completed&&t.correct&&JSON.stringify(c.choicedValue)!==JSON.stringify(t.choicedValue))return console.log("=========> final compare2 contentanswer.matchType",a.matchType),c.correct=!1,r}console.log("=========> answercheck gapplus contentresult",i)}else if(5===t.basetype){if(2===a.matchType){const e=t.choicedValue.length,i=a.answers.length,o=Math.round(i/e);let s=[];console.log("===> answercheck connection len",e,i,o);for(let t=0;t<o;t++){let o=e*t,n=e*(t+1);n>i&&(n=i),s.push(a.answers.slice(o,n))}console.log("===> answercheck connection tmp",s);let n=!1;for(let e=0;e<s.length;e++){let i=!0;if(s[e].length===t.choicedValue.length){for(let o=0;o<s[e].length;o++)if(s[e][o]!==t.choicedValue[o]){i=!1;break}if(i){n=!0;break}}else i=!1}c.correct=n}else if(1===a.matchType){if(console.log("=========> answercheck connection",a.answers.length,t.choicedValue.length),a.answers.length!==t.choicedValue.length)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!1,-2;let e=!0;for(let i=0;i<a.answers.length;i++)if(console.log("=========> answercheck connection",i,a.answers[i],t.choicedValue[i],a.answers[i]!==t.choicedValue[i]),a.answers[i]!==t.choicedValue[i]){e=!1;break}c.correct=e}c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck dragadd",a,c)}else if(6===t.basetype){if(2===a.matchType){let e=!1;for(let i=0;i<a.answers.length;i++){let o=a.answers[i].split(",");if(o.length!==t.choicedValue.length)break;if(console.log("===> answercheck number line check",t.subtype,a.matchType,i,o,t.choicedValue),JSON.stringify(o)===JSON.stringify(t.choicedValue)){e=!0;break}}c.correct=e}else if(1===a.matchType){if(a.answers.length!==t.choicedValue.length)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!1,-2;console.log("=========> answercheck number line",a.answers,t.choicedValue),JSON.stringify(a.answers)===JSON.stringify(t.choicedValue)?c.correct=!0:c.correct=!1}c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck number line",a,c)}else if(7===t.basetype){if(2===a.matchType){let e=!1;for(let i=0;i<a.answers.length;i++){let o=a.answers[i].split(",");if(o.length!==t.choicedValue.length)break;if(console.log("===> answercheck picture graph check",t.subtype,a.matchType,i,o,t.choicedValue),JSON.stringify(o)===JSON.stringify(t.choicedValue)){e=!0;break}}c.correct=e}else if(1===a.matchType){if(a.answers.length!==t.choicedValue.length)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!1,-2;console.log("=========> answercheck picture graph",a.answers,t.choicedValue),JSON.stringify(a.answers)===JSON.stringify(t.choicedValue)?c.correct=!0:c.correct=!1}c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck picture graph",a,c)}else if(8===t.basetype){if(2===a.matchType){let e=!1;for(let i=0;i<a.answers.length;i++){let o=a.answers[i].split(",");if(o.length!==t.choicedValue.length)break;if(console.log("===> answercheck bar graph check",t.subtype,a.matchType,i,o,t.choicedValue),JSON.stringify(o)===JSON.stringify(t.choicedValue)){e=!0;break}}c.correct=e}else if(1===a.matchType){if(a.answers.length!==t.choicedValue.length)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!1,-2;console.log("=========> answercheck bar graph",a.answers,t.choicedValue),JSON.stringify(a.answers)===JSON.stringify(t.choicedValue)?c.correct=!0:c.correct=!1}c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck bar graph",a,c)}else if(9===t.basetype){if(2===a.matchType){let e=!1;for(let i=0;i<a.answers.length;i++){let o=a.answers[i].split(",");if(o.length!==t.choicedValue.length)break;if(console.log("===> answercheck line plot check",t.subtype,a.matchType,i,o,t.choicedValue),JSON.stringify(o)===JSON.stringify(t.choicedValue)){e=!0;break}}c.correct=e}else if(1===a.matchType){if(a.answers.length!==t.choicedValue.length)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!1,-2;console.log("=========> answercheck line plot",a.answers,t.choicedValue),JSON.stringify(a.answers)===JSON.stringify(t.choicedValue)?c.correct=!0:c.correct=!1}c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck line plot",a,c)}else if(10===t.basetype){if(2===a.matchType);else if(1===a.matchType&&0===t.subtype)console.log("=========> answercheck clock hands",Object.assign({},a.answers),t.choicedValue),console.log("arrGroupAnswers",JSON.stringify(a.answers),"/",JSON.stringify(t.choicedValue[0])),JSON.stringify(a.answers)===JSON.stringify(t.choicedValue[0])?c.correct=!0:c.correct=!1;else if(1===a.matchType&&1===t.subtype){console.log("=========> answercheck clock hands group",Object.assign({},a.answers),t.choicedValue);const e=Array.from(a.answers),i=[];e.forEach(e=>{let t=[];-1!=e.indexOf(",")?t=e.split(","):t.push(e),i.push(t)}),console.log("arrGroupAnswers",JSON.stringify(i),"/",JSON.stringify(t.choicedValue)),JSON.stringify(i)===JSON.stringify(t.choicedValue)?c.correct=!0:c.correct=!1}c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck clock hands",a,c)}else if(11===t.basetype&&0===t.subtype){if(2===a.matchType);else if(1===a.matchType){if(console.log("=========> answercheck radio",a.answers.length,t.choicedValue.length),a.answers.length!==t.choicedValue.length)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!1,-2;let e=!0;for(let i=0;i<a.answers.length;i++)if(console.log("=========> answercheck radio",i,a.answers[i],t.choicedValue[i],a.answers[i]!==t.choicedValue[i]),a.answers[i]!==t.choicedValue[i]){e=!1;break}c.correct=e}c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck dragadd",a,c)}else if(12===t.basetype&&0===t.subtype){if(2===a.matchType);else if(1===a.matchType){if(console.log("=========> answercheck checkbox",a.answers.length,t.choicedValue.length),a.answers.length!==t.choicedValue.length)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,c.correct=!1,r;let e=!0;for(let i=0;i<a.answers.length;i++)if(console.log("=========> answercheck checkbox",i,a.answers[i],t.choicedValue[i],a.answers[i]!==t.choicedValue[i]),a.answers[i]!==t.choicedValue[i]){e=!1;break}c.correct=e}c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck",a,c)}else if(13===t.basetype&&0===t.subtype){if(2===a.matchType){let e=!1;for(let i=0;i<a.answers.length;i++){let s=a.answers[i].split(",");if(s.length!==t.choicedValue.length)break;const n=s.sort(o);if(console.log("===> answercheck grid and chart check",t.subtype,a.matchType,i,s,n,t.choicedValue),JSON.stringify(n)===JSON.stringify(t.choicedValue)){e=!0;break}}c.correct=e}else if(1===a.matchType){if(console.log("=========> answercheck grid and chart",a.answers.length,t.choicedValue.length),a.answers.length!==t.choicedValue.length)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,c.correct=!1,r;let e=!0;const i=a.answers.sort(o);console.log("=========> answercheck grid and chart sorted ans",i);for(let o=0;o<i.length;o++)if(console.log("=========> answercheck grid and chart",o,i[o],t.choicedValue[o],i[o]!==t.choicedValue[o]),i[o]!==t.choicedValue[o]){e=!1;break}c.correct=e}c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck grid and chart",a,c)}else if(13===t.basetype&&1===t.subtype){if(2===a.matchType){let e=!1;if(t.choicedValue.length<2)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,c.correct=!1,r;let i=t.choicedValue.slice(0,t.choicedValue.length-1),o=t.choicedValue.slice(t.choicedValue.length-1),l=(s(o[0].substring(0,1)),parseInt(o[0].substring(1)));for(let o=0;o<a.answers.length;o++){let d=a.answers[o].split(",");if(2!==d.length)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!1,c.correct=!1,-1;let p=d[0],u=s(p.substring(0,1)),h=parseInt(p.substring(1)),m=d[1],_=s(m.substring(0,1)),f=parseInt(m.substring(1));if(isNaN(u)||isNaN(h)||isNaN(_)||isNaN(f))return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,c.correct=!1,r;let g=[];if(u===_)for(let e=h;e<=f;e++)g.push(n(u)+e);else for(let e=u;e<=_;e++)if(e==u)for(let t=h;t<=l;t++)g.push(n(e)+t);else if(e>u&&e<_)for(let t=1;t<=l;t++)g.push(n(e)+t);else if(e==_)for(let t=1;t<=f;t++)g.push(n(e)+t);if(JSON.stringify(g)===JSON.stringify(i)){e=!0;break}}c.correct=e}else if(1===a.matchType){if(console.log("=========> answercheck grid and chart 2",a.answers.length,t.choicedValue.length),2!==a.answers.length)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!1,c.correct=!1,-1;if(t.choicedValue.length<2)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,c.correct=!1,r;let e=t.choicedValue.slice(0,t.choicedValue.length-1),i=t.choicedValue.slice(t.choicedValue.length-1),o=(s(i[0].substring(0,1)),parseInt(i[0].substring(1))),l=a.answers[0],d=s(l.substring(0,1)),p=parseInt(l.substring(1)),u=a.answers[1],h=s(u.substring(0,1)),m=parseInt(u.substring(1));if(isNaN(d)||isNaN(p)||isNaN(h)||isNaN(m))return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,c.correct=!1,r;let _=[];if(d===h)for(let e=p;e<=m;e++)_.push(n(d)+e);else for(let e=d;e<=h;e++)if(e==d)for(let t=p;t<=o;t++)_.push(n(e)+t);else if(e>d&&e<h)for(let t=1;t<=o;t++)_.push(n(e)+t);else if(e==h)for(let t=1;t<=m;t++)_.push(n(e)+t);let f=!1;JSON.stringify(_)===JSON.stringify(e)&&(f=!0),c.correct=f}c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck grid and chart 2",a,c)}else if(13===t.basetype&&2===t.subtype){if(2===a.matchType){console.log("=========> answercheck grid and chart 3",a.answers,t.choicedValue[0]);const e=a.answers.findIndex(e=>e+""===t.choicedValue[0]);c.correct=!(e<0)}else if(1===a.matchType){if(console.log("=========> answercheck grid and chart 3",a.answers[0],t.choicedValue[0]),a.answers.length!==t.choicedValue.length)return c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!1,-2;a.answers[0]+""===t.choicedValue[0]?c.correct=!0:c.correct=!1}c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> answercheck grid and chart 3",a,c)}else if(14===t.basetype){console.log("=========> coordinate",a.answers,t.choicedValue);for(let e=0;e<a.answers.length;e++){let i=[],o=[],s=a.answers[e];if(0===t.subtype){if(s=s.replace(/ /gi,""),s=s.replace(/\),\(/gi,"/"),s=s.replace(/\(/gi,""),s=s.replace(/\)/gi,""),console.log("answer re",s),s.indexOf("/")){s.split("/").forEach(e=>{o.push(e)})}else o.push(s);i.push(o)}else if(1===t.subtype){if(s=s.replace(/ /gi,""),s=s.replace(/\),/gi,"/"),s.indexOf("/")){s.split("/").forEach(e=>{e=(e=e.replace(/\(/gi,"")).replace(/\)/gi,""),o.push(e)})}else s=s.replace(/\(/gi,""),s=s.replace(/\)/gi,""),o.push(s);i.push(o),s=s.replace(/\(/gi,""),s=s.replace(/\)/gi,""),console.log("answer re",s)}const n=i[0].sort(),l=t.choicedValue.sort();if(console.log("JSON.stringify(sortedAnswerXYs)",JSON.stringify(n)),console.log("JSON.stringify(sortedChoicedValue)",JSON.stringify(l)),JSON.stringify(n)==JSON.stringify(l)){if(c.correct=!0,2===a.matchType)break}else c.correct=!1;if(1===a.matchType&&0===r)break}c.choicedIdx=t.choicedIdx,c.choicedValue=t.choicedValue,c.completed=!0,console.log("=========> coordinate",a,c)}return r}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(0);t.default=e=>{const[t,i]=o.useState("none"),[s,n]=o.useState("none");return o.useEffect(()=>{void 0===e.isRight?(console.log("A"),i("result_NONE")):!0===e.isRight?e.isChecked?i("result_OO"):i("result_O"):(console.log("A--",e.isRight),i("result_X"))},[e.tryCnt,e.isRight,e.quizIdx,e.need_explain,e.isPreview,e.isChecked,e.quizIdx]),o.useEffect(()=>{!0===e.mainisRight?e.isChecked?n("result_OO"):n("result_O"):void 0===e.mainisRight?(console.log("B"),n("result_NONE")):(console.log("B--"),n("result_X"))},[e.maintryCnt,e.mainisRight,e.quizIdx,e.need_explain,e.isPreview,e.quizIdx]),o.createElement(o.Fragment,null,o.createElement("section",{id:"custom_head"},(c=e.isChecked,e.isPerfect?o.createElement("div",{className:"question_detail"},o.createElement("span",null,e.quizIdx,o.createElement("i",{className:"searchitem bar result_OO"}))):e.isTwin?o.createElement(o.Fragment,null,o.createElement("div",{className:"question_detail"},o.createElement("span",null,e.quizIdx,o.createElement("i",{className:"searchitem bar "+s},s||""))),o.createElement("div",{className:"question_detail"},o.createElement("span",null,e.quizIdx+(e.isPerfect?"":"+"),o.createElement("i",{className:"searchitem bar "+t},t||"")))):o.createElement("div",{className:"question_detail"},o.createElement("span",null,e.quizIdx,c?e.isPerfect?"":"+":"",o.createElement("i",{className:"searchitem bar "+t},t||"")))),(t=>e.need_explain&&!1===t?o.createElement(o.Fragment,null,o.createElement("button",{onClick:()=>{e.checkQuestion&&e.checkQuestion()},style:{display:e.need_explain?"inline_block":"none"},id:"check_question"},"check question")):o.createElement(o.Fragment,null))(e.isChecked),(r=e.solvedCnt,a=e.totalCnt,e.toggleDetail&&!1===e.isPreview&&!1===e.isteacher?o.createElement(o.Fragment,null,o.createElement("button",{onClick:()=>{e.toggleDetail&&e.toggleDetail()},id:"score_button"},r," / ",o.createElement("span",null,a))):o.createElement(o.Fragment,null))),o.createElement("section",{id:"custom_star"},o.createElement("ul",null,[1,2,3,4,5].map(t=>o.createElement("li",{key:"star_"+t},o.createElement("i",{className:"star_"+(t<=e.quizLevel?"on":"off")}))))));var r,a,c}},function(e,t,i){"use strict";var o=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(s,n){function r(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.setLivePoint=void 0;const s=i(8),n=i(5);t.setLivePoint=function(e){return o(this,void 0,void 0,(function*(){let t=new FormData;t.append("score",e.score+""),t.append("userIdx",e.userIdx),t.append("clsIdx",e.clsIdx+""),t.append("depthItemIdx",e.depthItemIdx+""),n.showTLoading(!0),yield s.default({method:"post",url:e.addOnHost+`/ma/rw/${e.plusMinusType}/${e.liveType}`,data:t}).then(t=>o(this,void 0,void 0,(function*(){yield s.default.get(e.addOnHost+"/ma/rw/info",{params:{userIdx:e.userIdx}}).then(t=>o(this,void 0,void 0,(function*(){n.showTLoading(!1),t.data&&t.data.resultData&&t.data.resultData.map(t=>{e.callback({redScore:t.redScore,redAccScore:t.redAccScore,greenScore:t.greenScore,greenAccScore:t.greenAccScore})})}))).catch(t=>{n.showTLoading(!1),n.alertToTeacher("서버로 부터 응답 받지 못하였습니다."),e.error(t)})}))).catch(t=>{n.showTLoading(!1),n.alertToTeacher("서버로 부터 응답 받지 못하였습니다."),e.error(t)})}))}},function(e,t){e.exports=ReactIdSwiper},function(e,t,i){"use strict";var o=this&&this.__decorate||function(e,t,i,o){var s,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(n<3?s(r):n>3?s(t,i,r):s(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.BtnProgress=void 0;const s=i(0),n=i(2),r=i(1),a=i(6),c=i(13),l=i(4);let d=class extends s.Component{constructor(e){super(e),this.isHide=!1,this.timerid=-1,this._onClick=()=>{l.App.pub_playBtnTab(),this.props.onClick()},this.props.isEnd&&a.delay(()=>{this.isHide=!0},2500)}componentDidUpdate(e){this.props.isEnd&&!e.isEnd?this.timerid=a.delay(()=>{this.isHide=!0},2500):!this.props.isEnd&&e.isEnd&&(this.isHide=!1,clearTimeout(this.timerid))}render(){const{submitStudents:e,totalStudents:t,noFinishView:i}=this.props;return s.createElement("div",{className:"progressWrap"+(this.props.isEnd?" end":"")+(this.props.view?" on":"")},(()=>this.props.noRetryView&&this.props.isEnd?s.createElement(s.Fragment,null):s.createElement(c.ToggleBtn,{className:"btn_progress",view:this.props.view,onClick:this._onClick},s.createElement("span",null,`${e}/${t}`)))(),s.createElement("div",{className:"msg"+(this.isHide||i?" hide":"")},"Finish",s.createElement("span",null),s.createElement("span",null),s.createElement("span",null),s.createElement("span",null),s.createElement("span",null)))}};o([r.observable],d.prototype,"isHide",void 0),d=o([n.observer],d),t.BtnProgress=d},function(e,t,i){"use strict";var o=this&&this.__decorate||function(e,t,i,o){var s,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(n<3?s(r):n>3?s(t,i,r):s(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.LearningDetailPage=void 0;const s=i(0),n=i(2),r=i(1),a=i(23),c=i(70),l=i(4);let d=class extends s.Component{constructor(){super(...arguments),this.quizs=[],this.isGoQuiz=0,this._needExplainlen=0,this.checkProg=0,this._viewPreview=!1,this._viewPreviewIdx=0,this._hadExplain=!1}componentWillReceiveProps(e){const t=this.props.student_list[this.props.student_idx],i=e.student_list[e.student_idx];if(this.props.view!==e.view||void 0!==t&&void 0!==i&&(t.detail!==i.detail||this.props.lastUpdated!==e.lastUpdated)){this.quizs=[];let e=Math.floor(i.detail.length/10);i.detail.length%10!=0&&(e+=1);for(let t=0;t<e;t++)this.quizs[t]=i.detail.slice(10*t,10*(t+1));this._needExplainlen=i.detail.filter(e=>1===e.hadExplain).length}this.props.view===e.view&&this.props.lastUpdated===e.lastUpdated||(this.isGoQuiz=0,this.quizs.map((e,t)=>{e.map((e,i)=>{1===e.isSolved&&(e.isRight||e.twinInfo&&e.twinInfo.isRight||e.twinInfo&&!1===e.twinInfo.isRight?this.isGoQuiz=10*t+(i+1):this.isGoQuiz=10*t+i)})}),e.student_list[e.student_idx]&&e.student_list[e.student_idx].detail&&(this._needExplainlen=e.student_list[e.student_idx].detail.filter(e=>1===e.hadExplain).length)),this.props.view!==e.view&&(this._viewPreview=!1,this._viewPreviewIdx=0,this._hadExplain=!1)}render(){if(null===this.props.student_list||this.props.student_list.length<this.props.student_idx)return s.createElement("div",{className:"learning_detail",style:{opacity:0,pointerEvents:"none"}});const e=this.props.student_list[this.props.student_idx];if(void 0===e)return s.createElement(s.Fragment,null);if(void 0===e.detail)return s.createElement(s.Fragment,null);let t=[];return e.detail.map(e=>{t.push(e),e.twinInfo&&t.push(e.twinInfo)}),s.createElement(s.Fragment,null,s.createElement("div",{className:"learning_detail",style:!1===this.props.view?{opacity:0,pointerEvents:"none",height:0}:{}},s.createElement(c.StudentHeader,{view:this.props.view,student:e,needExplain:this._needExplainlen,before:e.before_score,after:e.after_score,isPerfect:e.isPerfect,grade:e.grade,title:"",solvedCnt:e&&e.detail?e.detail.filter(e=>1===e.isSolved||e.twinInfo&&1===e.twinInfo.isSolved).length:0,correctCnt:e.correctCnt?e.correctCnt:0,totalCnt:e.totalCnt,toggleDetail:()=>{this.props.toggleView(this.props.view)},quiz_started:!0,is_detail:this.props.view,isCleard:!0===e.isCleard}),s.createElement("div",{className:"q_box"},this.quizs.map((t,i)=>s.createElement("div",{key:"quizs_line "+i,style:this.props.is_teacher||!0===e.isCleard||!0===e.isPerfect?{}:{pointerEvents:"none"}},s.createElement("ul",null,t.map((t,o)=>{const n=(t,i,o)=>{if(!0===e.isPerfect)return" pass";let s="";return 0===i&&(s+=" none"),s+=t?" pass":1===i?" fail":" none",s};return s.createElement("li",{key:"quizs_line "+i+"_"+o,"data-goidx":this.isGoQuiz},1===t.hadExplain?s.createElement("button",{className:"help before "+(this.props.is_teacher?"active":""),onClick:()=>this.props.removeNeedExplain?this.props.removeNeedExplain(e.id,t.seq,!1):""}):"",2===t.hadExplain?s.createElement("button",{className:"help after"}):"",s.createElement("div",{className:"status"},s.createElement("div",{className:"num",style:1!==t.isSolved?{color:"#96a5b8"}:{color:"#38495c"}},!1===e.isPerfect?t.prevOrderNo1:10*i+o+1),(o=>s.createElement("div",{className:"problem "+n(t.isRight,t.isSolved)+" "+(10*i+o===this.isGoQuiz&&1!==t.isSolved&&!0!==e.isPerfect?" go":""),style:1===t.isSolved||this.props.is_teacher||!0===e.isCleard||!0===e.isPerfect?{pointerEvents:"auto"}:{pointerEvents:"none"},"data-trycount":t.tryCnt,onClick:()=>{!1===e.isPerfect?this._viewPreviewIdx=2*(10*i+o):this._viewPreviewIdx=10*i+o,this._viewPreview=!0,t.hadExplain>0?this._hadExplain=!0:this._hadExplain=!1}}))(o),(o=>!1===t.isRight&&1===t.isSolved&&t.twinInfo?s.createElement("div",{className:"problem twin "+n(t.twinInfo.isRight,t.twinInfo.isSolved)+" "+(10*i+o===this.isGoQuiz&&!0!==e.isPerfect?" go":""),style:1===t.isSolved||this.props.is_teacher||!0===e.isCleard||!0===e.isPerfect?{pointerEvents:"auto"}:{pointerEvents:"none"},"data-trycount":t.twinInfo.tryCnt,onClick:()=>{this._viewPreviewIdx=2*(10*i+o)+1,this._viewPreview=!0,t.hadExplain>0?this._hadExplain=!0:this._hadExplain=!1}}):s.createElement(s.Fragment,null))(o)))})))))),s.createElement("button",{className:"common_back "+(!0===this.props.view?"active":""),onClick:()=>{this.props.toggleView(!1),l.App.pub_playBtnBack()}}),s.createElement(a.default,{view:this._viewPreview,quiz_list:t,isVisiblePenTool:!1,isPreview:!0,isPerfect:e.isPerfect,isteacher:this.props.is_teacher,isPreviewIdx:this._viewPreviewIdx,checkCurrent:(e,t,i)=>{},goToPrev:()=>{this._viewPreview=!1},hadExplain:this._hadExplain,toggleDetail:()=>{this.props.toggleView(this.props.view)}}))}};o([r.observable],d.prototype,"quizs",void 0),o([r.observable],d.prototype,"isGoQuiz",void 0),o([r.observable],d.prototype,"_needExplainlen",void 0),o([r.observable],d.prototype,"checkProg",void 0),o([r.observable],d.prototype,"_viewPreview",void 0),o([r.observable],d.prototype,"_viewPreviewIdx",void 0),o([r.observable],d.prototype,"_hadExplain",void 0),d=o([n.observer],d),t.LearningDetailPage=d},function(e,t,i){"use strict";var o=this&&this.__decorate||function(e,t,i,o){var s,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(n<3?s(r):n>3?s(t,i,r):s(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.StudentHeader=void 0;const s=i(0),n=i(2),r=i(1),a=i(24);let c=class extends s.Component{constructor(e){super(e),this._hover=!1}render(){const e="1"===this.props.student.displayMode?this.props.student.name:this.props.student.nickname;"1"===this.props.student.displayMode?this.props.student.thumb:this.props.student.avatar;if(this.props.is_detail)return s.createElement("div",{className:"status_detail_inner",style:{opacity:this.props.view?"1":"0",pointerEvents:this.props.view?"auto":"none"}},s.createElement("div",{className:"user_img"},s.createElement(a.default,{thumbnail:this.props.student.thumb,avatar:this.props.student.avatar,displayMode:this.props.student.displayMode,name:"1"===this.props.student.displayMode?this.props.student.name:this.props.student.nickname,className:"",gender:this.props.student.gender})),s.createElement("div",{className:"user_name"},e),s.createElement("i",null),s.createElement("div",{className:"user_level"},s.createElement("div",{className:`grade step${this.props.grade} ${this._hover?" active":""}`,onClick:e=>{this._hover=!this._hover,e.stopPropagation()}},s.createElement("div",{className:"innerbox"},s.createElement("h2",null,"Problems Level"),s.createElement("ul",null,s.createElement("li",null,s.createElement("img",{src:"/content/mathalive_lib/MA/assessment_review/common/sh_grade1.png"}),s.createElement("span",null,"Lv1 ~ Lv3")),s.createElement("li",null,s.createElement("img",{src:"/content/mathalive_lib/MA/assessment_review/common/sh_grade2.png"}),s.createElement("span",null,"Lv2 ~ Lv4")),s.createElement("li",null,s.createElement("img",{src:"/content/mathalive_lib/MA/assessment_review/common/sh_grade3.png"}),s.createElement("span",null,"Lv2 ~ Lv5"))),s.createElement("i",{onClick:e=>{this._hover=!this._hover,e.stopPropagation()}}))),s.createElement("i",null),s.createElement("span",{className:"num"},Math.round(this.props.before)),!1===this.props.isPerfect?s.createElement("span",{className:"toNum"},!1===this.props.isCleard?"?":Math.round(this.props.after)):""),s.createElement("i",null),s.createElement("div",{className:"help"},s.createElement("span",{className:"ico"}),s.createElement("span",{className:"num"},0===this.props.needExplain?"0":this.props.needExplain)));let t=!1;return!1!==this.props.quiz_started&&0!==this.props.solvedCnt&&void 0!==this.props.toggleDetail||(t=!0),!0===this.props.isCleard&&(t=!1),s.createElement("div",{className:"topHeader status_detail"},s.createElement("strong",{className:"name"},this.props.title),s.createElement("button",{onClick:()=>{this.props.toggleDetail()},style:t?{display:"none"}:{}},this.props.isPerfect?35:this.props.solvedCnt," / ",s.createElement("span",null,this.props.isPerfect?35:this.props.totalCnt)))}};o([r.observable],c.prototype,"_hover",void 0),c=o([n.observer],c),t.StudentHeader=c},function(e,t,i){"use strict";i.r(t)}]);