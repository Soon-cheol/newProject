(()=>{"use strict";var t={762:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0;const s=i(478),o=i(201);function n(t){if(!t)return t;t.displayMode=""+t.displayMode=="2"?"2":"1";let e=t.thumb&&""!==t.thumb?t.thumb:"";(e.startsWith("static/")||""===e)&&(e="/content/mathalive_lib/images/default_elephant.png",t.thumb=e);let i=t.avatar&&""!==t.avatar?t.avatar:"";return""===i&&(i="/content/mathalive_lib/images/default_cheese.png",t.avatar=i),console.log("=====> _initStudent student",t),t}class r{static get isMobile(){return r._isMobile}static get tempEl(){return r._tempEl}static pub_init(){const t=navigator.userAgent;r._isMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t)||/android/i.test(t),r._tempBnd=document.createElement("div"),r._tempBnd.style.display="none",r._tempEl=document.createElement("div"),r._tempBnd.appendChild(r._tempEl),null===document.body?document.addEventListener("DOMContentLoaded",(t=>{document.body.appendChild(r._tempBnd)})):document.body.appendChild(r._tempBnd)}static get students(){return r._students}static get student(){return r._student}static get lang(){return r._lang}static get isDvlp(){return r._isDvlp}static get data_url(){return r._data_url}static get lesson(){return r._lesson}static get book(){return r._book}static get nextBook(){return r._nextBook}static get prevBook(){return r._prevBook}static get addOnHost(){return r._addOnHost}static pub_load(t,e,i,s,o,a,l){r._lesson=s,r._book=i,r._nextBook=a,r._prevBook=l,r._students=[],t&&Array.isArray(t)&&t.forEach(((t,e)=>{r._students[e]=n(t)})),r._student=n(e),o&&""!==o&&(r._addOnHost=o)}static pub_reloadStudents(t){o.getStudents(((e,i)=>{for(;r._students.length>0;)r._students.pop();for(;r._students_inited.length>0;)r._students_inited.pop();for(let t=0,i=e.length;t<i;t++)r.isDvlp?r._students[t]=n(e[t]):r._students[t]=n({id:e[t].id,name:e[t].name,thumb:e[t].defaultThumbnail,avatar:e[t].profileThumbnail,nickname:e[t].nickName,displayMode:e[t].displayMode,inited:!0}),r._students_inited.push(e[t].id);t()}))}static pub_parseStyle(t){return r._tempEl.style.cssText=t,r._tempEl.style}static pub_initAudio(){r._common_audio=document.getElementById("common_audio"),r._ding_audio=document.getElementById("ding_audio"),r._dingend_audio=document.getElementById("dingend_audio"),r._btn_audio=document.getElementById("btn_audio"),r._correct_audio=document.getElementById("correct_audio"),r._wrong_audio=document.getElementById("wrong_audio"),r._topad_audio=document.getElementById("topad_audio"),r._goodjob_audio=document.getElementById("goodjob_audio"),r._btn_back_audio=document.getElementById("btn_back_audio"),r._btn_page_audio=document.getElementById("btn_page_audio"),r._popup_audio=document.getElementById("popup_audio"),r._clock_audio=document.getElementById("clock_audio"),r._ts_bgm_audio=document.getElementById("ts_bgm_audio"),r._bs_audio=document.getElementById("bs_audio"),r._bb_audio=document.getElementById("bb_audio"),r._cd_audio=document.getElementById("cd_audio"),r._tc_audio=document.getElementById("tc_audio"),r._te_audio=document.getElementById("te_audio"),r._trg_bgm_audio=document.getElementById("trg_bgm_audio"),r._afc_audio=document.getElementById("afc_audio"),r._trs_audio=document.getElementById("trs_audio"),r._btn_choice_audio=document.getElementById("btn_choice_audio"),r._retry_audio=document.getElementById("retry_audio"),r._sorry_audio=document.getElementById("sorry_audio"),r._great_audio=document.getElementById("great_audio"),r._memorygame_flipcard_audio=document.getElementById("flipcard_audio"),r._ispy_gameclick_audio=document.getElementById("gameclick_audio")}static pub_playClock(){r._clock_audio&&(r._clock_audio.currentTime=4.5,r._clock_audio.play())}static pub_playPopup(){r._popup_audio&&(r._popup_audio.currentTime=0,r._popup_audio.play())}static pub_playBtnPage(){r._btn_page_audio&&(r._btn_page_audio.currentTime=0,r._btn_page_audio.play())}static pub_playBtnBack(){r._btn_back_audio&&(r._btn_back_audio.currentTime=0,r._btn_back_audio.play())}static pub_playGoodjob(){r._goodjob_audio&&(r._goodjob_audio.currentTime=0,r._goodjob_audio.play())}static pub_playDing(){r._ding_audio&&(r._ding_audio.currentTime=0,r._ding_audio.play())}static pub_playDingend(){r._dingend_audio&&(r._dingend_audio.currentTime=0,r._dingend_audio.play())}static pub_playToPad(){r._topad_audio&&(r._topad_audio.currentTime=0,r._topad_audio.play())}static pub_playBtnTab(){r._btn_audio&&(r._btn_audio.currentTime=0,r._btn_audio.play())}static pub_playCorrect(){r._correct_audio&&(r._correct_audio.currentTime=0,r._correct_audio.play())}static pub_playWrong(){r._wrong_audio&&(r._wrong_audio.currentTime=0,r._wrong_audio.play())}static pub_playTeamSelectBgm(){r._ts_bgm_audio&&(r._ts_bgm_audio.currentTime=0,r._ts_bgm_audio.play())}static pub_stopTeamSelectBgm(){r._ts_bgm_audio&&(r._ts_bgm_audio.pause(),r._ts_bgm_audio.currentTime=0)}static pub_playStartButton(){r._bs_audio&&(r._bs_audio.currentTime=0,r._bs_audio.play())}static pub_playBasicButton(){r._bb_audio&&(r._bb_audio.currentTime=0,r._bb_audio.play())}static pub_playCountDown(){r._cd_audio&&(r._cd_audio.currentTime=0,r._cd_audio.play())}static pub_playTimerClock(){r._tc_audio&&(r._tc_audio.currentTime=0,r._tc_audio.play())}static pub_stopTimerClock(){r._tc_audio&&(r._tc_audio.pause(),r._tc_audio.currentTime=0)}static pub_playTimerEnd(){r._te_audio&&(r._te_audio.currentTime=0,r._te_audio.play())}static pub_playResultGraph(){r._trg_bgm_audio&&(r._trg_bgm_audio.currentTime=0,r._trg_bgm_audio.play())}static pub_playFireworksClapping(){r._afc_audio&&(r._afc_audio.currentTime=0,r._afc_audio.play())}static pub_playTotalResult(){r._trs_audio&&(r._trs_audio.currentTime=0,r._trs_audio.play())}static pub_playChoiceBtn(){r._btn_choice_audio&&(r._btn_choice_audio.currentTime=0,r._btn_choice_audio.play())}static pub_playsorry(){r._sorry_audio&&(r._sorry_audio.currentTime=0,r._sorry_audio.play())}static pub_playretry(){r._retry_audio&&(r._retry_audio.currentTime=0,r._retry_audio.play())}static pub_playgreat(){r._great_audio&&(r._great_audio.currentTime=0,r._great_audio.play())}static pub_playFlipCard(){r._memorygame_flipcard_audio&&(r._memorygame_flipcard_audio.currentTime=0,r._memorygame_flipcard_audio.play())}static pub_playGameClick(){r._ispy_gameclick_audio&&(r._ispy_gameclick_audio.currentTime=0,r._ispy_gameclick_audio.play())}static pub_stop(){null!=r._common_audio.onended&&r._common_audio.onended.call(r._common_audio,new Event("ended")),r._common_audio.oncanplaythrough=null,isNaN(r._common_audio.duration)||r._common_audio.paused||r._common_audio.pause()}static pub_play(t,e){r.pub_stop(),t=s.nteString(t,"");const i=s.nteString(r._common_audio.getAttribute("src"),"");if(""===t&&""===i)return void(null!=e&&e(!0));""!==t&&i!==t&&(r._common_audio.src=t);const o=t=>{r._common_audio.onended=null,null!==e&&e(!0),r._common_audio.removeEventListener("error",o)};r._common_audio.onended=t=>{r._common_audio.onended=null,null!==e&&e(!!t),r._common_audio.removeEventListener("error",o)},r._common_audio.addEventListener("error",o),isNaN(r._common_audio.duration)?(r._common_audio.oncanplaythrough=t=>{0!==r._common_audio.currentTime&&(r._common_audio.currentTime=0),r._common_audio.play(),r._common_audio.oncanplaythrough=null},r._common_audio.load()):(0!==r._common_audio.currentTime&&(r._common_audio.currentTime=0),r._common_audio.oncanplaythrough=null,r._common_audio.play())}static pub_set(t,e,i){r._isDvlp=e,r._lang=i,o.set(e)}static pub_addInitedStudent(t){let e=!0;for(let i=0,s=r._students_inited.length;i<s;i++)r._students_inited[i]===t.id&&(e=!1);e&&r._students_inited.push(t.id);const i=r._start_idx>0&&r._students.length>0&&r._students_inited.length>=r._students.length;return i&&(window.clearTimeout(r._start_idx),r._start_idx=-1),i}static pub_start(t){0===r._students.length||r._students_inited.length>=r._students.length?t():r._start_idx=window.setTimeout(t,2e3)}static pub_clear(){for(;r._students.length>0;)r._students.pop();for(;r._students_inited.length>0;)r._students_inited.pop()}}e.App=r,r._isMobile=!1,r._students=[],r._students_inited=[],r._student=null,r._lang="ko",r._isDvlp=!1,r._data_url="../data/",r._lesson="",r._book="",r._nextBook=!1,r._prevBook=!1,r._start_idx=-1,r.isStarted=!1,r._addOnHost="https://addonsapi.fel40.com"},85:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseClassColor=e.parseDept5SubDiv=e.parseDept5Div=e.parseDept4Div=e.parseDept3Div=void 0,e.parseDept3Div=function(t){return"M0301"===t?"Number&Operations":"M0302"===t?"Measurement&Date":"M0303"===t?"Operations&Algebra":"M0304"===t?"Geometry":""},e.parseDept4Div=function(t){return"M0401"===t?"Concept":"M0402"===t?"Problem":""},e.parseDept5Div=function(t){return"M0501"===t?"Warm-Up":"M0502"===t?"Concept Learning 1":"M0503"===t?"Concept Learning 2":"M0504"===t?"Concept Learning 3":"M0505"===t?"Problem Solving":"M0506"===t?"Wrap-Up":""},e.parseDept5SubDiv=function(t){return"M050101"===t?"Warm-Up QUIZ":"M050102"===t?"Learning Objectives":"M050103"===t?"Concept Summary":"M050201"===t?"Acivity":"M050202"===t?"Concept Tool":"M050203"===t?"Summary":"M050204"===t?"Check":"M050301"===t?"Acivity":"M050302"===t?"Concept Tool":"M050303"===t?"Summary":"M050304"===t?"Check":"M050401"===t?"Acivity":"M050402"===t?"Concept Tool":"M050403"===t?"Summary":"M050404"===t?"Check":"M050501"===t?"Independent Practice":"M050502"===t?"Reasoning (1)":"M050503"===t?"Extended Practice":"M050504"===t?"Reasoning (2)":"M050505"===t?"Strategy":"M050601"===t?"Math Talk":"M050602"===t?"Topic Portfolio":""},e.parseClassColor=function(t){return"B62001"===t?"Black":"White"}},376:function(t,e,i){var s=this&&this.__decorate||function(t,e,i,s){var o,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(n<3?o(r):n>3?o(e,i,r):o(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.ImgBtn=e.AudioBtn=e.ToggleBtn=void 0;const o=i(804),n=i(965),r=i(98);class a extends o.Component{constructor(t){super(t),this.m_pID=-1,this._inited=this._inited.bind(this),this._onClick=this._onClick.bind(this)}_inited(t){!this.m_el&&t&&(this.m_el=t,this.props.onRef&&this.props.onRef(t),t.setAttribute("touch-action","none"),t.addEventListener("pointerdown",(e=>{if(!(this.m_pID>=0)){if(this.m_pID=e.pointerId,!this.props.disableCapture)try{t.setPointerCapture(this.m_pID)}catch(t){}this.props.onMouseDown&&this.props.onMouseDown(e)}})),t.addEventListener("pointerup",(e=>{if(this.m_pID===e.pointerId){try{t.releasePointerCapture(this.m_pID)}catch(t){}this.m_pID=-1,this.props.onMouseUp&&this.props.onMouseUp(e)}})),t.addEventListener("pointerleave",(e=>{if(this.props.disableCapture){if(this.m_pID!==e.pointerId)return;try{t.releasePointerCapture(this.m_pID)}catch(t){}this.m_pID=-1}this.props.onMouseLeave&&this.props.onMouseLeave(e)})),t.addEventListener("pointercancel",(e=>{if(this.m_pID===e.pointerId){try{t.releasePointerCapture(this.m_pID)}catch(t){}this.m_pID=-1,this.props.onMouseLeave&&this.props.onMouseLeave(e)}})))}_onClick(t){this.props.onClick&&this.props.onClick(t),this.props.preventEvent&&(t.preventDefault(),t.stopPropagation())}componentDidUpdate(t){if((this.props.disabled&&!t.disabled||!this.props.view&&t.view)&&this.m_pID>=0){try{this.m_el&&this.m_el.releasePointerCapture(this.m_pID)}catch(t){}this.m_pID=-1}}}s([n.observable],a.prototype,"m_pID",void 0);let l=class extends a{constructor(t){super(t),this.m_on=!1,this.m_on=!0===t.on}componentWillReceiveProps(t){this.props.on!==t.on&&(this.m_on=!0===t.on)}render(){const t=[];this.props.className&&t.push(this.props.className),this.m_on&&t.push("on"),this.m_pID>0&&t.push("down");const e=t.join(" ");let i=this.props.style;return!1===this.props.view&&(i||(i={}),i.display="none"),o.createElement("button",{id:this.props.id,className:e,onClick:this._onClick,ref:this._inited,disabled:!0===this.props.disabled,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:i},this.props.children)}};s([n.observable],l.prototype,"m_on",void 0),l=s([r.observer],l),e.ToggleBtn=l;let c=class extends l{constructor(t){super(t)}play(){this.m_on||(this.m_on=!0,this.props.playFnc(this.props.src,(t=>{this.m_on&&(this.m_on=!1,this.props.onPause&&this.props.onPause(t))})))}_onClick(t){this.m_on?(this.props.pauseFnc(),this.m_on=!1):this.play(),super._onClick(t)}};s([n.action],c.prototype,"play",null),s([n.action],c.prototype,"_onClick",null),c=s([r.observer],c),e.AudioBtn=c;let u=class extends a{constructor(t){super(t),this.m_on=!1,this.m_on=!0===t.on}componentWillReceiveProps(t){this.props.on!==t.on&&(this.m_on=!0===t.on)}render(){const t=[];this.props.className&&t.push(this.props.className),this.m_on&&t.push("on"),this.m_pID>0&&t.push("down"),!0===this.props.disabled&&t.push("disable");const e=t.join(" ");let i=this.props.style;return!1===this.props.view&&(i||(i={}),i.display="none"),o.createElement("img",{id:this.props.id,className:e,onClick:this._onClick,ref:this._inited,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:i,src:this.props.src,useMap:this.props.useMap})}};s([n.observable],u.prototype,"m_on",void 0),u=s([r.observer],u),e.ImgBtn=u},268:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.importLink=e.importHTML=void 0,e.importHTML=function(t){return new Promise(((e,i)=>{const s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="document",s.onload=t=>{if(!t)return;const o=s.response;o&&o.body&&o.body.firstElementChild?e(o.body.firstElementChild):o&&o.documentElement?e(o.documentElement):i("error")},s.onerror=t=>{i(t)},s.send(null)}))},e.importLink=function(t,e){return new Promise(((e,i)=>{const s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="document",s.onload=t=>{if(!t)return;const i=s.response;e(i)},s.onerror=t=>{i(t)},s.send(null)}))}},478:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e._toStringTimestamp=e.getDateStr=e.nteArray=e.intToHTMLcolor=e.nteBool=e.nteString=e.nteFloat=e.nteInt=e.nteUInt=e.getUnicUrl=e.getUnicNum=e.getUnic=void 0,Date.now||(Date.now=function(){return(new Date).getTime()});let i=0;function s(){return o().toString(36)}function o(){const t=Date.now();return t>i?i=t:i+=1,i}e.getUnic=s,e.getUnicNum=o,e.getUnicUrl=function(t){if(!t)return"";let e=t=t.trim();return 0!==e.indexOf("http://")&&0!==e.indexOf("https://")||(e=e.indexOf("?")>0?e+"&t="+s():e+"?t="+s()),e},e.nteUInt=function(t,e){if(null==t)return e;if("number"==typeof t)return isNaN(t)||t<0?e:Math.round(t);{const i=parseInt(String(t),10);return isNaN(i)||i<0?e:i}},e.nteInt=function(t,e){if(null==t)return e;if("number"==typeof t)return Math.round(t);{const i=parseInt(String(t),10);return isNaN(i)?e:i}},e.nteFloat=function(t,e){if(null==t)return e;if("number"==typeof t)return t;{const i=parseFloat(String(t));return isNaN(i)?e:i}},e.nteString=function(t,e){return null==t?e:String(t)},e.nteBool=function(t,e){if(null==t)return e;if("boolean"==typeof t)return t;const i=String(t);return"true"===i||"false"!==i&&e},e.intToHTMLcolor=function(t){let e,i,s,o=t-0;e=(255&o)<<16,i=65280&o,s=(16711680&o)>>>16,o=e|i|s;let n=o.toString(16);return n="#000000".substring(0,7-n.length)+n,n},e.nteArray=function(t){if(t){if(Array.isArray(t))return t;if("string"==typeof t){const e=t;if(e.indexOf("[")>=0&&e.indexOf("]")>0)try{return JSON.parse(e)}catch(t){}}const e=[];return e.push(t),e}return[]},e.getDateStr=function(t="."){const e=new Date,i=e.getFullYear(),s=e.getMonth()+1,o=e.getDate();return i+t+(s<10?"0"+s:""+s)+t+(o<10?"0"+o:""+o)},e._toStringTimestamp=function(t){let e;const i=t.getFullYear();let s=t.getMonth()+1+"";parseInt(s,10)<10&&(s="0"+s);let o=t.getDate()+"";return parseInt(o,10)<10&&(o="0"+o),e=i+"-"+s+"-"+o+" "+t.toTimeString().substr(0,8),e}},359:function(t,e,i){var s=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))((function(o,n){function r(t){try{l(s.next(t))}catch(t){n(t)}}function a(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}l((s=s.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getBounds=e.getTimeStr=e.wait=void 0;const o=i(215);e.wait=function(t){return s(this,void 0,void 0,(function*(){return new Promise((e=>{o.delay(e,t)}))}))},e.getTimeStr=function(t,e){const i=Math.round(e/1e3);let s=Math.round(t/1e3),o=Math.floor(s/60),n=Math.floor(o/60),r="";return s%=60,o%=60,n>0||i>=3600?(r=n+":",r+=o>=10?o+":":"0"+o+":"):i>=600?r+=o>=10?o+":":"0"+o+":":r=o+":",r+=s>=10?s:"0"+s,r},e.getBounds=function(t){const e={left:0,top:0,width:0,height:0};if(!t)return e;try{const i=t.getBoundingClientRect();e.left=i.left,e.top=i.top,e.width=i.width,e.height=i.height}catch(t){}const i=t.ownerDocument,s=i.body,o=i.documentElement;e.left=e.left-(o.clientLeft||s.clientLeft||0),e.top=e.top-(o.clientTop||s.clientTop||0);const n=i.defaultView;return e.left+=n.pageXOffset||o.scrollLeft||s.scrollLeft,e.top+=n.pageYOffset||o.scrollTop||s.scrollTop,e}},201:function(t,e,i){var s=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))((function(o,n){function r(t){try{l(s.next(t))}catch(t){n(t)}}function a(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}l((s=s.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getPreviewDmsResult=e.getPreviewResult=e.clearPenTool=e.hidePenTool=e.showPenTool=e.showRecordTool=e.showSendButton=e.alertToStudent=e.showSLoading=e.showSMathKit=e.clearSPenTool=e.takePicture=e.uploadInclassReport=e.stopVideoRecord=e.startVideoRecord=e.switchCamera=e.stopCamera=e.startCustomCamera=e.startCamera=e.getStudents=e.uploadImageToServer=e.uploadFileToServer=e.stopVoiceRecord=e.startVoiceRecord=e.sendTeacher=e.disableSoftwareKeyboard=e.sendPAD=e.sendPADToID=e.sendLauncher=e.uploadStudentReport=e.addStudentForStudentReportType6=e.hideStudentReportListPage=e.showStudentReportListPage=e.showStudentReportUI=e.hideStudentReportUI=e.startStudentReportProcess=e.finishContentPage=e.showTMathKit=e.alertToTeacher=e.showTLoading=e.clearTPenTool=e.getBookCaptureInfo=e.uploadTImageToServer=e.useFractionBar=e.logOut=e.exitClass=e.getNaviInfo=e.launchPadTool=e.launchTool=e.exitBook=e.gotoBookByKey=e.gotoBook=e.set=void 0;const o=i(215);let n=!1;e.set=function(t){n=t},e.gotoBook=function(t,e){if(console.log("felsocket gotoBook",t,e),!n)try{window.tsoc_o.gotoBook(t,e)}catch(t){}},e.gotoBookByKey=function(t){if(console.log("felsocket gotoBookByKey",t),!n)try{window.tsoc_o.gotoBookByKey(t)}catch(t){}},e.exitBook=function(){if(console.log("felsocket exitBook"),!n)try{window.tsoc_o.exitBook()}catch(t){}},e.launchTool=function(t){if(console.log("felsocket launchTool",t),!n)try{window.tsoc_o.launchTool(t)}catch(t){}},e.launchPadTool=function(t){if(console.log("felsocket launchPadTool",t),!n)try{window.tsoc_o.launchPadTool(t)}catch(t){}},e.getNaviInfo=function(t){if(console.log("felsocket getNaviInfo",t),!n)try{window.tsoc_o.getNaviInfo(t)}catch(t){}},e.exitClass=function(){if(console.log("felsocket exitClass"),!n)try{window.tsoc_o.exitClass()}catch(t){}},e.logOut=function(){if(console.log("felsocket logOut"),!n)try{window.tsoc_o.logOut()}catch(t){}},e.useFractionBar=function(){if(console.log("felsocket useFractionBar"),!n)try{window.tsoc_o.useFractionBar()}catch(t){}},e.uploadTImageToServer=function(t,e,i,s){if(console.log("felsocket uploadTImageToServer",e,i,s),!n)try{window.tsoc_o.uploadImageToServer(t,e,i,s)}catch(t){}},e.getBookCaptureInfo=function(t){if(console.log("felsocket getBookCaptureInfo"),!n)try{window.tsoc_o.getBookCaptureInfo(t)}catch(t){}},e.clearTPenTool=function(){if(console.log("felsocket clearTPenTool"),!n)try{window.tsoc_o.clearPenTool()}catch(t){}},e.showTLoading=function(t){if(console.log("felsocket showTLoading",t),!n)try{window.tsoc_o.showLoading(t)}catch(t){}},e.alertToTeacher=function(t){if(console.log("felsocket alertToTeacher",t),!n)try{window.tsoc_o.alert(t)}catch(t){}},e.showTMathKit=function(t){if(console.log("felsocket showTMathKit",t),!n)try{window.tsoc_o.showMathKit(t)}catch(t){}},e.finishContentPage=function(){if(!n)try{window.tsoc_o.finishContentPage()}catch(t){}},e.startStudentReportProcess=function(t,e,i){if(!n)try{window.tsoc_o.startStudentReportProcess(t,e,i)}catch(t){}},e.hideStudentReportUI=function(){if(!n)try{window.tsoc_o.hideStudentReportUI()}catch(t){}},e.showStudentReportUI=function(){if(!n)try{window.tsoc_o.showStudentReportUI()}catch(t){}},e.showStudentReportListPage=function(){if(!n)try{window.tsoc_o.showStudentReportListPage()}catch(t){}},e.hideStudentReportListPage=function(){if(!n)try{window.tsoc_o.hideStudentReportListPage()}catch(t){}},e.addStudentForStudentReportType6=function(t){if(!n)try{window.tsoc_o.addStudentForStudentReportType6(t)}catch(t){}},e.uploadStudentReport=function(t,e,i){if(!n)try{window.psoc_o.uploadStudentReport(t,e,i)}catch(t){}},e.sendLauncher=function(t,e){if(5!==t||n)if(6!==t||n)if(7!==t||n){if(8===t)if(console.log("felsocket gotoPrevBook"),n)try{window.top.tsoc_o.gotoPrevBook()}catch(t){}else try{window.tsoc_o.gotoPrevBook()}catch(t){}else if(9===t)if(console.log("felsocket gotoNextBook"),n)try{window.top.tsoc_o.gotoNextBook()}catch(t){}else try{window.tsoc_o.gotoNextBook()}catch(t){}}else try{window.tsoc_o.setTitleBar(e)}catch(t){}else try{window.tsoc_o.showTitleBar()}catch(t){}else try{window.tsoc_o.hideTitleBar()}catch(t){}},e.sendPADToID=function(t,e,i){const s={type:e,data:i};if(n)try{window.top.tsoc_o.sendPADToID(t,s)}catch(t){}else try{window.tsoc_o.sendPADToID(t,s)}catch(t){}},e.sendPAD=function(t,e){const i={type:t,data:e};if(n)try{window.top.tsoc_o.sendAll(i)}catch(t){}else try{window.tsoc_o.sendAll(i)}catch(t){}},e.disableSoftwareKeyboard=function(){try{window.psoc_o.disableSoftwareKeyboard()}catch(t){}},e.sendTeacher=function(t,e){const i={type:t,data:e};if(n)try{window.opener.tsoc_o.sendTeacher(i)}catch(t){}else try{window.psoc_o.sendTeacher(i)}catch(t){}},e.startVoiceRecord=function(){try{window.psoc_o.startVoiceRecord()}catch(t){}},e.stopVoiceRecord=function(){try{window.psoc_o.stopVoiceRecord()}catch(t){}},e.uploadFileToServer=function(t){try{window.psoc_o.uploadFileToServer(t)}catch(t){}},e.uploadImageToServer=function(t,e,i,s){try{window.psoc_o.uploadImageToServer(t,e,i,s)}catch(t){}},e.getStudents=function(t){if(n)if(window.top.tsoc_o)try{window.top.tsoc_o.getStudents(t)}catch(t){}else t([],!1);else try{window.tsoc_o.getStudents(t)}catch(t){}},e.startCamera=function(){if(!n)try{window.psoc_o.startCamera()}catch(t){}},e.startCustomCamera=function(t){if(!n)try{window.psoc_o.startCustomCamera(t)}catch(t){}},e.stopCamera=function(){if(!n)try{window.psoc_o.stopCamera()}catch(t){}},e.switchCamera=function(){if(!n)try{window.psoc_o.switchCamera()}catch(t){}},e.startVideoRecord=function(){if(!n)try{window.psoc_o.startVideoRecord()}catch(t){}},e.stopVideoRecord=function(){if(!n)try{window.psoc_o.stopVideoRecord()}catch(t){}},e.uploadInclassReport=function(t){if(!n)try{window.tsoc_o.uploadInclassReport(t)}catch(t){}},e.takePicture=function(t){if(!n)try{window.psoc_o.takePicture(t)}catch(t){}},e.clearSPenTool=function(){if(console.log("felsocket clearPenTool"),!n)try{window.psoc_o.clearPenTool()}catch(t){}},e.showSMathKit=function(t){if(console.log("felsocket showSMathKit",t),!n)try{window.psoc_o.showMathKit(t)}catch(t){}},e.showSLoading=function(t){if(console.log("felsocket showSLoading",t),!n)try{window.psoc_o.showLoading(t)}catch(t){}},e.alertToStudent=function(t){if(console.log("felsocket alertToStudent",t),!n)try{window.psoc_o.alert(t)}catch(t){}},e.showSendButton=function(t){if(console.log("felsocket showSendButton"),!n)try{window.psoc_o.showSendButton(t)}catch(t){}},e.showRecordTool=function(t){if(console.log("felsocket showRecordTool",t),!n)try{window.psoc_o.showRecordTool(t)}catch(t){}},e.showPenTool=function(){if(console.log("felsocket showPentool"),!n)try{window.psoc_o.showPenTool()}catch(t){}},e.hidePenTool=function(){if(console.log("felsocket hidePentool"),!n)try{window.psoc_o.hidePenTool()}catch(t){}},e.clearPenTool=function(){if(console.log("felsocket clearPenTool"),!n)try{window.psoc_o.clearPenTool()}catch(t){}},e.getPreviewResult=function(t){return s(this,void 0,void 0,(function*(){return new Promise((e=>{if(n)e([]);else{let i=!1;const s=t=>{i||(i=!0,e(t))};window.tsoc_o.getPreviewResult(s,t),o.delay((()=>{i||(i=!0,e([]))}),5e3)}}))}))},e.getPreviewDmsResult=function(t){return s(this,void 0,void 0,(function*(){return new Promise((e=>{if(n)e([]);else{let i=!1;const s=t=>{i||(i=!0,e(t))};window.tsoc_o.getPreviewDmsResult(s,t),o.delay((()=>{i||(i=!0,e([]))}),5e3)}}))}))}},888:function(t,e,i){t=i.nmd(t);var s=this&&this.__decorate||function(t,e,i,s){var o,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(n<3?o(r):n>3?o(e,i,r):o(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.appContext=e.AppProvider=void 0;const o=i(804),n=i(98),r=i(53),a=(i(719).default,i(183)),l=i(193),c=i(290);i(967),i(860);const u=i(670);Object.defineProperty(e,"AppProvider",{enumerable:!0,get:function(){return u.TeacherProvider}}),Object.defineProperty(e,"appContext",{enumerable:!0,get:function(){return u.tContext}});const p=i(830);let d=class extends o.Component{render(){const{state:t,actions:e}=this.props,i=t.viewDiv;return o.createElement(o.Fragment,null,o.createElement("div",{className:"content-container"},o.createElement("div",{className:"content-wrapper",style:{left:("direction"===i?0:-1280)+"px"}},o.createElement("div",null,o.createElement(a.default,{className:"video-direction",view:"direction"===i,on:t.directionON,isTeacher:!0,lesson:e.getCurriculum(),bookId:t.bookid,subtitle:"",poster_url:"/content/mathalive_lib/MA/check/common/bg_direction.jpg",video_url:"/content/mathalive_lib/MA/check/common/mv_check.mp4",video_frame:125,onEndStart:e.onDirectionEndStart,onEnd:e.onDirectionEnded},o.createElement("div",{className:"lesson"},""))),o.createElement("div",null,o.createElement(p.default,{view:"content"===i&&"check"===t.prog,state:t,actions:e})))),o.createElement(l.Navi,Object.assign({},t.navi,{onLeftClick:e.naviLeft,onRightClick:e.naviRight})),o.createElement(c.ConceptLibrary,{view:t.conceptLibiary.view,onExit:()=>{t.conceptLibiary.view=!1}}))}};d=s([n.observer],d);const h=u.useTeacher((t=>o.createElement(n.Observer,null,(()=>o.createElement(d,{state:t.state,actions:t.actions})))));e.default=r.hot(t)(h)},830:function(t,e,i){var s=this&&this.__decorate||function(t,e,i,s){var o,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(n<3?o(r):n>3?o(e,i,r):o(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r},o=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))((function(o,n){function r(t){try{l(s.next(t))}catch(t){n(t)}}function a(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}l((s=s.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const n=i(804),r=i(98),a=i(965),l=i(215),c=i(762),u=i(746),p=i(201),d=i(359),h=i(601),m=i(617),_=i(631),g=i(376),b=i(330);let v=class extends n.Component{constructor(t){super(t),this._curIdx=0,this._prog=0,this._showQuizDesc=[],this._viewQuizList=!1,this._onQuizList=!0,this._onSummaryResult=!1,this._quizResults=[],this._submitStudents=[],this._viewSubmitList=!1,this._viewAlert=!1,this.ifr=[],this.ifr_desc=[],this.onExitBook=()=>{this._prog>=1&&this._prog<=3||(p.clearTPenTool(),p.exitBook())},this.onGotoBook=(t,e)=>{this._prog>=1&&this._prog<=3||(p.clearTPenTool(),p.gotoBook(t,e))},this.onOpenSubmitList=()=>{this._viewSubmitList=!0},this.onCloseSubmitList=()=>{this._viewSubmitList=!1},this.onPage=t=>{this.props.view&&(this._viewQuizList||(p.clearTPenTool(),this._curIdx=t))},this.toggleQuizDesc=()=>{this._curIdx<0||this._curIdx>=this._showQuizDesc.length||(this._showQuizDesc[this._curIdx]=!this._showQuizDesc[this._curIdx])},this.selectQuiz=t=>{this.props.view&&(this._curIdx=t,this._viewQuizList=!1,this.initContentAll())},this.clickSubmitlistOfQuizlist=t=>{this.props.view&&this._viewQuizList&&(this._curIdx=t,this._viewSubmitList=!0)},this.backToList=()=>{this._viewQuizList=!0},this.toggleQuizList=()=>{this._onQuizList=!this._onQuizList},this.toggleSummaryResult=()=>{this._onSummaryResult=!this._onSummaryResult},this._onPrev=()=>{this.props.view&&0!==this._curIdx&&(p.clearTPenTool(),this._curIdx-=1)},this._onNext=()=>{this.props.view&&this._curIdx!==this._quizResults.length-1&&(p.clearTPenTool(),this._curIdx+=1)},this._onAlertPopup=()=>{this._viewAlert=!0,this._prog=1},this._onAlertOk=()=>{this.props.view&&(this._viewAlert=!1,this.props.actions.getData().quizs.map(((t,e)=>{this.props.state.quizResult[e]=[],this._submitStudents[e]=[],this._showQuizDesc[e]=!1,this._quizResults[e].allusers=c.App.students?c.App.students.length:0,this._quizResults[e].submitusers=0,this._quizResults[e].heart2=0,this._quizResults[e].heart1=0,this._quizResults[e].heart0=0,this._quizResults[e].nosubmit=0})),this._onSend())},this._onAlertCancel=()=>{this.props.view&&(this._viewAlert=!1,this._prog=0)},this._onSend=()=>{this.props.view&&(this.getResultCnt()||(this._prog=1,c.App.pub_playToPad(),p.sendPAD(10,{msgtype:"check_send"}),this.props.actions.setQuizResultFnc(this._onQuizResult),c.App.pub_reloadStudents((()=>o(this,void 0,void 0,(function*(){this.props.view&&1===this._prog&&(yield d.wait(600),this._prog=2,this._setNavi())}))))))},this._onQuizResult=t=>{if(!this.props.view)return;if(this._curIdx<0)return;const e=JSON.parse(t.result),i=l.find(c.App.students,{id:e.studentid});if(!i)return;if(t.idx<-1||t.idx>this._submitStudents.length-1||t.idx>this._quizResults.length-1)return;const s=this._submitStudents[t.idx].findIndex((t=>t.student.id===e.studentid));s>-1?this._submitStudents[t.idx][s].correct=e.correct:this._submitStudents[t.idx].push({student:i,correct:e.correct,trycnt:e.tryCnt,livePoint:0}),this._quizResults[t.idx].allusers=c.App.students.length,this._quizResults[t.idx].submitusers=this._submitStudents[t.idx].length;const o=this._submitStudents[t.idx].filter((t=>!0===t.correct&&1===t.trycnt));this._quizResults[t.idx].heart2=o?o.length:0;const n=this._submitStudents[t.idx].filter((t=>!0===t.correct&&2===t.trycnt));this._quizResults[t.idx].heart1=n?n.length:0;const r=this._submitStudents[t.idx].filter((t=>!1===t.correct&&t.trycnt>1));this._quizResults[t.idx].heart0=r?r.length:0;const a=c.App.students.length-(o.length+n.length+r.length);this._quizResults[t.idx].nosubmit=a,(3===this._prog&&0===this._quizResults[this._curIdx].nosubmit||t.idx===this._quizResults.length-1&&0===this._quizResults[t.idx].nosubmit)&&(this._prog=0)},this._onSendStop=()=>o(this,void 0,void 0,(function*(){this.props.view&&2===this._prog&&-1!==this._curIdx&&(c.App.pub_playToPad(),p.sendPAD(10,{msgtype:"check_end"}),this._prog=3)})),this.handlePostMessage=t=>{console.log("=====> handlePostMessage",t.data);let e=t.data;"macontent"===e.from&&"submit"===e.type&&console.log("data.msg: "+e.msg)};const{quizs:e}=this.props.actions.getData();e.map(((t,e)=>{this._submitStudents[e]=[],this._showQuizDesc[e]=!1,this._quizResults[e]={seq:t.seq,thumb:t.thumb,url:t.url,quizKind:0,allusers:0,submitusers:0,heart2:0,heart1:0,heart0:0,nosubmit:0}}))}getResultCnt(){let t=!1;const e=this.props.actions.getData().quizs;for(let i=0;i<e.length;i++)if(this.props.state.quizResult[i].length>0){t=!0;break}return t}_setNavi(){this.props.actions.setNaviView(this._viewQuizList),this._prog>=1&&this._prog<=3?this.props.actions.setNavi(!1,!1):this.props.actions.setNavi(!0,!0),this.props.actions.setNaviFnc((()=>{p.clearTPenTool(),this.props.actions.gotoDirection()}),(()=>{p.clearTPenTool(),this.props.actions.gotoNextBook()}))}componentDidMount(){window.addEventListener("message",this.handlePostMessage,!1)}componentWillUnmount(){window.removeEventListener("message",this.handlePostMessage,!1)}sendPostMessage(t,e,i){console.log("=====> sendPostMessage",t,e);const s={from:"matemplate",to:"macontent",type:t,msg:e};i>-1&&this.ifr[i]&&this.ifr[i].contentWindow.postMessage(s,"*")}initContent(){if(this._curIdx<0)return;const t=this.props.actions.getData().quizs;if(this._curIdx<t.length){let e={idx:this._curIdx,quizmode:"check",isTeacher:!0,content:t[this._curIdx]};this.sendPostMessage("init",e,this._curIdx)}}initContentAll(){const t=this.props.actions.getData().quizs;for(let e=0;e<t.length;e++){let i={idx:e,quizmode:"check",isTeacher:!0,content:t[e]};this.sendPostMessage("init",i,e)}}completeContentAll(){const t=this.props.actions.getData().quizs;for(let e=0;e<t.length;e++){let i={idx:e,quizmode:"check",isTeacher:!0,content:t[e]};this.sendPostMessage("completed",i,e)}}componentDidUpdate(t){this.props.view&&!t.view?(this._curIdx=0,this._prog=0,this.props.actions.getData().quizs.map(((t,e)=>{this._submitStudents[e]=[],this._showQuizDesc[e]=!1,this._quizResults[e].allusers=c.App.students?c.App.students.length:0,this._quizResults[e].submitusers=0,this._quizResults[e].heart2=0,this._quizResults[e].heart1=0,this._quizResults[e].heart0=0,this._quizResults[e].nosubmit=0})),this._viewSubmitList=!1,this.props.actions.setQuizResultFnc(null),this._onQuizList=!0,this._viewQuizList=!0,this._viewAlert=!1,this._onSummaryResult=!0):!this.props.view&&t.view&&(this.props.actions.setQuizResultFnc(null),this._viewSubmitList=!1,this._onQuizList=!0,this._viewQuizList=!1,this._viewAlert=!1,this._onSummaryResult=!0),this.props.view&&this._setNavi()}render(){const{view:t,state:e,actions:i}=this.props,s=i.getData().quizs;return n.createElement("div",{className:"t_check",style:{display:t?void 0:"none"}},n.createElement("div",{className:"checkContent"},n.createElement(h.MAHeader,{view:t,lesson:this.props.actions.getCurriculum(),bookid:e.bookid,onExitBook:this.onExitBook,onGotoBook:this.onGotoBook,onConceptLibrary:()=>{this.props.state.conceptLibiary.view=!0}}),n.createElement("div",{className:"topHeader"},n.createElement(g.ToggleBtn,{view:this._viewQuizList,on:this._onQuizList,className:"btn_viewMark",onClick:this.toggleQuizList}),n.createElement("button",{className:"back",style:{display:this._viewQuizList?"none":void 0},onClick:this.backToList}),n.createElement("div",{className:"page teacher",style:{display:this._viewQuizList?"none":void 0}},s.map(((t,e)=>n.createElement("div",{key:"page"+e,className:"num "+(this._curIdx===e?"on":""),onClick:this.onPage.bind(this,e)},n.createElement("span",null,e+1))))),n.createElement(_.MASubmitUsers,{view:!this._viewQuizList,submitusers:this._submitStudents[this._curIdx]?this._submitStudents[this._curIdx].length:0,totalusers:c.App.students?c.App.students.length:0,onClick:this.onOpenSubmitList}),n.createElement(g.ToggleBtn,{view:!this._viewQuizList,on:this._onSummaryResult,className:"btn_viewSummary",onClick:this.toggleSummaryResult}),n.createElement("div",{className:"result",style:{display:!this._viewQuizList&&this._onSummaryResult?void 0:"none"}},n.createElement("span",{className:"h2"},this._quizResults[this._curIdx]?this._quizResults[this._curIdx].heart2:0),n.createElement("span",{className:"h1"},this._quizResults[this._curIdx]?this._quizResults[this._curIdx].heart1:0),n.createElement("span",{className:"h0"},this._quizResults[this._curIdx]?this._quizResults[this._curIdx].heart0:0),n.createElement("span",{className:"none"},this._quizResults[this._curIdx]?this._quizResults[this._curIdx].nosubmit:0))),n.createElement("div",{id:"contentWrap",className:"contentWrap"},n.createElement(m.MAQuizList,{view:this._viewQuizList,on:this._onQuizList,quizresults:this._quizResults,selectQuiz:this.selectQuiz,clickSubmitlist:this.clickSubmitlistOfQuizlist}),s.map(((t,e)=>n.createElement("div",{key:"i"+e,style:{display:this._curIdx!==e||this._viewQuizList?"none":void 0}},n.createElement("iframe",{src:c.App.data_url+t.url+"?idx="+e,ref:t=>{t&&(this.ifr[e]=t)}}),n.createElement("div",{className:"moreBox "+(this._showQuizDesc[e]?"show":"")},n.createElement("div",{className:"more_content"},n.createElement("button",{className:"btn_close",onClick:this.toggleQuizDesc}),n.createElement("iframe",{src:c.App.data_url+t.desc+"?idx="+e,ref:t=>{t&&(this.ifr_desc[e]=t,l.delay((()=>{if(null!==this.ifr_desc[e].contentWindow&&this.ifr_desc[e].contentWindow.document.body){let i=this.ifr_desc[e].contentWindow.document.body.scrollHeight;i>500&&(i=500),t.height=i+"px"}}),300))}})))))))),n.createElement(g.ToggleBtn,{view:!this._viewQuizList,on:this._curIdx>=0&&this._curIdx<this._showQuizDesc.length&&this._showQuizDesc[this._curIdx],className:"btn_bulb",onClick:this.toggleQuizDesc}),n.createElement(g.ToggleBtn,{className:"btn_prev",view:!this._viewQuizList&&this._curIdx>0,onClick:this._onPrev}),n.createElement(g.ToggleBtn,{className:"btn_next",view:!this._viewQuizList&&this._curIdx<s.length-1,onClick:this._onNext}),n.createElement(u.default,{view:0===this._prog,type:"teacher",sended:!1,originY:0,onSend:this.getResultCnt()?this._onAlertPopup:this._onSend}),n.createElement(g.ToggleBtn,{view:2===this._prog&&!this._viewAlert,className:"fel_stop",onClick:this._onSendStop}),n.createElement(b.WarningPopup,{view:this._viewAlert,type:1,button:!0,onOk:this._onAlertOk,onCancel:this._onAlertCancel}))}};s([a.observable],v.prototype,"_curIdx",void 0),s([a.observable],v.prototype,"_prog",void 0),s([a.observable],v.prototype,"_showQuizDesc",void 0),s([a.observable],v.prototype,"_viewQuizList",void 0),s([a.observable],v.prototype,"_onQuizList",void 0),s([a.observable],v.prototype,"_onSummaryResult",void 0),s([a.observable],v.prototype,"_quizResults",void 0),s([a.observable],v.prototype,"_submitStudents",void 0),s([a.observable],v.prototype,"_viewSubmitList",void 0),s([a.observable],v.prototype,"_viewAlert",void 0),v=s([r.observer],v),e.default=v},670:function(t,e,i){var s=this&&this.__decorate||function(t,e,i,s){var o,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(n<3?o(r):n>3?o(e,i,r):o(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.SENDPROG=e.useTeacher=e.tContext=e.TeacherConsumer=e.TeacherProvider=e.TeacherContext=void 0;const o=i(804),n=i(215),r=i(965),a=i(201),l=i(680);var c;!function(t){t[t.READY=0]="READY",t[t.SENDING=1]="SENDING",t[t.SENDED=2]="SENDED",t[t.STOPED=3]="STOPED",t[t.COMPLETE=4]="COMPLETE"}(c||(c={})),e.SENDPROG=c;class u extends l.TeacherContextBase{constructor(){super(),this._quizResultFnc=null,this.state.prog="check",this.state.quizResult=[],this.actions.getData=()=>this._data,this.actions.getCurriculum=()=>this._curriculum,this.actions.gotoDirection=()=>this._setViewDiv("direction"),this.actions.gotoNextBook=()=>{a.sendLauncher(9,null)},this.actions.setQuizResultFnc=t=>{this._quizResultFnc=t}}_setViewDiv(t){console.log("viewDiv",t,this.state.prog),super._setViewDiv(t)}receive(t){if(super.receive(t),console.log("receive data",t),11===t.type&&t.data){const e=t.data;if("check_result"===e.msgtype){const t=e,i=JSON.parse(t.result);let s=n.findIndex(this.state.quizResult[t.idx],{studentid:i.studentid});s>-1?this.state.quizResult[t.idx][s]=i:this.state.quizResult[t.idx].push(i),this._quizResultFnc&&this._quizResultFnc(t)}}}setData(t){this._data=t;for(let t=0;t<this._data.quizs.length;t++)this.state.quizResult[t]=[]}notifyNaviInfo(t,e,i,s,o,n){console.log("notifyNaviInfo curriculum",t,e,i),this._curriculum=t,this.state.bookid=e,this.state.classid=i}}s([r.observable],u.prototype,"state",void 0),s([r.action],u.prototype,"_setViewDiv",null),e.TeacherContext=u;const p=new u;e.tContext=p;const{Provider:d,Consumer:h}=o.createContext(p);e.TeacherConsumer=h;class m extends o.Component{render(){return o.createElement(d,{value:p},this.props.children)}}e.TeacherProvider=m,e.useTeacher=function(t){return function(e){return o.createElement(h,null,(e=>o.createElement(t,Object.assign({},e))))}}},290:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ConceptLibrary=void 0;const s=i(804),o=[{title:"Read and Write 4 and 5",subtitle:"Grade 1 / Number&Operations",books:[{title:"Concept tool",image:"/content/mathalive_lib/images/cl_screenimg_04.jpg"},{title:"Summary",image:"/content/mathalive_lib/images/cl_screenimg_05.jpg"}]},{title:"Read and Write 4 and 5",subtitle:"Grade 1 / Number&Operations",books:[{title:"Concept tool",image:"/content/mathalive_lib/images/cl_screenimg_04.jpg"},{title:"Summary",image:"/content/mathalive_lib/images/cl_screenimg_05.jpg"}]},{title:"Read and Write 4 and 5",subtitle:"Grade 1 / Number&Operations",books:[{title:"Concept tool",image:"/content/mathalive_lib/images/cl_screenimg_04.jpg"},{title:"Summary",image:"/content/mathalive_lib/images/cl_screenimg_05.jpg"}]}],n=[{title:"Recognize 1, 2, and 3 in Different Arrangements",books:[{title:"Activity",image:"/content/mathalive_lib/images/cl_screenimg_01.jpg"},{title:"Concept tool",image:"/content/mathalive_lib/images/cl_screenimg_02.jpg"},{title:"Summary",image:"/content/mathalive_lib/images/cl_screenimg_03.jpg"}]},{title:"Read and Write 4 and 5",books:[{title:"Concept tool",image:"/content/mathalive_lib/images/cl_screenimg_04.jpg"},{title:"Summary",image:"/content/mathalive_lib/images/cl_screenimg_05.jpg"}]},{title:"Read and Write 4 and 5",books:[{title:"Concept tool",image:"/content/mathalive_lib/images/cl_screenimg_04.jpg"},{title:"Summary",image:"/content/mathalive_lib/images/cl_screenimg_05.jpg"}]},{title:"Read and Write 4 and 5",books:[{title:"Concept tool",image:"/content/mathalive_lib/images/cl_screenimg_04.jpg"},{title:"Summary",image:"/content/mathalive_lib/images/cl_screenimg_05.jpg"}]}];class r extends s.Component{render(){return s.createElement("header",null,s.createElement("h1",null,"Concept Library"),s.createElement("form",null,s.createElement("input",{type:"text",placeholder:"Search for the concept’s keyword"}),s.createElement("button",{className:"search_btn",onClick:t=>{this.props.doResult(!0),t.preventDefault()}},"전송"),s.createElement("button",{className:"clear"})),s.createElement("button",{className:"closebutton",onClick:t=>{this.props.doExit()}},"닫기"))}}class a extends s.Component{constructor(t){super(t),this.state={list_visible:!1}}render(){return s.createElement("div",{className:"submenu_detail "+this.props.datatype},s.createElement("strong",null,this.props.title),s.createElement("button",{className:this.state.list_visible?"toggler active":"toggler",onClick:()=>this.setState({list_visible:!this.state.list_visible})},"여닫기"),s.createElement("ul",{className:this.state.list_visible?"active":""},this.props.list.map(((t,e)=>s.createElement("li",{key:"detail"+e},t)))))}}class l extends s.Component{render(){return s.createElement("div",{className:"topic_box contents"},s.createElement("strong",null,"Topic"),s.createElement("ol",null,this.props.subtitle.map(((t,e)=>s.createElement("li",{key:"topic"+e},s.createElement("span",{className:"number"},e+1,")"),s.createElement("span",{className:"con"},t))))))}}class c extends s.Component{constructor(){super(...arguments),this.TitlePrint=()=>this.props.items&&0!==this.props.items.length?this.props.items[0].mainTitle?s.createElement("ul",{className:"topic_list overflowscroll"},this.props.items.map(((t,e)=>s.createElement("li",{className:"topic_title "+(0===e?"active":""),key:"topic_title"+e},s.createElement("h2",null,s.createElement("strong",null,t.mainTitle),s.createElement("span",null,t.subTitle)),s.createElement(l,{subtitle:t.detail}))))):s.createElement("div",{className:"overflowscroll"},s.createElement(l,{subtitle:this.props.items[0].detail})):s.createElement(s.Fragment,null)}render(){return!1===this.props.is_visible?s.createElement(s.Fragment,null):s.createElement(s.Fragment,null,this.props.children,s.createElement("section",{className:"modulelist"},this.TitlePrint()))}}class u extends s.Component{render(){return s.createElement("ul",{className:"toggle_grade"},s.createElement("li",null,s.createElement("button",{className:"grade"===this.props.datatype?"grade active":"grade",onClick:()=>this.props.changeType("grade")},"Grade")),s.createElement("li",null,s.createElement("button",{className:"domain"===this.props.datatype?"domain active":"domain",onClick:()=>this.props.changeType("domain")},"Domain")))}}class p extends s.Component{render(){return s.createElement("div",null,s.createElement("h4",null,this.props.title),s.createElement("img",{src:this.props.image}))}}class d extends s.Component{printBooks(){return s.createElement(s.Fragment,null,this.props.children,s.createElement("ul",null,this.props.books.map(((t,e)=>s.createElement("li",{key:e},s.createElement(p,Object.assign({},t)))))))}render(){return s.createElement("section",{className:"books"},s.createElement("h3",null,this.props.title),this.printBooks())}}class h extends s.Component{render(){return!1===this.props.view?s.createElement(s.Fragment,null):s.createElement("div",null,this.props.list.map(((t,e)=>s.createElement(d,Object.assign({key:e},t)))))}}class m extends s.Component{printResult(){return null===this.props.list||0===this.props.list.length?s.createElement("div",{className:"no_result"},s.createElement("img",{src:"/content/mathalive_lib/images/cl_noresult_zoom.jpg"}),s.createElement("strong",null,"There are no matching concept names.")):this.props.list.map(((t,e)=>s.createElement("div",{className:e%2!=0?"sectionbox odd":"sectionbox"},s.createElement("em",null,t.subtitle),s.createElement(d,Object.assign({},t)))))}render(){return!1===this.props.view?s.createElement(s.Fragment,null):s.createElement("section",{className:"search_result"},this.props.children,this.printResult())}}class _ extends s.Component{render(){return s.createElement("div",{className:"title"},s.createElement("button",{onClick:t=>{this.props.doResult(!1),t.preventDefault()}},"뒤로가기"),s.createElement("span",null,"Search results (",this.props.resultsize,")"))}}class g extends s.Component{constructor(t){super(t),this.state={datatype:"grade",resultmode:!1}}componentDidUpdate(t){this.props.view&&!t.view||!this.props.view&&t.view}render(){return s.createElement("div",{className:"cl_background",style:{display:this.props.view?void 0:"none"}},s.createElement(r,Object.assign({},this.props,{doResult:t=>{this.setState({resultmode:t})},doExit:this.props.onExit})),s.createElement("div",{className:"mainframe"},(()=>s.createElement(s.Fragment,null,s.createElement("div",{className:"leftside "+(!1===this.state.resultmode?"active":"")},s.createElement(u,{datatype:this.state.datatype,changeType:t=>this.setState({datatype:t})}),s.createElement(c,{items:[{mainTitle:"Module 1",subTitle:"Understand Numbers 0-5 and Ways to make 5",detail:["Count, Read and Write Number",s.createElement(s.Fragment,null,"Build Two-Dimensional (2-D) Shapes and",s.createElement("br",null),"Three-Dimensional (3-D) Shapes"),"Ways to make 5"]},{mainTitle:"Module 2",subTitle:"Compare numbers, Classify data and Represent addition",detail:["Count, Read and Write Number",s.createElement(s.Fragment,null,"Build Two-Dimensional (2-D) Shapes and",s.createElement("br",null),"Three-Dimensional (3-D) Shapes"),"Ways to make 5"]},{mainTitle:"Module 3",subTitle:"Decompose and Represent Numbers",detail:["Count, Read and Write Number",s.createElement(s.Fragment,null,"Build Two-Dimensional (2-D) Shapes and",s.createElement("br",null),"Three-Dimensional (3-D) Shapes"),"Ways to make 5"]},{mainTitle:"Module 4",subTitle:"Understand Numbers 0-5 and Ways to make 5",detail:["Count, Read and Write Number",s.createElement(s.Fragment,null,"Build Two-Dimensional (2-D) Shapes and",s.createElement("br",null),"Three-Dimensional (3-D) Shapes"),"Ways to make 5"]}],is_visible:"grade"===this.state.datatype},s.createElement(a,{datatype:this.state.datatype,title:"GradeK",list:["Grade 1","Grade 2","Grade 3","Grade 4"]})),s.createElement(c,{items:[{detail:["Understand Fractions with shape","Understand Fractions with Number line","Equivalent Fractions","Compare numbers to 10","Equivalent Fractions","Count and Write Numbers 11 - 17","Count and Write Numbers 18 - 20","Make Numbers 11 - 19 by Composing","Use Models to Add Within 100","Add Tens and Ones using Models ","Add 2-Digit Numbers by making a Ten",s.createElement(s.Fragment,null,"Add 2-Digit Numbers using Partial Sums",s.createElement("br",null),"and Place Value")]}],is_visible:"domain"===this.state.datatype},s.createElement(a,{datatype:this.state.datatype,title:"Number&Operations",list:["Measuremenet&Data","Operations&Algebra","Geometry"]}))),s.createElement("div",{className:"rightside "+(!1===this.state.resultmode?"":"full")},s.createElement(h,{view:!1===this.state.resultmode,list:n}),s.createElement(m,{view:!0===this.state.resultmode,list:o},s.createElement(_,{doResult:t=>{this.setState({resultmode:t})},resultsize:o.length})))))()))}}e.ConceptLibrary=g},330:function(t,e,i){var s=this&&this.__decorate||function(t,e,i,s){var o,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(n<3?o(r):n>3?o(e,i,r):o(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.WarningPopup=void 0;const o=i(804),n=i(98),r=i(215);let a=class extends o.Component{componentDidUpdate(t){if(this.props.view&&!t.view){if(!this.props.button){let t=this.props.delay;t||(t=800),r.delay((()=>{this.props.onComplete&&this.props.onComplete()}),t)}}else!this.props.view&&t.view}render(){const{type:t}=this.props;let e="";return 0===t&&(e="Submit your answer within <strong>3 seconds.</strong>"),o.createElement("div",{className:"warningpopup",style:{display:this.props.view?"":"none"}},o.createElement("div",{className:"msg",dangerouslySetInnerHTML:{__html:e}}))}};a=s([n.observer],a),e.WarningPopup=a},601:function(t,e,i){var s=this&&this.__decorate||function(t,e,i,s){var o,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(n<3?o(r):n>3?o(e,i,r):o(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.MAHeader=void 0;const o=i(804),n=i(965),r=i(98),a=i(215),l=i(201),c=i(85),u=i(719).default;let p=class extends o.Component{constructor(t){super(t),this.lesson=void 0,this.curStep=void 0,this.step_groups=[],this.step_group_names=[],this.viewUnitSelectBox=!1,this._soption={direction:"vertical",observer:!0,slidesPerView:"auto",freeMode:!0,mousewheel:!0,noSwiping:!1,followFinger:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,hide:!1}},this._refSwiper=t=>{!this._swiper&&t&&(this._swiper=t.swiper)},this.onExitBook=()=>{this.props.onExitBook?this.props.onExitBook():(l.clearTPenTool(),l.exitBook())},this.onConceptLibrary=()=>{this.props.onConceptLibrary&&this.props.onConceptLibrary()},this.onChoiceStep=t=>{if(this.lesson){const e=this.lesson.childrenList.find(((e,i)=>e.id===t));let i=[];this.lesson.childrenList.map((t=>{const e=t.book?t.book.id:0;e>0&&i.push(e)})),e&&e.book&&(this.props.onGotoBook?this.props.onGotoBook(e.book.id,i):l.gotoBook(e.book.id,i))}},this.onViewSelectBox=()=>{this.viewUnitSelectBox=!this.viewUnitSelectBox,this._swiper&&(this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize(),this._swiper.slideTo(0)),a.delay((()=>{this._swiper&&(this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize(),this._swiper.slideTo(0))}),300)}}select_box_parse(){if(this.lesson&&this.curStep&&void 0!==this.lesson.div)if("Concept"===c.parseDept4Div(this.lesson.div)){let t=this.lesson.childrenList.filter((t=>"Warm-Up"===c.parseDept5Div(t.div)));t&&(this.step_groups.push(t),this.step_group_names.push("Warm-Up")),t=this.lesson.childrenList.filter((t=>"Concept Learning 1"===c.parseDept5Div(t.div))),t&&(this.step_groups.push(t),this.step_group_names.push("Concept Learning 1")),t=this.lesson.childrenList.filter((t=>"Concept Learning 2"===c.parseDept5Div(t.div))),t&&(this.step_groups.push(t),this.step_group_names.push("Concept Learning 2")),t=this.lesson.childrenList.filter((t=>"Concept Learning 3"===c.parseDept5Div(t.div))),t&&(this.step_groups.push(t),this.step_group_names.push("Concept Learning 3")),t=this.lesson.childrenList.filter((t=>"Wrap-Up"===c.parseDept5Div(t.div))),t&&(this.step_groups.push(t),this.step_group_names.push("Wrap-Up"))}else if("Problem"===c.parseDept4Div(this.lesson.div)){let t=this.lesson.childrenList.filter((t=>"Warm-Up"===c.parseDept5Div(t.div)));t&&(this.step_groups.push(t),this.step_group_names.push("Warm-Up")),t=this.lesson.childrenList.filter((t=>"Problem Solving"===c.parseDept5Div(t.div))),t&&(this.step_groups.push(t),this.step_group_names.push("Problem Solving")),t=this.lesson.childrenList.filter((t=>"Wrap-Up"===c.parseDept5Div(t.div))),t&&(this.step_groups.push(t),this.step_group_names.push("Wrap-Up"))}}componentDidMount(){this.props.lesson&&(this.lesson=this.props.lesson,this.props.bookid&&this.lesson.childrenList.map((t=>{t.book&&t.book.id===this.props.bookid&&(this.curStep=t)}))),this.select_box_parse()}componentDidUpdate(t){this.props.view&&!t.view&&(this._swiper&&(this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize(),this._swiper.slideTo(0)),a.delay((()=>{this._swiper&&(this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize(),this._swiper.slideTo(0))}),300)),this.props.lesson!==t.lesson&&this.props.lesson&&(this.lesson=this.props.lesson,this.props.bookid&&this.lesson.childrenList.map((t=>{t.book&&t.book.id===this.props.bookid&&(this.curStep=t)})),this.select_box_parse())}render(){let t=[];return o.createElement("div",{className:"maheader"},o.createElement("button",{className:"btn_menu"}),o.createElement("div",{className:"user"},o.createElement("img",{src:"/content/mathalive_lib/images/temp_ico_submituser_01.png"}),o.createElement("span",{className:"name"},"Charlotee")),o.createElement("div",{className:"live_guage twinkle"},o.createElement("div",{className:"heart"}),o.createElement("div",{className:"bar_wrap"},o.createElement("div",{className:"bar",style:{width:"100%"}}),o.createElement("div",{className:"num overmax","data-value":"100"},"100"))),o.createElement("div",{style:{display:"none"}},o.createElement("div",{className:"pulldown"},o.createElement("div",{className:"tit",onClick:this.onViewSelectBox},this.curStep?this.curStep.name:""),o.createElement("button",{className:"btn_arrow",onClick:this.onViewSelectBox})),o.createElement("div",{className:"pulldown_content "+(this.viewUnitSelectBox?"on":"")}),o.createElement("div",null,o.createElement(u,Object.assign({},this._soption,{ref:this._refSwiper}),this.step_groups&&this.step_groups.map(((e,i)=>o.createElement("div",{key:"grp"+i},o.createElement("div",{className:"tit"},this.step_group_names[i]),e.map(((i,s)=>(this.curStep&&i.id===this.curStep.id&&(t=e),o.createElement("div",{key:"step"+s,className:"tit_sub",onClick:this.onChoiceStep.bind(this,i.id)},i.name))))))))),o.createElement("div",{className:"class_name"},t.map(((t,e)=>o.createElement("span",{key:"span"+t.id,className:this.curStep&&t.id===this.curStep.id?"now":void 0,onClick:this.onChoiceStep.bind(this,t.id)},t.name)))),o.createElement("div",{className:"concept_library",onClick:this.onConceptLibrary},"Concept",o.createElement("br",null),"Library")))}};s([n.observable],p.prototype,"step_groups",void 0),s([n.observable],p.prototype,"step_group_names",void 0),s([n.observable],p.prototype,"viewUnitSelectBox",void 0),p=s([r.observer],p),e.MAHeader=p},617:function(t,e,i){var s=this&&this.__decorate||function(t,e,i,s){var o,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(n<3?o(r):n>3?o(e,i,r):o(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.MAQuizList=void 0;const o=i(804),n=i(98),r=i(762),a=i(215),l=i(719).default;let c=class extends o.Component{constructor(t){super(t),this._soption={direction:"vertical",observer:!0,slidesPerView:"auto",freeMode:!0,mousewheel:!0,noSwiping:!1,followFinger:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,hide:!1}},this._refSwiper=t=>{!this._swiper&&t&&(this._swiper=t.swiper)}}componentDidUpdate(t){this.props.view&&!t.view&&(this._swiper&&(this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize(),this._swiper.slideTo(0)),a.delay((()=>{this._swiper&&(this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize(),this._swiper.slideTo(0))}),300))}render(){const{view:t,on:e,quizresults:i,selectQuiz:s,clickSubmitlist:n}=this.props;return o.createElement("div",{className:"quizlist",style:{display:t?void 0:"none"}},o.createElement(l,Object.assign({},this._soption,{ref:this._refSwiper}),o.createElement("div",{className:"listWrap"},o.createElement("ul",null,i.map(((t,i)=>o.createElement("li",{key:i},o.createElement("div",{className:"top"},this.props.strategyStep?o.createElement("span",{className:"textTitle"},this.props.strategyStep[i]):o.createElement("span",{className:"qNum on"},i+1),o.createElement("div",{className:"return_cnt_box",onClick:n.bind(this,i)},o.createElement("div",null,t.submitusers," / ",o.createElement("span",{className:"numOfS"},t.allusers)))),o.createElement("div",{className:"content",onClick:s.bind(this,i)},o.createElement("img",{src:r.App.data_url+t.thumb}),o.createElement("div",{className:"markingState"+(e?" on":"")},o.createElement("ul",null,o.createElement("li",null,t.heart2),o.createElement("li",null,t.heart1),o.createElement("li",null,t.heart0),o.createElement("li",null,t.nosubmit)))))))))))}};c=s([n.observer],c),e.MAQuizList=c},631:function(t,e,i){var s=this&&this.__decorate||function(t,e,i,s){var o,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(n<3?o(r):n>3?o(e,i,r):o(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.MASubmitUsers=e.MASubmitUserList=void 0;const o=i(804),n=i(965),r=i(98),a=i(762),l=i(215),c=i(719).default;let u=class extends o.Component{constructor(t){super(t),this.allStudents=[],this.heartTwoStudents=[],this.heartOneStudents=[],this.wrongStudents=[],this.notsubmitUsers=[],this._soption={direction:"vertical",observer:!0,slidesPerView:"auto",freeMode:!0,mousewheel:!0,noSwiping:!1,followFinger:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,hide:!1}},this._refSwiper=t=>{!this._swiper&&t&&(this._swiper=t.swiper)},this.clickTab=(t,e)=>{switch(this._swiper&&(this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize(),this._swiper.slideTo(0)),l.delay((()=>{this._swiper&&(this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize(),this._swiper.slideTo(0))}),300),t){case"1":if(this.heartTwoStudents.length<1)return;break;case"2":if(this.heartOneStudents.length<1)return;break;case"3":if(this.wrongStudents.length<1)return;break;case"4":if(this.notsubmitUsers.length<1)return}this.props.onType(t,e)}}componentDidUpdate(t){this.props.view&&!t.view&&(this._swiper&&(this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize(),this._swiper.slideTo(0)),l.delay((()=>{this._swiper&&(this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize(),this._swiper.slideTo(0))}),300),a.App.students&&(this.allStudents=a.App.students),this.heartTwoStudents=[],this.heartOneStudents=[],this.wrongStudents=[],this.notsubmitUsers=[],3===this.props.mode?this.props.submitusers.length>0?this.allStudents.map(((t,e)=>{let i=this.props.submitusers.find((e=>e.student.id===t.id));i&&0!==i.trycnt?i.correct?1===i.trycnt?this.heartTwoStudents.push(i.student):this.heartOneStudents.push(i.student):this.wrongStudents.push(i.student):this.notsubmitUsers.push(t)})):this.notsubmitUsers=this.allStudents:2===this.props.mode?this.props.submitusers.length>0?this.allStudents.map(((t,e)=>{let i=this.props.submitusers.find((e=>e.student.id===t.id));i?i.correct?this.heartOneStudents.push(i.student):this.wrongStudents.push(i.student):this.notsubmitUsers.push(t)})):this.notsubmitUsers=this.allStudents:this.props.submitusers.length>0?this.allStudents.map(((t,e)=>{this.props.submitusers.find((e=>e.student.id===t.id))||this.notsubmitUsers.push(t)})):this.notsubmitUsers=this.allStudents)}getProileImg(t){return t?"1"===t.displayMode&&""!==t.thumb?t.thumb:""!==t.avatar?t.avatar:`/content/mathalive_lib/images/user/user_0${Math.floor(3*Math.random()+1)}.png`:""}render(){const{view:t,onClose:e,isNoNum:i,quizIdx:s,displayMode:n}=this.props;return o.createElement(o.Fragment,null,o.createElement("div",{className:"submituserlist_bg"+(t?" show":"")}),o.createElement("div",{className:"submituserlist"+(t?" show":"")+(i?" nonum":"")},o.createElement("div",{className:"header"},o.createElement("div",{className:"quiz_tit"},"Q"+(s+1)),o.createElement("div",{className:"score_set"},o.createElement("ul",null,o.createElement("li",{className:"type01"+("1"===this.props.type?" arrow":"")+(this.heartTwoStudents.length>0?" on":""),style:{cursor:this.heartTwoStudents.length>0?"pointer":"default"},onClick:this.clickTab.bind(this,"1",s)},this.heartTwoStudents.length),o.createElement("li",{className:"type02"+("2"===this.props.type?" arrow":"")+(this.heartOneStudents.length>0?" on":""),style:{cursor:this.heartOneStudents.length>0?"pointer":"default"},onClick:this.clickTab.bind(this,"2",s)},this.heartOneStudents.length),o.createElement("li",{className:"type03"+("3"===this.props.type?" arrow":"")+(this.wrongStudents.length>0?" on":""),style:{cursor:this.wrongStudents.length>0?"pointer":"default"},onClick:this.clickTab.bind(this,"3",s)},this.wrongStudents.length),o.createElement("li",{className:"type04"+("4"===this.props.type?" arrow":"")+(this.notsubmitUsers.length>0?" on":""),style:{cursor:this.notsubmitUsers.length>0?"pointer":"default"},onClick:this.clickTab.bind(this,"4",s)},this.notsubmitUsers.length))),o.createElement("div",{className:"submitter"},"Submitter",o.createElement("span",null,o.createElement("strong",null,"13")," / 15")),o.createElement("button",{className:"btn_close",onClick:e})),o.createElement("div",{className:"list_box"},o.createElement("div",{className:"innerbox"},o.createElement(c,Object.assign({},this._soption,{ref:this._refSwiper}),o.createElement("div",{className:"inner"},o.createElement("ul",null,"1"===this.props.type&&this.heartTwoStudents.map(((t,e)=>o.createElement("li",{key:e},o.createElement("img",{src:1===n?t.thumb:t.avatar}),o.createElement("span",{className:"name"},1===n?t.name:t.nickname)))),"2"===this.props.type&&this.heartOneStudents.map(((t,e)=>o.createElement("li",{key:e},o.createElement("img",{src:1===n?t.thumb:t.avatar}),o.createElement("span",{className:"name"},1===n?t.name:t.nickname)))),"3"===this.props.type&&this.wrongStudents.map(((t,e)=>o.createElement("li",{key:e},o.createElement("img",{src:1===n?t.thumb:t.avatar}),o.createElement("span",{className:"name"},1===n?t.name:t.nickname)))),"4"===this.props.type&&this.notsubmitUsers.map(((t,e)=>o.createElement("li",{key:e},o.createElement("img",{src:1===n?t.thumb:t.avatar}),o.createElement("span",{className:"name"},1===n?t.name:t.nickname)))))))))))}};s([n.observable],u.prototype,"allStudents",void 0),s([n.observable],u.prototype,"heartTwoStudents",void 0),s([n.observable],u.prototype,"heartOneStudents",void 0),s([n.observable],u.prototype,"wrongStudents",void 0),s([n.observable],u.prototype,"notsubmitUsers",void 0),u=s([r.observer],u),e.MASubmitUserList=u;let p=class extends o.Component{constructor(t){super(t)}render(){const{view:t,submitusers:e,totalusers:i,onClick:s}=this.props;return o.createElement("div",{className:"submitusers"+(t?"":" hide"),onClick:s||void 0},e," / ",i)}};p=s([r.observer],p),e.MASubmitUsers=p},193:function(t,e,i){var s=this&&this.__decorate||function(t,e,i,s){var o,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(n<3?o(r):n>3?o(e,i,r):o(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.Navi=void 0;const o=i(804),n=i(965),r=i(98),a=i(376);let l=class extends o.Component{constructor(t){super(t),this.m_on=!1,this.m_isStarted=!1,this._onClick=t=>{this.m_on=!0}}componentDidUpdate(t){this.m_isStarted||!this.props.view||t.view||(this.m_isStarted=!0,this.m_on=!0)}render(){const t=this.m_on?void 0:"off",e={visibility:this.props.view?"visible":"hidden"};return o.createElement(o.Fragment,null,o.createElement("div",{id:"common_navi_left",className:t,style:e},o.createElement("div",null,o.createElement("div",{onClick:this._onClick},o.createElement(a.ToggleBtn,{className:"right",disabled:!this.props.enableRight,onClick:this.props.onRightClick}),o.createElement(a.ToggleBtn,{className:"left",disabled:!this.props.enableLeft,onClick:this.props.onLeftClick})))),o.createElement("div",{id:"common_navi_right",className:t,style:e},o.createElement("div",null,o.createElement("div",{onClick:this._onClick},o.createElement(a.ToggleBtn,{className:"right",disabled:!this.props.enableRight,onClick:this.props.onRightClick}),o.createElement(a.ToggleBtn,{className:"left",disabled:!this.props.enableLeft,onClick:this.props.onLeftClick})))))}};s([n.observable],l.prototype,"m_on",void 0),l=s([r.observer],l),e.Navi=l},746:function(t,e,i){var s=this&&this.__decorate||function(t,e,i,s){var o,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(n<3?o(r):n>3?o(e,i,r):o(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(e,"__esModule",{value:!0});const o=i(804),n=i(965),r=i(98),a=i(418),l=i(478),c=.3;let u=class extends o.Component{constructor(t){super(t),this.m_btnH=0,this.m_max=0,this.m_sy=-1,this.m_vy=-1,this.m_time=-1,this.m_bSend=!1,this.m_state={y:0,alpha:1,tDur:0,aDur:0,isOn:!1,disabled:!1},this._ref=t=>{if(this.m_max>0||!t)return;t.setAttribute("touch-action","none");const e=window.getComputedStyle(t),i=l.nteFloat(e.height,0),s=l.nteFloat(e.bottom,0);i>0&&(this.m_btnH=i,this.m_max=i+s+10,this.props.view||(this.m_state.y=this.m_max))},this._down=t=>{this.m_state.isOn||this.m_state.disabled||void 0!==this.props.disable&&this.props.disable||(this.m_state.y=this.props.originY,this.m_state.alpha=1,this.m_state.tDur=0,this.m_state.aDur=0,this.m_state.isOn=!0,this.m_vy=0,this.m_time=Date.now())},this._start=(t,e)=>{this.m_sy=e.y,this.m_bSend=!0},this._drag=(t,e)=>{if(!this.m_state.isOn||this.m_state.disabled)return;let i=e.y-this.m_sy;"teacher"===this.props.type?(e.deltaY<-1?this.m_bSend=!1:e.deltaY>=0&&(this.m_bSend=!0),i<0&&(i=0)):(e.deltaY>1?this.m_bSend=!1:e.deltaY<=0&&(this.m_bSend=!0),i>0&&(i=0)),!1===this.props.preventDrag&&(this.m_state.y=i+this.props.originY);const s=Date.now();this.m_vy=e.deltaY/(s-this.m_time),this.m_time=s},this._stop=(t,e)=>{if(this.m_state.isOn&&!this.m_state.disabled)if(this.m_bSend){let t=.5*this.m_vy*1e3,i=e.y-this.m_sy;"teacher"===this.props.type?(t<this.m_btnH?t=this.m_btnH:t>4*this.m_btnH&&(t=4*this.m_btnH),i<0&&(i=0)):(-1*t<this.m_btnH?t=-this.m_btnH:-1*t>4*this.m_btnH&&(t=-4*this.m_btnH),i>0&&(i=0)),this.m_state.tDur=.5,this.m_state.aDur=.5,this.m_state.alpha=0,this.m_state.y=i+t+this.props.originY,this.props.onSend()}else this.m_state.isOn=!1,this.m_state.tDur=c,this.m_state.aDur=0,this.m_state.y=this.props.originY},t.sended?(this.m_state.alpha=0,this.m_state.disabled=!0):t.view?(this.m_state.y=t.originY,this.m_state.alpha=1,this.m_state.tDur=c,this.m_state.aDur=0,this.m_state.isOn=!1,this.m_state.disabled=!1):t.view||(this.m_state.y=t.originY,this.m_state.alpha=0,this.m_state.tDur=c,this.m_state.aDur=c,this.m_state.isOn=!1,this.m_state.disabled=!0)}componentWillReceiveProps(t){t.sended&&!this.props.sended?(this.m_state.alpha=0,this.m_state.disabled=!0):t.view&&!this.props.view?(this.m_state.y=t.originY,this.m_state.alpha=1,t.preventUpWhenView?(this.m_state.tDur=0,this.m_state.aDur=c):(this.m_state.tDur=c,this.m_state.aDur=0),this.m_state.isOn=!1,this.m_state.disabled=!1):!t.view&&this.props.view?(this.m_state.y=this.m_max,this.m_state.alpha=0,this.m_state.tDur=c,this.m_state.aDur=c,this.m_state.isOn=!1,this.m_state.disabled=!0):!t.view||t.sended||this.m_state.isOn||t.originY===this.props.originY||(this.m_state.y=t.originY,this.m_state.tDur=c,this.m_state.aDur=0)}render(){const{y:t,tDur:e,aDur:i,alpha:s,isOn:n,disabled:r}=this.m_state;let l={transform:`translateY(${t}px)`,transition:`transform ${e}s, opacity ${i/2}s ${i/2}s`,opacity:s,pointerEvents:r||!this.props.view?"none":"auto"};this.props.preventDrag&&(l={});const c=[];return"pad"===this.props.type?c.push("fel_toteacher"):c.push("fel_topad"),n&&c.push("on"),this.props.isVisiblePenTool&&this.props.isVisiblePenTool&&c.push("up"),o.createElement(a.DraggableCore,{onMouseDown:this._down,onDrag:this._drag,onStart:this._start,onStop:this._stop},o.createElement("button",{ref:this._ref,className:c.join(" ")+(this.props.className?" "+this.props.className:""),style:l},o.createElement("span",{className:"revise",style:{display:"none"}},"revise")))}};s([n.observable],u.prototype,"m_state",void 0),u=s([r.observer],u),e.default=u},680:function(t,e,i){var s=this&&this.__decorate||function(t,e,i,s){var o,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(n<3?o(r):n>3?o(e,i,r):o(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.TeacherContextBase=void 0;const o=i(965),n=i(762),r=i(201),a=i(85);class l{constructor(){this._naviLeftFnc=null,this._naviRightFnc=null,this.state={viewDiv:"direction",directionON:!1,navi:{view:!1,enableLeft:!1,enableRight:!1},svg_bg:{view:!0,bPlay:!1,viewCharactor:!0},retCnt:0,numOfStudent:0,bookid:0,curriculumid:0,classid:0,unitid:0,lessonid:0,conceptLibiary:{view:!1,datatype:"grade",resultmode:!1}},this.actions={onDirectionEndStart:()=>{"direction"===this.state.viewDiv&&r.sendPAD(3,null)},onDirectionEnded:()=>{"direction"===this.state.viewDiv&&this._setViewDiv("content"),n.App.isStarted=!0},setNaviView:t=>{this.state.navi.view=t},setNavi:(t,e)=>{this.state.navi.enableLeft=t,this.state.navi.enableRight=e},setNaviFnc:(t,e)=>{this._naviLeftFnc=t,this._naviRightFnc=e},naviLeft:()=>{"direction"===this.state.viewDiv?r.sendLauncher(8,null):(n.App.pub_playBtnPage(),this._naviLeftFnc?this._naviLeftFnc():this._setViewDiv("direction"))},naviRight:()=>{"direction"===this.state.viewDiv?(n.App.pub_playBtnPage(),this.state.directionON=!1):(n.App.pub_playBtnPage(),this._naviRightFnc?this._naviRightFnc():r.sendLauncher(9,null))},setRetCnt:t=>{t>this.state.numOfStudent&&(t=this.state.numOfStudent),this.state.retCnt=t},setNumOfStudent:t=>{this.state.numOfStudent=t},setConcepLibaryView:t=>{this.state.conceptLibiary.view=t},setConcepLibaryDataType:t=>{this.state.conceptLibiary.datatype=t},setConcepLibaryResultMode:t=>{this.state.conceptLibiary.resultmode=t}},this.notifyBookCaptureInfo=t=>{},this.clickSendButton=()=>{},this.notifyRecordData=(t,e)=>{},this.notifyAlert=t=>{}}_setViewDiv(t){this.state.viewDiv!==t&&(n.App.pub_stop(),"direction"===t?(this.state.directionON=!0,this.state.svg_bg.bPlay=!0,this.state.svg_bg.viewCharactor=!0,r.sendLauncher(5,null),r.sendPAD(1,null),this.state.navi.view=!0,this.state.navi.enableLeft=n.App.prevBook,this.state.navi.enableRight=!0,this._naviLeftFnc=null,this._naviRightFnc=null,this.state.conceptLibiary.view=!1,this.state.conceptLibiary.datatype="grade",this.state.conceptLibiary.resultmode=!1):(this.state.directionON=!1,this.state.svg_bg.bPlay=!1,this.state.svg_bg.viewCharactor=!1,r.sendLauncher(6,null),r.sendPAD(0,null)),this._naviLeftFnc=null,this._naviRightFnc=null,this.state.numOfStudent=0,this.state.retCnt=0,this.state.viewDiv=t)}start(){if("direction"===this.state.viewDiv&&(this.state.directionON=!0,this.state.navi.view=!0,this.state.navi.enableLeft=n.App.prevBook,this.state.navi.enableRight=!0,this.state.svg_bg.bPlay=!0,r.sendLauncher(5,null),r.sendPAD(1,null)),n.App.isDvlp){let t="";if(t="M0401",""===t)return;let e={id:1e3,code:"",depth:4,depth_name:"M0401"===t?"1 day":"M0402"===t?"2 day":"",info:"",div:t,subDiv:"",name:a.parseDept4Div(t),thumbnail:"",childrenList:[]},i="",s="",o="";if("Concept"===a.parseDept4Div(t))for(let t=0;t<14;t++){0===t?(i="M0501",s="M050101",o="WarmUp Quiz"):1===t?(i="M0501",s="M050102",o="Learning Objectives"):2===t?(i="M0502",s="M050201",o="Acivity"):3===t?(i="M0502",s="M050202",o="Concept Tool"):4===t?(i="M0502",s="M050203",o="Summary"):5===t?(i="M0502",s="M050204",o="Check"):6===t?(i="M0503",s="M050302",o="Concept Tool"):7===t?(i="M0503",s="M050303",o="Summary"):8===t?(i="M0503",s="M050304",o="Check"):9===t?(i="M0504",s="M050401",o="Acivity"):10===t?(i="M0504",s="M050403",o="Summary"):11===t?(i="M0504",s="M050404",o="Check"):12===t?(i="M0506",s="M050601",o="Math Talk"):13===t&&(i="M0507",s="M050602",o="Adaptive Learning");let n={id:16815+t,code:"",depth:5,depth_name:o,info:"",div:i,subDiv:s,name:o,thumbnail:"",childrenList:[],book:{id:1e4+t,path:"/content/"+(5787+t),viewMode:2,key:5280+t,cmsKey:5787+t,completed:0,updatetime:""}};e.childrenList.push(n)}else if("Problem"===a.parseDept4Div(t))for(let t=0;t<14;t++){0===t?(i="M0501",s="M050101",o="WarmUp Quiz"):1===t?(i="M0501",s="M050103",o="Concept Summary"):2===t?(i="M0505",s="M050501",o="Independent Practice"):3===t?(i="M0505",s="M050502",o="Reasoning (1)"):4===t?(i="M0505",s="M050503",o="Extended Practice"):5===t?(i="M0505",s="M050504",o="Reasoning (2)"):6===t?(i="M0505",s="M050505",o="Strategy"):7===t?(i="M0506",s="M050602",o="Topic Portfolio"):8===t?(i="M0507",s="M050701",o="Hit Moles"):9===t?(i="M0508",s="M050801",o="Hidden Picture"):10===t?(i="M0509",s="M050901",o="Memorry Game"):11===t?(i="M0510",s="M051001",o="Math Talk"):12===t?(i="M0511",s="M051101",o="Module Review"):13===t&&(i="M05112",s="M051102",o="Adaptive Learning");let n={id:16829+t,code:"",depth:5,depth_name:o,info:"",div:i,subDiv:s,name:o,thumbnail:"",childrenList:[],book:{id:2e4+t,path:"/content/"+(5800+t),viewMode:2,key:5279+t,cmsKey:5800+t,completed:0,updatetime:""}};e.childrenList.push(n)}let n=1e4;n=10005,this.notifyNaviInfo(e,n,1)}else{let t="";r.getNaviInfo(t)}}receive(t){}uploaded(t){}notify(t){}notifyRecorded(t){}notifyVideoRecord(t){}notifyNaviInfo(t,e,i,s,o,n){}notifyPenToolState(t,e){}}s([o.observable],l.prototype,"state",void 0),s([o.action],l.prototype,"_setViewDiv",null),s([o.action],l.prototype,"start",null),e.TeacherContextBase=l},183:function(t,e,i){var s=this&&this.__decorate||function(t,e,i,s){var o,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(n<3?o(r):n>3?o(e,i,r):o(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r},o=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))((function(o,n){function r(t){try{l(s.next(t))}catch(t){n(t)}}function a(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}l((s=s.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const n=i(804),r=i(965),a=i(98),l=i(359);let c=class extends n.Component{constructor(t){super(t),this.m_on=!1,this.m_showMathKit=!1,this.bookInfo=[],this.curIndex=0,this._list=[],this._onClick=()=>{this.props.isTeacher&&this._off()},this._off=()=>o(this,void 0,void 0,(function*(){this.props.view&&this.m_on&&(this.m_on=!1,this.props.onEndStart&&this.props.onEndStart(),yield l.wait(500),this.props.view&&!this.m_on&&this.props.onEnd&&this.props.onEnd())})),this.m_on=t.view&&t.on}_on(){return o(this,void 0,void 0,(function*(){this.m_on=!0}))}componentWillReceiveProps(t){if(void 0===this.props.lesson&&void 0!==t.lesson){for(;this.bookInfo.length>0;)this.bookInfo.pop();t.lesson.childrenList&&t.lesson.childrenList.length>0&&t.lesson.childrenList.map(((e,i)=>{e.book?(e.book.id===t.bookId&&(this.curIndex=i),this.bookInfo.push({bookName:e.name?e.name:"",id:e.id,lesson:t.lesson?t.lesson.name:"",subtitle:e.depth_name})):this.bookInfo.push({bookName:"",id:-1,lesson:"",subtitle:""})}))}}componentDidUpdate(t){this.props.view?t.view?this.props.on&&!t.on?this._on():!this.props.on&&t.on&&this._off():this.props.on?this._on():this.m_on=!1:this.m_on=!1}render(){const{isTeacher:t,subtitle:e}=this.props,i=[];i.push(this.props.className);const s=document.querySelector(".bgm");return this.props.view?(this.m_on&&i.push("on"),s&&s.play()):(i.push("hide"),s&&(s.pause(),s.currentTime=0)),n.createElement("div",{className:i.join(" "),onClick:this._onClick},t&&this.bookInfo&&n.createElement("span",{className:"concept_name"},this.bookInfo.length>0?this.bookInfo[this.curIndex].lesson:""),n.createElement("div",{className:"progress_dot"},t&&this.bookInfo&&this.bookInfo.map(((t,e)=>n.createElement("span",{key:"q_"+e,className:this.curIndex===e?"on":""})))),n.createElement("div",{className:"video"},n.createElement("video",{muted:!0,autoPlay:!0,poster:this.props.poster_url?this.props.poster_url:void 0},n.createElement("source",{src:this.props.video_url,type:"video/mp4"}),n.createElement("strong",null,"Your browser does not support the video tag."))),n.createElement("div",{className:"text"},n.createElement("div",{className:"t1"},this.bookInfo&&this.bookInfo.length>0?this.bookInfo[this.curIndex].bookName:""),t&&n.createElement("div",{className:"t2",dangerouslySetInnerHTML:{__html:this.bookInfo&&this.bookInfo.length>0?this.bookInfo[this.curIndex].subtitle:""}}),!t&&n.createElement("div",{className:"t2",dangerouslySetInnerHTML:{__html:e}})),n.createElement("audio",{className:"bgm",autoPlay:!0,src:this.props.audio_url?this.props.audio_url:void 0}))}};s([r.observable],c.prototype,"m_on",void 0),s([r.observable],c.prototype,"_list",void 0),s([r.action],c.prototype,"_off",void 0),c=s([a.observer],c),e.default=c},967:(t,e,i)=>{i.r(e)},989:(t,e,i)=>{i.r(e)},860:(t,e,i)=>{i.r(e)},209:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var s,o=(s=i(804))&&"object"==typeof s&&"default"in s?s.default:s;function n(t){return n.warnAboutHMRDisabled&&(n.warnAboutHMRDisabled=!0,console.error("React-Hot-Loader: misconfiguration detected, using production version in non-production environment."),console.error("React-Hot-Loader: Hot Module Replacement is not enabled.")),o.Children.only(t.children)}n.warnAboutHMRDisabled=!1;var r=function t(){return t.shouldWrapWithAppContainer?function(t){return function(e){return o.createElement(n,null,o.createElement(t,e))}}:function(t){return t}};r.shouldWrapWithAppContainer=!1,e.AppContainer=n,e.hot=r,e.areComponentsEqual=function(t,e){return t===e},e.setConfig=function(){},e.cold=function(t){return t},e.configureComponent=function(){}},53:(t,e,i)=>{t.exports=i(209)},804:t=>{t.exports=React},196:t=>{t.exports=ReactDOM},418:t=>{t.exports=ReactDraggable},719:t=>{t.exports=ReactIdSwiper},215:t=>{t.exports=_},965:t=>{t.exports=mobx},98:t=>{t.exports=mobxReact}},e={};function i(s){var o=e[s];if(void 0!==o)return o.exports;var n=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{const t=i(53),e=i(804),s=i(196),o=i(762),n=i(201),r=i(268);t.setConfig({ErrorOverlay:t=>e.createElement("div",null)});const a={clear:o.App.pub_clear,importLink:r.importLink,importHTML:r.importHTML};let l;l=i(888);let c=!1;const u=l,p=u.default,d=u.AppProvider,h=u.appContext;a.set=(t,e,i)=>{o.App.pub_set(t,e,i),h.setData(t)},a.render=()=>{o.App.pub_initAudio(),s.render(e.createElement(d,null,e.createElement(p,null)),document.getElementById("wrap"))},a.init=(t,e,i,s,n,r)=>{o.App.pub_load(t,null,e,i,s,n,r)},a.start=()=>{c=!0,setTimeout((()=>h.start()),500)},a.receive=t=>{if(4===t.type){const e=t.data;c?e&&e.id&&""!==e.id&&(o.App.isStarted?n.sendPADToID(e.id,0,null):n.sendPADToID(e.id,1,null)):o.App.pub_addInitedStudent(e)&&(c||(c=!0,h.start()))}else h.receive(t)},a.teachingTool=t=>{},a.notifyNaviInfo=(t,e,i,s,o,n)=>{console.log("index.tsx ========>>>> notifyNaviInfo"),h.notifyNaviInfo(t,e,i,s,o,n)},a.notifyBookCaptureInfo=t=>{h.notifyBookCaptureInfo(t)},a.notifyUploadToServerResult=t=>{h.uploaded(t)},a.notifyAlert=t=>{h.notifyAlert(t)},a.notifyPenToolState=(t,e)=>{console.log("app_o notifyPenToolState"),h.notifyPenToolState(t,e)},i(989),i.g.app_o=a})()})();