!function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o(o.s=7)}([function(t,e){t.exports=React},function(t,e){t.exports=mobx},function(t,e,o){"use strict";var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(i,a){function s(t){try{c(n.next(t))}catch(t){a(t)}}function r(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(s,r)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.postAttention=e.postViewDiv=e.getPreviewDmsResult=e.getPreviewResult=e.showSGiftBox=e.showSLivePointPop=e.launchSTool=e.clearPenTool=e.hidePenTool=e.showPenTool=e.showRecordTool=e.showSendButton=e.alertToStudent=e.showSLoading=e.showSMathKit=e.clearSPenTool=e.takePicture=e.uploadInclassReport=e.stopVideoRecord=e.startVideoRecord=e.switchCamera=e.stopCamera=e.pauseRecordPlayer=e.playRecordPlayer=e.startCustomCamera=e.startCamera=e.getStudents=e.uploadFileToServerMulti=e.uploadImageToServer=e.uploadFileToServer=e.stopVoiceRecord=e.startVoiceRecord=e.sendTeacher=e.disableSoftwareKeyboard=e.sendPAD=e.sendPADToID=e.sendLauncher=e.uploadStudentReport=e.addStudentForStudentReportType6=e.hideStudentReportListPage=e.showStudentReportListPage=e.showStudentReportUI=e.hideStudentReportUI=e.startStudentReportProcess=e.finishContentPage=e.showTMathKit=e.alertToTeacher=e.showTLoading=e.clearTPenTool=e.getBookCaptureInfo=e.uploadTImageToServer=e.useFractionBar=e.logOut=e.exitClass=e.getNaviInfo=e.launchPadTool=e.launchTool=e.exitBook=e.gotoBookByKey=e.gotoBook=e.set=void 0;const i=o(6);let a=!1;e.set=function(t){a=t},e.gotoBook=function(t,e){if(console.log("felsocket gotoBook",t,e),!a)try{window.tsoc_o.gotoBook(t,e)}catch(t){}},e.gotoBookByKey=function(t){if(console.log("felsocket gotoBookByKey",t),!a)try{window.tsoc_o.gotoBookByKey(t)}catch(t){}},e.exitBook=function(){if(console.log("felsocket exitBook"),!a)try{window.tsoc_o.exitBook()}catch(t){}},e.launchTool=function(t){if(console.log("felsocket launchTool",t),!a)try{window.tsoc_o.launchTool(t)}catch(t){}},e.launchPadTool=function(t){if(console.log("felsocket launchPadTool",t),!a)try{window.tsoc_o.launchPadTool(t)}catch(t){}},e.getNaviInfo=function(t){if(console.log("felsocket getNaviInfo",t),!a)try{window.tsoc_o.getNaviInfo(t)}catch(t){}},e.exitClass=function(){if(console.log("felsocket exitClass"),!a)try{window.tsoc_o.exitClass()}catch(t){}},e.logOut=function(){if(console.log("felsocket logOut"),!a)try{window.tsoc_o.logOut()}catch(t){}},e.useFractionBar=function(){if(console.log("felsocket useFractionBar"),!a)try{window.tsoc_o.useFractionBar()}catch(t){}},e.uploadTImageToServer=function(t,e,o,n){if(console.log("felsocket uploadTImageToServer",e,o,n),!a)try{window.tsoc_o.uploadImageToServer(t,e,o,n)}catch(t){}},e.getBookCaptureInfo=function(t){if(console.log("felsocket getBookCaptureInfo"),!a)try{window.tsoc_o.getBookCaptureInfo(t)}catch(t){}},e.clearTPenTool=function(){if(console.log("felsocket clearTPenTool"),!a)try{window.tsoc_o.clearPenTool()}catch(t){}},e.showTLoading=function(t){if(console.log("felsocket showTLoading",t),!a)try{window.tsoc_o.showLoading(t)}catch(t){}},e.alertToTeacher=function(t){if(console.log("felsocket alertToTeacher",t),!a)try{window.tsoc_o.alert(t)}catch(t){}},e.showTMathKit=function(t){if(console.log("felsocket showTMathKit",t),!a)try{window.tsoc_o.showMathKit(t)}catch(t){}},e.finishContentPage=function(){if(!a)try{window.tsoc_o.finishContentPage()}catch(t){}},e.startStudentReportProcess=function(t,e,o){if(!a)try{window.tsoc_o.startStudentReportProcess(t,e,o)}catch(t){}},e.hideStudentReportUI=function(){if(!a)try{window.tsoc_o.hideStudentReportUI()}catch(t){}},e.showStudentReportUI=function(){if(!a)try{window.tsoc_o.showStudentReportUI()}catch(t){}},e.showStudentReportListPage=function(){if(!a)try{window.tsoc_o.showStudentReportListPage()}catch(t){}},e.hideStudentReportListPage=function(){if(!a)try{window.tsoc_o.hideStudentReportListPage()}catch(t){}},e.addStudentForStudentReportType6=function(t){if(!a)try{window.tsoc_o.addStudentForStudentReportType6(t)}catch(t){}},e.uploadStudentReport=function(t,e,o){if(!a)try{window.psoc_o.uploadStudentReport(t,e,o)}catch(t){}},e.sendLauncher=function(t,e){if(5!==t||a)if(6!==t||a)if(7!==t||a){if(8===t)if(console.log("felsocket gotoPrevBook"),a)try{window.top.tsoc_o.gotoPrevBook()}catch(t){}else try{window.tsoc_o.gotoPrevBook()}catch(t){}else if(9===t)if(console.log("felsocket gotoNextBook"),a)try{window.top.tsoc_o.gotoNextBook()}catch(t){}else try{window.tsoc_o.gotoNextBook()}catch(t){}}else try{window.tsoc_o.setTitleBar(e)}catch(t){}else try{window.tsoc_o.showTitleBar()}catch(t){}else try{window.tsoc_o.hideTitleBar()}catch(t){}},e.sendPADToID=function(t,e,o){const n={type:e,data:o};if(a)try{window.top.tsoc_o.sendPADToID(t,n)}catch(t){}else try{window.tsoc_o.sendPADToID(t,n)}catch(t){}},e.sendPAD=function(t,e){const o={type:t,data:e};if(a)try{window.top.tsoc_o.sendAll(o)}catch(t){}else try{window.tsoc_o.sendAll(o)}catch(t){}},e.disableSoftwareKeyboard=function(){try{window.psoc_o.disableSoftwareKeyboard()}catch(t){}},e.sendTeacher=function(t,e){const o={type:t,data:e};if(a)try{null!==window.opener&&window.opener.tsoc_o.sendTeacher(o)}catch(t){}else try{window.psoc_o.sendTeacher(o)}catch(t){}},e.startVoiceRecord=function(){try{window.psoc_o.startVoiceRecord()}catch(t){}},e.stopVoiceRecord=function(){try{window.psoc_o.stopVoiceRecord()}catch(t){}},e.uploadFileToServer=function(t){try{window.psoc_o.uploadFileToServer(t)}catch(t){}},e.uploadImageToServer=function(t,e,o,n){try{window.psoc_o.uploadImageToServer(t,e,o,n)}catch(t){}},e.uploadFileToServerMulti=function(t){try{window.psoc_o.uploadFileToServerMulti(t)}catch(t){}},e.getStudents=function(t){if(a)if(window.top.tsoc_o)try{window.top.tsoc_o.getStudents(t)}catch(t){}else t([],!1);else try{window.tsoc_o.getStudents(t)}catch(t){}},e.startCamera=function(t){if(!a)try{window.psoc_o.startCamera(t)}catch(t){}},e.startCustomCamera=function(t){a||window.parent.postMessage({from:"content",srcFrame:"book",type:"startCustomCamera",msg:t},"*")},e.playRecordPlayer=function(){a||window.parent.postMessage({from:"content",srcFrame:"book",type:"playRecordPlayer"},"*")},e.pauseRecordPlayer=function(){a||window.parent.postMessage({from:"content",srcFrame:"book",type:"pauseRecordPlayer"},"*")},e.stopCamera=function(){if(!a)try{window.psoc_o.stopCamera()}catch(t){}},e.switchCamera=function(t){if(!a)try{window.psoc_o.switchCamera(t)}catch(t){}},e.startVideoRecord=function(){if(!a)try{window.psoc_o.startVideoRecord()}catch(t){}},e.stopVideoRecord=function(){if(!a)try{window.psoc_o.stopVideoRecord()}catch(t){}},e.uploadInclassReport=function(t){if(!a)try{window.tsoc_o.uploadInclassReport(t)}catch(t){}},e.takePicture=function(t){if(!a)try{window.psoc_o.takePicture(t)}catch(t){}},e.clearSPenTool=function(){if(console.log("felsocket clearPenTool"),!a)try{window.psoc_o.clearPenTool()}catch(t){}},e.showSMathKit=function(t){if(console.log("felsocket showSMathKit",t),!a)try{window.psoc_o.showMathKit(t)}catch(t){}},e.showSLoading=function(t){if(console.log("felsocket showSLoading",t),!a)try{window.psoc_o.showLoading(t)}catch(t){}},e.alertToStudent=function(t){if(console.log("felsocket alertToStudent",t),!a)try{window.psoc_o.alert(t)}catch(t){}},e.showSendButton=function(t,e){if(console.log("felsocket showSendButton"),!a)try{window.psoc_o.showSendButton(t,e)}catch(t){}},e.showRecordTool=function(t){if(console.log("felsocket showRecordTool",t),!a)try{window.psoc_o.showRecordTool(t)}catch(t){}},e.showPenTool=function(){if(console.log("felsocket showPentool"),!a)try{window.psoc_o.showPenTool()}catch(t){}},e.hidePenTool=function(){if(console.log("felsocket hidePentool"),!a)try{window.psoc_o.hidePenTool()}catch(t){}},e.clearPenTool=function(){if(console.log("felsocket clearPenTool"),!a)try{window.psoc_o.clearPenTool()}catch(t){}},e.launchSTool=function(t){if(console.log("felsocket launchTool",t),!a)try{window.psoc_o.launchTool(t)}catch(t){}},e.showSLivePointPop=function(t){if(console.log("felsocket showLivePointPop"),!a)try{window.psoc_o.showLivePointPop(t)}catch(t){}},e.showSGiftBox=function(t,e){if(console.log("felsocket showGiftBox"),!a)try{window.psoc_o.showGiftBox(t,e)}catch(t){}},e.getPreviewResult=function(t){return n(this,void 0,void 0,(function*(){return new Promise(e=>{if(a)e([]);else{let o=!1;const n=t=>{o||(o=!0,e(t))};window.tsoc_o.getPreviewResult(n,t),i.delay(()=>{o||(o=!0,e([]))},5e3)}})}))},e.getPreviewDmsResult=function(t){return n(this,void 0,void 0,(function*(){return new Promise(e=>{if(a)e([]);else{let o=!1;const n=t=>{o||(o=!0,e(t))};window.tsoc_o.getPreviewDmsResult(n,t),i.delay(()=>{o||(o=!0,e([]))},5e3)}})}))},e.postViewDiv=function(t){return n(this,void 0,void 0,(function*(){console.log("postViewDiv",t),window.top.postMessage({type:"viewDiv",msg:t,from:"content"},"*")}))},e.postAttention=function(t){return n(this,void 0,void 0,(function*(){console.log("postAttention",t),window.top.postMessage({type:"attention",msg:t,from:"content"},"*")}))}},function(t,e){t.exports=mobxReact},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0;const n=o(12),i=o(2);function a(t){if(!t)return t;console.log("init student",t),t.displayMode=""+t.displayMode=="2"?"2":"1",t.gender=t.gender,""===t.nickname&&(t.nickname=t.name);let e=t.avatar&&""!==t.avatar?t.avatar:"";return""===e&&(e="f"===t.gender||"F"===t.gender?"/content/mathalive_lib/images/default_candy.png":"/content/mathalive_lib/images/default_cheese.png",t.avatar=e),t}class s{static get isMobile(){return s._isMobile}static get tempEl(){return s._tempEl}static pub_init(){const t=navigator.userAgent;s._isMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t)||/android/i.test(t),s._tempBnd=document.createElement("div"),s._tempBnd.style.display="none",s._tempEl=document.createElement("div"),s._tempBnd.appendChild(s._tempEl),null===document.body?document.addEventListener("DOMContentLoaded",t=>{document.body.appendChild(s._tempBnd)}):document.body.appendChild(s._tempBnd)}static get students(){return s._students}static get student(){return s._student}static get lang(){return s._lang}static get isDvlp(){return s._isDvlp}static get data_url(){return s._data_url}static get lesson(){return s._lesson}static get book(){return s._book}static get nextBook(){return s._nextBook}static get prevBook(){return s._prevBook}static get addOnHost(){return s._addOnHost}static setaddOnHost(t){s._addOnHost=t}static pub_load(t,e,o,n,i,r,c){s._lesson=n,s._book=o,s._nextBook=r,s._prevBook=c,s._students=[],t&&Array.isArray(t)&&t.forEach((t,e)=>{s._students[e]=a(t)}),s._student=a(e),i&&""!==i&&(s._addOnHost=i)}static pub_reloadStudents(t){i.getStudents((e,o)=>{for(;s._students.length>0;)s._students.pop();for(;s._students_inited.length>0;)s._students_inited.pop();for(let t=0,o=e.length;t<o;t++)s.isDvlp?s._students[t]=a(e[t]):s._students[t]=a({id:e[t].id,name:e[t].name,thumb:e[t].defaultThumbnail,avatar:e[t].profileThumbnail,nickname:""!==e[t].nickName?e[t].nickName:e[t].name,displayMode:e[t].displayMode,gender:e[t].gender,inited:!0}),console.log("student",e[t]),s._students_inited.push(e[t].id);t()})}static pub_parseStyle(t){return s._tempEl.style.cssText=t,s._tempEl.style}static pub_initAudio(){s._common_audio=document.getElementById("common_audio"),s._ding_audio=document.getElementById("ding_audio"),s._dingend_audio=document.getElementById("dingend_audio"),s._btn_audio=document.getElementById("btn_audio"),s._correct_audio=document.getElementById("correct_audio"),s._wrong_audio=document.getElementById("wrong_audio"),s._topad_audio=document.getElementById("topad_audio"),s._goodjob_audio=document.getElementById("goodjob_audio"),s._btn_back_audio=document.getElementById("btn_back_audio"),s._btn_page_audio=document.getElementById("btn_page_audio"),s._popup_audio=document.getElementById("popup_audio"),s._clock_audio=document.getElementById("clock_audio"),s._ts_bgm_audio=document.getElementById("ts_bgm_audio"),s._bs_audio=document.getElementById("bs_audio"),s._bb_audio=document.getElementById("bb_audio"),s._cd_audio=document.getElementById("cd_audio"),s._tc_audio=document.getElementById("tc_audio"),s._te_audio=document.getElementById("te_audio"),s._trg_bgm_audio=document.getElementById("trg_bgm_audio"),s._afc_audio=document.getElementById("afc_audio"),s._trs_audio=document.getElementById("trs_audio"),s._btn_choice_audio=document.getElementById("btn_choice_audio"),s._retry_audio=document.getElementById("retry_audio"),s._sorry_audio=document.getElementById("sorry_audio"),s._great_audio=document.getElementById("great_audio"),s._memorygame_flipcard_audio=document.getElementById("flipcard_audio"),s._ispy_gameclick_audio=document.getElementById("gameclick_audio"),s._game_timesetting_start_audio=document.getElementById("game_timesetting_start"),s._solution_btn_audio=document.getElementById("solution_btn_audio"),s._game_result_audio=document.getElementById("game_result_audio"),s._open_problom_audio=document.getElementById("open_problom_audio"),s._quiz_done_audio=document.getElementById("quiz_done_audio"),s._hit_up_audio=document.getElementById("hu_audio"),s._hit_down_audio=document.getElementById("hd_audio"),s._hit_good_audio=document.getElementById("hg_audio"),s._hit_wrong_audio=document.getElementById("hw_audio"),s._pick_presenter=document.getElementById("pick_presenter"),s._game_good_audio=document.getElementById("gg_audio")}static pub_playClock(){s._clock_audio&&(s._clock_audio.currentTime=4.5,s._clock_audio.play())}static pub_playPopup(){s._popup_audio&&(s._popup_audio.currentTime=0,s._popup_audio.play())}static pub_playBtnPage(){s._btn_page_audio&&(s._btn_page_audio.currentTime=0,s._btn_page_audio.play())}static pub_playBtnBack(){s._btn_back_audio&&(s._btn_back_audio.currentTime=0,s._btn_back_audio.play())}static pub_playGoodjob(){s._goodjob_audio&&(s._goodjob_audio.currentTime=0,s._goodjob_audio.play())}static pub_playDing(){s._ding_audio&&(s._ding_audio.currentTime=0,s._ding_audio.play())}static pub_playDingend(){s._dingend_audio&&(s._dingend_audio.currentTime=0,s._dingend_audio.play())}static pub_playToPad(){s._topad_audio&&(s._topad_audio.currentTime=0,s._topad_audio.play())}static pub_playBtnTab(){s._btn_audio&&(s._btn_audio.currentTime=0,s._btn_audio.play())}static pub_playCorrect(){s._correct_audio&&(s._correct_audio.currentTime=0,s._correct_audio.play())}static pub_playWrong(){s._wrong_audio&&(s._wrong_audio.currentTime=0,s._wrong_audio.play())}static pub_playTeamSelectBgm(){s._ts_bgm_audio&&(s._ts_bgm_audio.currentTime=0,s._ts_bgm_audio.play())}static pub_stopTeamSelectBgm(){s._ts_bgm_audio&&(s._ts_bgm_audio.pause(),s._ts_bgm_audio.currentTime=0)}static pub_playStartButton(){s._bs_audio&&(s._bs_audio.currentTime=0,s._bs_audio.play())}static pub_playBasicButton(){s._bb_audio&&(s._bb_audio.currentTime=0,s._bb_audio.play())}static pub_playCountDown(){s._cd_audio&&(s._cd_audio.currentTime=0,s._cd_audio.play())}static pub_playTimerClock(){s._tc_audio&&(s._tc_audio.currentTime=0,s._tc_audio.play())}static pub_stopTimerClock(){s._tc_audio&&(s._tc_audio.pause(),s._tc_audio.currentTime=0)}static pub_playTimerEnd(){s._te_audio&&(s._te_audio.currentTime=0,s._te_audio.play())}static pub_playResultGraph(){s._trg_bgm_audio&&(s._trg_bgm_audio.currentTime=0,s._trg_bgm_audio.play())}static pub_playFireworksClapping(){s._afc_audio&&(s._afc_audio.currentTime=0,s._afc_audio.play())}static pub_playTotalResult(){s._trs_audio&&(s._trs_audio.currentTime=0,s._trs_audio.play())}static pub_playChoiceBtn(){s._btn_choice_audio&&(s._btn_choice_audio.currentTime=0,s._btn_choice_audio.play())}static pub_playsorry(){s._sorry_audio&&(s._sorry_audio.currentTime=0,s._sorry_audio.play())}static pub_playretry(){s._retry_audio&&(s._retry_audio.currentTime=0,s._retry_audio.play())}static pub_playgreat(){s._great_audio&&(s._great_audio.currentTime=0,s._great_audio.play())}static pub_playFlipCard(){s._memorygame_flipcard_audio&&(s._memorygame_flipcard_audio.currentTime=0,s._memorygame_flipcard_audio.play())}static pub_playGameClick(){s._ispy_gameclick_audio&&(s._ispy_gameclick_audio.currentTime=0,s._ispy_gameclick_audio.play())}static pub_game_timesetting_start(){s._game_timesetting_start_audio&&(s._game_timesetting_start_audio.currentTime=0,s._game_timesetting_start_audio.play())}static pub_solution_btn_click(){s._solution_btn_audio&&(s._solution_btn_audio.currentTime=0,s._solution_btn_audio.play())}static pub_playGameresult(){s._game_result_audio&&(s._game_result_audio.currentTime=0,s._game_result_audio.play())}static pub_openProblom(){s._open_problom_audio&&(s._open_problom_audio.currentTime=0,s._open_problom_audio.play())}static pub_quizDone(){s._quiz_done_audio&&(s._quiz_done_audio.currentTime=0,s._quiz_done_audio.play())}static pub_pick_presenter(){s._pick_presenter&&(s._pick_presenter.currentTime=0,s._pick_presenter.play())}static pub_stop(){null!=s._common_audio.onended&&s._common_audio.onended.call(s._common_audio,new Event("ended")),s._common_audio.oncanplaythrough=null,isNaN(s._common_audio.duration)||s._common_audio.paused||s._common_audio.pause()}static pub_play(t,e){s.pub_stop(),t=n.nteString(t,"");const o=n.nteString(s._common_audio.getAttribute("src"),"");if(""===t&&""===o)return void(null!=e&&e(!0));""!==t&&o!==t&&(s._common_audio.src=t);const i=t=>{s._common_audio.onended=null,null!==e&&e(!0),s._common_audio.removeEventListener("error",i)};s._common_audio.onended=t=>{s._common_audio.onended=null,null!==e&&e(!!t),s._common_audio.removeEventListener("error",i)},s._common_audio.addEventListener("error",i),isNaN(s._common_audio.duration)?(s._common_audio.oncanplaythrough=t=>{0!==s._common_audio.currentTime&&(s._common_audio.currentTime=0),s._common_audio.play(),s._common_audio.oncanplaythrough=null},s._common_audio.load()):(0!==s._common_audio.currentTime&&(s._common_audio.currentTime=0),s._common_audio.oncanplaythrough=null,s._common_audio.play())}static pub_set(t,e,o){s._isDvlp=e,s._lang=o,i.set(e)}static pub_addInitedStudent(t){let e=!0;for(let o=0,n=s._students_inited.length;o<n;o++){s._students_inited[o]===t.id&&(e=!1)}e&&s._students_inited.push(t.id);const o=s._start_idx>0&&s._students.length>0&&s._students_inited.length>=s._students.length;return o&&(window.clearTimeout(s._start_idx),s._start_idx=-1),o}static pub_start(t){0===s._students.length||s._students_inited.length>=s._students.length?t():s._start_idx=window.setTimeout(t,2e3)}static pub_clear(){for(;s._students.length>0;)s._students.pop();for(;s._students_inited.length>0;)s._students_inited.pop()}static pub_playHitup(){s._hit_up_audio&&(s._hit_up_audio.currentTime=0,s._hit_up_audio.play())}static pub_playHitdown(){s._hit_down_audio&&(s._hit_down_audio.currentTime=0,s._hit_down_audio.play())}static pub_playHitgood(){s._hit_good_audio&&(s._hit_good_audio.currentTime=0,s._hit_good_audio.play())}static pub_playHitwrong(){s._hit_wrong_audio&&(s._hit_wrong_audio.currentTime=0,s._hit_wrong_audio.play())}static pub_playGamegood(){s._game_good_audio&&(s._game_good_audio.currentTime=0,s._game_good_audio.play())}}e.App=s,s._isMobile=!1,s._students=[],s._students_inited=[],s._student=null,s._lang="ko",s._isDvlp=!1,s._data_url="../data/",s._lesson="",s._book="",s._nextBook=!1,s._prevBook=!1,s._start_idx=-1,s.isStarted=!1,s._addOnHost="https://addonsapi.fel40.com"},function(t,e,o){"use strict";t.exports=o(10)},function(t,e){t.exports=_},function(t,e,o){t.exports=o(8)},function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});const n=o(5),i=o(0),a=o(11),s=o(4),r=o(2),c=o(13);n.setConfig({ErrorOverlay:t=>i.createElement("div",null)});const d={clear:s.App.pub_clear,importLink:c.importLink,importHTML:c.importHTML};let l;l=o(14);let u=!1;const p=l,_=p.default,h=p.AppProvider,m=p.appContext;d.set=(t,e,o)=>{s.App.pub_set(t,e,o),m.setData(t)},d.render=()=>{s.App.pub_initAudio(),a.render(i.createElement(h,null,i.createElement(_,null)),document.getElementById("wrap"))},d.init=(t,e,o,n,i,a)=>{s.App.pub_load(t,null,e,o,n,i,a)},d.start=()=>{u=!0,setTimeout(()=>m.start(),500)},d.receive=t=>{if(4===t.type){const e=t.data;u?e&&e.id&&""!==e.id&&(s.App.isStarted?r.sendPADToID(e.id,0,null):r.sendPADToID(e.id,1,null)):s.App.pub_addInitedStudent(e)&&(u||(u=!0,m.start()))}else m.receive(t)},d.teachingTool=t=>{},d.notifyNaviInfo=(t,e,o,n,i,a)=>{m.notifyNaviInfo(t,e,o,n,i,a)},d.notifyBookCaptureInfo=t=>{m.notifyBookCaptureInfo(t)},d.notifyUploadToServerResult=t=>{m.uploaded(t)},d.notifyUploadToServerMultiResult=t=>{m.multiUploaded(t)},d.notifyAlert=t=>{m.notifyAlert(t)},d.notifyPenToolState=(t,e)=>{m.notifyPenToolState(t,e)},d.notifyHamburgerMenuClicked=t=>{m.notifyHamburgerMenuClicked(t)},d.callThreeminState=()=>{m.callThreeminState()},o(26),t.app_o=d}).call(this,o(9))},function(t,e){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(t){"object"==typeof window&&(o=window)}t.exports=o},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=(n=o(0))&&"object"==typeof n&&"default"in n?n.default:n;function a(t){return a.warnAboutHMRDisabled&&(a.warnAboutHMRDisabled=!0,console.error("React-Hot-Loader: misconfiguration detected, using production version in non-production environment."),console.error("React-Hot-Loader: Hot Module Replacement is not enabled.")),i.Children.only(t.children)}a.warnAboutHMRDisabled=!1;var s=function t(){return t.shouldWrapWithAppContainer?function(t){return function(e){return i.createElement(a,null,i.createElement(t,e))}}:function(t){return t}};s.shouldWrapWithAppContainer=!1;e.AppContainer=a,e.hot=s,e.areComponentsEqual=function(t,e){return t===e},e.setConfig=function(){},e.cold=function(t){return t},e.configureComponent=function(){}},function(t,e){t.exports=ReactDOM},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._toStringTimestamp=e.getDateStr=e.nteArray=e.intToHTMLcolor=e.nteBool=e.nteString=e.nteFloat=e.nteInt=e.nteUInt=e.getUnicUrl=e.getUnicNum=e.getUnic=void 0,Date.now||(Date.now=function(){return(new Date).getTime()});let n=0;function i(){return a().toString(36)}function a(){const t=Date.now();return t>n?n=t:n+=1,n}e.getUnic=i,e.getUnicNum=a,e.getUnicUrl=function(t){if(!t)return"";let e=t=t.trim();return 0!==e.indexOf("http://")&&0!==e.indexOf("https://")||(e=e.indexOf("?")>0?e+"&t="+i():e+"?t="+i()),e},e.nteUInt=function(t,e){if(null==t)return e;if("number"==typeof t)return isNaN(t)||t<0?e:Math.round(t);{const o=parseInt(String(t),10);return isNaN(o)||o<0?e:o}},e.nteInt=function(t,e){if(null==t)return e;if("number"==typeof t)return Math.round(t);{const o=parseInt(String(t),10);return isNaN(o)?e:o}},e.nteFloat=function(t,e){if(null==t)return e;if("number"==typeof t)return t;{const o=parseFloat(String(t));return isNaN(o)?e:o}},e.nteString=function(t,e){return null==t?e:String(t)},e.nteBool=function(t,e){if(null==t)return e;if("boolean"==typeof t)return t;const o=String(t);return"true"===o||"false"!==o&&e},e.intToHTMLcolor=function(t){let e,o,n,i=t-0;e=(255&i)<<16,o=65280&i,n=(16711680&i)>>>16,i=e|o|n;let a=i.toString(16);return a="#000000".substring(0,7-a.length)+a,a},e.nteArray=function(t){if(t){if(Array.isArray(t))return t;if("string"==typeof t){const e=t;if(e.indexOf("[")>=0&&e.indexOf("]")>0)try{return JSON.parse(e)}catch(t){}}const e=[];return e.push(t),e}return[]},e.getDateStr=function(t="."){const e=new Date,o=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();return o+t+(n<10?"0"+n:""+n)+t+(i<10?"0"+i:""+i)},e._toStringTimestamp=function(t){let e;const o=t.getFullYear();let n=t.getMonth()+1+"";parseInt(n,10)<10&&(n="0"+n);let i=t.getDate()+"";return parseInt(i,10)<10&&(i="0"+i),e=o+"-"+n+"-"+i+" "+t.toTimeString().substr(0,8),e}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.importLink=e.importHTML=void 0,e.importHTML=function(t){return new Promise((e,o)=>{const n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="document",n.onload=t=>{if(!t)return;const i=n.response;i&&i.body&&i.body.firstElementChild?e(i.body.firstElementChild):i&&i.documentElement?e(i.documentElement):o("error")},n.onerror=t=>{o(t)},n.send(null)})},e.importLink=function(t,e){return new Promise((e,o)=>{const n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="document",n.onload=t=>{if(!t)return;const o=n.response;e(o)},n.onerror=t=>{o(t)},n.send(null)})}},function(t,e,o){"use strict";(function(t){var n=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(s=(a<3?i(s):a>3?i(e,o,s):i(e,o))||s);return a>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.appContext=e.AppProvider=void 0;const i=o(0),a=o(3),s=o(5),r=o(16),c=o(18);o(20),o(21);const d=o(22);Object.defineProperty(e,"AppProvider",{enumerable:!0,get:function(){return d.TeacherProvider}}),Object.defineProperty(e,"appContext",{enumerable:!0,get:function(){return d.tContext}});const l=o(25);let u=class extends i.Component{render(){const{state:t,actions:e}=this.props,o=t.viewDiv;return i.createElement(i.Fragment,null,i.createElement("div",{className:"content-container"},i.createElement("div",{className:"content-wrapper",style:{left:("direction"===o?0:-1280)+"px"}},i.createElement("div",null,i.createElement(r.default,{className:"video-direction",view:"direction"===o,on:t.directionON,isTeacher:!0,lesson:e.getCurriculum(),bookId:t.bookid,subtitle:"What Will We Learn?",poster_url:"/content/mathalive_lib/MA/learning_objects/common/bg_direction.jpg",video_url:"/content/mathalive_lib/MA/learning_objects/common/mv_learning_objective.mp4",video_frame:125,onEndStart:e.onDirectionEndStart,onEnd:e.onDirectionEnded,audio_url:"/content/mathalive_lib/mp3/2_Learning_objective.mp3"})),i.createElement("div",null,i.createElement(l.default,{view:"content"===o,state:t,actions:e})))),i.createElement(c.Navi,Object.assign({},t.navi,{onLeftClick:e.naviLeft,onRightClick:e.naviRight})))}};u=n([a.observer],u);const p=d.useTeacher(t=>i.createElement(a.Observer,null,()=>i.createElement(u,{state:t.state,actions:t.actions})));e.default=s.hot(t)(p)}).call(this,o(15)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(s=(a<3?i(s):a>3?i(e,o,s):i(e,o))||s);return a>3&&s&&Object.defineProperty(e,o,s),s},i=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(i,a){function s(t){try{c(n.next(t))}catch(t){a(t)}}function r(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(s,r)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const a=o(0),s=o(1),r=o(3),c=o(17);let d=class extends a.Component{constructor(t){super(t),this.m_on=!1,this.m_showMathKit=!1,this.bookInfo=[],this.curIndex=0,this._list=[],this._onClick=()=>{this.props.isTeacher&&this._off()},this._off=()=>i(this,void 0,void 0,(function*(){this.props.view&&this.m_on&&(this.m_on=!1,this.props.onEndStart&&this.props.onEndStart(),yield c.wait(500),this.props.view&&!this.m_on&&this.props.onEnd&&this.props.onEnd())})),this.m_on=t.view&&t.on}_on(){return i(this,void 0,void 0,(function*(){this.m_on=!0}))}componentWillReceiveProps(t){if(t.lesson&&this.props.lesson!==t.lesson||this.props.view!==t.view){for(;this.bookInfo.length>0;)this.bookInfo.pop();t.lesson&&t.lesson.childrenList&&t.lesson.childrenList.length>0&&t.lesson.childrenList.map((e,o)=>{try{if(e.book){e.book.id===t.bookId&&(this.curIndex=this.bookInfo.length);let o=e.depth_name?e.depth_name:"";o=o.replace(/\&lt;/g,"<"),o=o.replace(/\&gt;/g,">"),this.bookInfo.push({bookName:e.name?e.name:"",id:e.id,lesson:t.lesson?t.lesson.name:"",subtitle:o})}}catch(t){alert("A ee  "+JSON.stringify(t))}})}}componentDidUpdate(t){this.props.view?t.view?this.props.on&&!t.on?this._on():!this.props.on&&t.on&&this._off():this.props.on?this._on():this.m_on=!1:this.m_on=!1}render(){const{isTeacher:t,subtitle:e}=this.props,o=[];o.push(this.props.className);const n=document.querySelector(".bgm");return this.props.view?(this.m_on&&o.push("on"),n&&n.play()):(o.push("hide"),n&&(n.pause(),n.currentTime=0)),a.createElement("div",{className:o.join(" "),onClick:this._onClick},t&&this.bookInfo&&a.createElement("span",{className:"concept_name"},this.bookInfo.length>0?this.bookInfo[this.curIndex].lesson:""),a.createElement("div",{className:"progress_dot"},t&&this.bookInfo&&this.bookInfo.map((t,e)=>a.createElement("span",{key:"q_"+e,className:this.curIndex===e?"on":""}))),a.createElement("div",{className:"video"},a.createElement("video",{muted:!0,autoPlay:!0,poster:this.props.poster_url?this.props.poster_url:void 0},a.createElement("source",{src:this.props.video_url,type:"video/mp4"}),a.createElement("strong",null,"Your browser does not support the video tag."))),a.createElement("div",{className:"text"},a.createElement("div",{className:"t1"},this.bookInfo&&this.bookInfo.length>0?this.bookInfo[this.curIndex].bookName:""),t&&a.createElement("div",{className:"t2",dangerouslySetInnerHTML:{__html:this.bookInfo&&this.bookInfo.length>0?this.bookInfo[this.curIndex].subtitle:""}}),!t&&a.createElement("div",{className:"t2",dangerouslySetInnerHTML:{__html:0===e.length&&this.bookInfo[this.curIndex]?this.bookInfo[this.curIndex].subtitle:e}})),a.createElement("audio",{className:"bgm",autoPlay:!0,src:this.props.audio_url?this.props.audio_url:void 0}))}};n([s.observable],d.prototype,"m_on",void 0),n([s.observable],d.prototype,"_list",void 0),n([s.action],d.prototype,"_off",void 0),d=n([r.observer],d),e.default=d},function(t,e,o){"use strict";var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(i,a){function s(t){try{c(n.next(t))}catch(t){a(t)}}function r(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(s,r)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getBounds=e.getTimeStr=e.wait=void 0;const i=o(6);e.wait=function(t){return n(this,void 0,void 0,(function*(){return new Promise(e=>{i.delay(e,t)})}))},e.getTimeStr=function(t,e){const o=Math.round(e/1e3);let n=Math.round(t/1e3),i=Math.floor(n/60),a=Math.floor(i/60),s="";return n%=60,i%=60,a>0||o>=3600?(s=a+":",s+=i>=10?i+":":"0"+i+":"):o>=600?s+=i>=10?i+":":"0"+i+":":s=i+":",s+=n>=10?n:"0"+n,s},e.getBounds=function(t){const e={left:0,top:0,width:0,height:0};if(!t)return e;try{const o=t.getBoundingClientRect();e.left=o.left,e.top=o.top,e.width=o.width,e.height=o.height}catch(t){}const o=t.ownerDocument,n=o.body,i=o.documentElement;e.left=e.left-(i.clientLeft||n.clientLeft||0),e.top=e.top-(i.clientTop||n.clientTop||0);const a=o.defaultView;return e.left+=a.pageXOffset||i.scrollLeft||n.scrollLeft,e.top+=a.pageYOffset||i.scrollTop||n.scrollTop,e}},function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(s=(a<3?i(s):a>3?i(e,o,s):i(e,o))||s);return a>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.Navi=void 0;const i=o(0),a=o(1),s=o(3),r=o(19);let c=class extends i.Component{constructor(t){super(t),this.m_on=!1,this.m_isStarted=!1,this._onClick=t=>{this.m_on=!0}}componentDidUpdate(t){this.m_isStarted||!this.props.view||t.view||(this.m_isStarted=!0,this.m_on=!0)}render(){const t=this.m_on?void 0:"off",e={visibility:this.props.view?"visible":"hidden"};return i.createElement(i.Fragment,null,i.createElement("div",{id:"common_navi_left",className:t,style:e},i.createElement("div",null,i.createElement("div",{onClick:this._onClick},i.createElement(r.ToggleBtn,{className:"right",disabled:!this.props.enableRight,onClick:this.props.onRightClick}),i.createElement(r.ToggleBtn,{className:"left",disabled:!this.props.enableLeft,onClick:this.props.onLeftClick})))),i.createElement("div",{id:"common_navi_right",className:t,style:e},i.createElement("div",null,i.createElement("div",{onClick:this._onClick},i.createElement(r.ToggleBtn,{className:"right",disabled:!this.props.enableRight,onClick:this.props.onRightClick}),i.createElement(r.ToggleBtn,{className:"left",disabled:!this.props.enableLeft,onClick:this.props.onLeftClick})))))}};n([a.observable],c.prototype,"m_on",void 0),c=n([s.observer],c),e.Navi=c},function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(s=(a<3?i(s):a>3?i(e,o,s):i(e,o))||s);return a>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ImgBtn=e.AudioBtn=e.ToggleBtn=void 0;const i=o(0),a=o(1),s=o(3);class r extends i.Component{constructor(t){super(t),this.m_pID=-1,this._inited=this._inited.bind(this),this._onClick=this._onClick.bind(this)}_inited(t){!this.m_el&&t&&(this.m_el=t,this.props.onRef&&this.props.onRef(t),t.setAttribute("touch-action","none"),t.addEventListener("pointerdown",e=>{if(!(this.m_pID>=0)){if(this.m_pID=e.pointerId,!this.props.disableCapture)try{t.setPointerCapture(this.m_pID)}catch(t){}this.props.onMouseDown&&this.props.onMouseDown(e)}}),t.addEventListener("pointerup",e=>{if(this.m_pID===e.pointerId){try{t.releasePointerCapture(this.m_pID)}catch(t){}this.m_pID=-1,this.props.onMouseUp&&this.props.onMouseUp(e)}}),t.addEventListener("pointerleave",e=>{if(this.props.disableCapture){if(this.m_pID!==e.pointerId)return;try{t.releasePointerCapture(this.m_pID)}catch(t){}this.m_pID=-1}this.props.onMouseLeave&&this.props.onMouseLeave(e)}),t.addEventListener("pointercancel",e=>{if(this.m_pID===e.pointerId){try{t.releasePointerCapture(this.m_pID)}catch(t){}this.m_pID=-1,this.props.onMouseLeave&&this.props.onMouseLeave(e)}}))}_onClick(t){this.props.onClick&&this.props.onClick(t),this.props.preventEvent&&(t.preventDefault(),t.stopPropagation())}componentDidUpdate(t){if((this.props.disabled&&!t.disabled||!this.props.view&&t.view)&&this.m_pID>=0){try{this.m_el&&this.m_el.releasePointerCapture(this.m_pID)}catch(t){}this.m_pID=-1}}}n([a.observable],r.prototype,"m_pID",void 0);let c=class extends r{constructor(t){super(t),this.m_on=!1,this.m_on=!0===t.on}componentWillReceiveProps(t){this.props.on!==t.on&&(this.m_on=!0===t.on)}render(){const t=[];this.props.className&&t.push(this.props.className),this.m_on&&t.push("on"),this.m_pID>0&&t.push("down");const e=t.join(" ");let o=this.props.style;return!1===this.props.view&&(o||(o={}),o.display="none"),i.createElement("button",{id:this.props.id,className:e,onClick:this._onClick,ref:this._inited,disabled:!0===this.props.disabled,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:o},this.props.children)}};n([a.observable],c.prototype,"m_on",void 0),c=n([s.observer],c),e.ToggleBtn=c;let d=class extends c{constructor(t){super(t)}play(){this.m_on||(this.m_on=!0,this.props.playFnc(this.props.src,t=>{this.m_on&&(this.m_on=!1,this.props.onPause&&this.props.onPause(t))}))}_onClick(t){this.m_on?(this.props.pauseFnc(),this.m_on=!1):this.play(),super._onClick(t)}};n([a.action],d.prototype,"play",null),n([a.action],d.prototype,"_onClick",null),d=n([s.observer],d),e.AudioBtn=d;let l=class extends r{constructor(t){super(t),this.m_on=!1,this.m_on=!0===t.on}componentWillReceiveProps(t){this.props.on!==t.on&&(this.m_on=!0===t.on)}render(){const t=[];this.props.className&&t.push(this.props.className),this.m_on&&t.push("on"),this.m_pID>0&&t.push("down"),!0===this.props.disabled&&t.push("disable");const e=t.join(" ");let o=this.props.style;return!1===this.props.view&&(o||(o={}),o.display="none"),i.createElement("img",{id:this.props.id,className:e,onClick:this._onClick,ref:this._inited,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:o,src:this.props.src,useMap:this.props.useMap})}};n([a.observable],l.prototype,"m_on",void 0),l=n([s.observer],l),e.ImgBtn=l},function(t,e,o){"use strict";o.r(e)},function(t,e,o){"use strict";o.r(e)},function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(s=(a<3?i(s):a>3?i(e,o,s):i(e,o))||s);return a>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.SENDPROG=e.useTeacher=e.tContext=e.TeacherConsumer=e.TeacherProvider=e.TeacherContext=void 0;const i=o(0),a=o(1),s=o(2),r=o(23);var c;!function(t){t[t.READY=0]="READY",t[t.SENDING=1]="SENDING",t[t.SENDED=2]="SENDED",t[t.COMPLETE=3]="COMPLETE"}(c||(c={})),e.SENDPROG=c;class d extends r.TeacherContextBase{constructor(){super(),this.state.prog="learningobject",this.actions.getData=()=>this._data,this.actions.getCurriculum=()=>this._curriculum,this.actions.gotoDirection=()=>this._setViewDiv("direction"),this.actions.gotoNextBook=()=>{s.sendLauncher(9,null)}}_setViewDiv(t){super._setViewDiv(t)}receive(t){super.receive(t)}setData(t){this._data=t}notifyNaviInfo(t,e,o,n,i,a){this._curriculum=t,this.state.bookid=e,this.state.classid=o}}n([a.observable],d.prototype,"state",void 0),n([a.action],d.prototype,"_setViewDiv",null),e.TeacherContext=d;const l=new d;e.tContext=l;const{Provider:u,Consumer:p}=i.createContext(l);e.TeacherConsumer=p;class _ extends i.Component{render(){return i.createElement(u,{value:l},this.props.children)}}e.TeacherProvider=_,e.useTeacher=function(t){return function(e){return i.createElement(p,null,e=>i.createElement(t,Object.assign({},e)))}}},function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(s=(a<3?i(s):a>3?i(e,o,s):i(e,o))||s);return a>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.TeacherContextBase=void 0;const i=o(1),a=o(4),s=o(2),r=o(24);class c{constructor(){this._naviLeftFnc=null,this._naviRightFnc=null,this.state={viewDiv:"direction",directionON:!1,navi:{view:!1,enableLeft:!1,enableRight:!1},svg_bg:{view:!0,bPlay:!1,viewCharactor:!0},loading:!1,retCnt:0,numOfStudent:0,bookid:0,bookkey:0,curriculumid:0,classid:0,unitid:0,lessonid:0,conceptLibiary:{view:!1,datatype:"grade",resultmode:!1}},this.actions={onDirectionEndStart:()=>{"direction"===this.state.viewDiv&&s.sendPAD(3,null)},onDirectionEnded:()=>{"direction"===this.state.viewDiv&&this._setViewDiv("content"),a.App.isStarted=!0},setNaviView:t=>{this.state.navi.view=t},setNavi:(t,e)=>{this.state.navi.enableLeft=t,this.state.navi.enableRight=e},setNaviFnc:(t,e)=>{this._naviLeftFnc=t,this._naviRightFnc=e},naviLeft:()=>{"direction"===this.state.viewDiv?s.sendLauncher(8,null):(a.App.pub_playBtnPage(),this._naviLeftFnc?this._naviLeftFnc():this._setViewDiv("direction"))},naviRight:()=>{"direction"===this.state.viewDiv?(a.App.pub_playBtnPage(),this.state.directionON=!1):(a.App.pub_playBtnPage(),this._naviRightFnc?this._naviRightFnc():s.sendLauncher(9,null))},setRetCnt:t=>{t>this.state.numOfStudent&&(t=this.state.numOfStudent),this.state.retCnt=t},setNumOfStudent:t=>{this.state.numOfStudent=t},setConcepLibaryView:t=>{this.state.conceptLibiary.view=t},setConcepLibaryDataType:t=>{this.state.conceptLibiary.datatype=t},setConcepLibaryResultMode:t=>{this.state.conceptLibiary.resultmode=t},setLoading:t=>{s.showTLoading(t)}},this.notifyBookCaptureInfo=t=>{},this.clickSendButton=()=>{},this.notifyRecordData=(t,e)=>{}}_setViewDiv(t,e){this.state.viewDiv!==t&&(e||a.App.pub_stop(),"direction"===t?(this.state.directionON=!0,this.state.svg_bg.bPlay=!0,this.state.svg_bg.viewCharactor=!0,s.sendLauncher(5,null),s.sendPAD(1,null),this.state.navi.view=!0,this.state.navi.enableLeft=a.App.prevBook,this.state.navi.enableRight=!0,this._naviLeftFnc=null,this._naviRightFnc=null,this.state.conceptLibiary.view=!1,this.state.conceptLibiary.datatype="grade",this.state.conceptLibiary.resultmode=!1):(this.state.directionON=!1,this.state.svg_bg.bPlay=!1,this.state.svg_bg.viewCharactor=!1,s.sendLauncher(6,null),s.sendPAD(0,null)),this._naviLeftFnc=null,this._naviRightFnc=null,this.state.numOfStudent=0,this.state.retCnt=0,this.state.viewDiv=t)}start(){if("direction"===this.state.viewDiv&&(this.state.directionON=!0,this.state.navi.view=!0,this.state.navi.enableLeft=a.App.prevBook,this.state.navi.enableRight=!0,this.state.svg_bg.bPlay=!0,s.sendLauncher(5,null),s.sendPAD(1,null)),a.App.isDvlp){0;let t="";if(t="M0408",""===t)return;let e={id:1e3,code:"",depth:4,depth_name:r.parseDept4Div(t),info:"",div:t,subDiv:"",name:"M0408"===t?"Identify the Number 0, Read and Write 0":"",thumbnail:"",cmsLevel:"",childrenList:[]},o="",n="",i="";if("Concept"===r.parseDept4Div(t))for(let t=0;t<3;t++){0===t?(o="M0503",n="M050303",i=r.parseDept5SubDiv("M050303")):1===t?(o="M0503",n="M050304",i=r.parseDept5SubDiv("M050304")):2===t&&(o="M0506",n="M050601",i=r.parseDept5SubDiv("M050601"));let a={id:16815+t,code:"",depth:5,depth_name:i,info:"",div:o,subDiv:n,name:i,thumbnail:"",cmsLevel:"",childrenList:[],book:{id:9e4+t,path:"/content/"+(5787+t),viewMode:2,key:5280+t,cmsKey:5787+t,completed:0,updatetime:""}};e.childrenList.push(a)}else if("Problem"===r.parseDept4Div(t))for(let t=0;t<3;t++){0===t?(o="M0505",n="M050504",i="Reasoning (1)"):1===t?(o="M0505",n="M050504",i=r.parseDept5SubDiv("M050504")):2===t&&(o="M0506",n="M050602",i=r.parseDept5SubDiv("M050602"));let a={id:16815+t,code:"",depth:5,depth_name:i,info:"",div:o,subDiv:n,name:i,thumbnail:"",cmsLevel:"",childrenList:[],book:{id:8e4+t,path:"/content/"+(5787+t),viewMode:2,key:5280+t,cmsKey:5787+t,completed:0,updatetime:""}};e.childrenList.push(a)}else if("Concept Learning"===r.parseDept4Div(t))for(let t=0;t<12;t++){0===t?(o="M0501",n="M050101",i="WarmUp Quiz"):1===t?(o="M0501",n="M050101",i="I SPY"):2===t?(o="M0501",n="M050101",i="Hit a Mole"):3===t?(o="M0506",n="M050601",i="Memory Game"):4===t?(o="M0506",n="M050601",i="Math Talk"):5===t?(o="M0501",n="M050102",i="Learning Objectives"):6===t?(o="M0502",n="M050202",i="Concept Acivity"):7===t?(o="M0502",n="M050203",i="Concept Tool"):8===t?(o="M0502",n="M050204",i="Concept Summary"):9===t?(o="M0505",n="M050501",i="Independent Practice"):10===t?(o="M0505",n="M050502",i="Extended Practice"):11===t&&(o="M0505",n="M050505",i="CL Strategy");let a={id:16815+t,code:"",depth:5,depth_name:i,info:"",div:o,subDiv:n,name:i,thumbnail:"",cmsLevel:"",childrenList:[],book:{id:1e4+t,path:"/content/"+(5787+t),viewMode:2,key:5280+t,cmsKey:5787+t,completed:0,updatetime:""}};e.childrenList.push(a)}else if("Topic Learning"===r.parseDept4Div(t))for(let t=0;t<1;t++){0===t&&(o="M0507",n="M050701",i=r.parseDept5SubDiv("M050701"));let a={id:16815+t,code:"",depth:5,depth_name:i,info:"",div:o,subDiv:n,name:i,thumbnail:"",cmsLevel:"",childrenList:[],book:{id:2e4+t,path:"/content/"+(5787+t),viewMode:2,key:5280+t,cmsKey:5787+t,completed:0,updatetime:""}};e.childrenList.push(a)}else if("Module Learning"===r.parseDept4Div(t))for(let t=0;t<3;t++){0===t?(o="M0508",n="M050801",i=r.parseDept5SubDiv("M050801")):1===t?(o="M0508",n="M050803",i=r.parseDept5SubDiv("M050803")):2===t&&(o="M0508",n="M050804",i=r.parseDept5SubDiv("M050804"));let a={id:16815+t,code:"",depth:5,depth_name:i,info:"",div:o,subDiv:n,name:i,thumbnail:"",cmsLevel:"",childrenList:[],book:{id:3e4+t,path:"/content/"+(5787+t),viewMode:2,key:5280+t,cmsKey:5787+t,completed:0,updatetime:""}};e.childrenList.push(a)}else if("Module Test"===r.parseDept4Div(t))for(let t=0;t<1;t++){0===t&&(o="M0509",n="M050905",i=r.parseDept5SubDiv("M050905"));let a={id:16815+t,code:"",depth:5,depth_name:i,info:"",div:o,subDiv:n,name:i,thumbnail:"",cmsLevel:"",childrenList:[],book:{id:4e4+t,path:"/content/"+(5787+t),viewMode:2,key:5280+t,cmsKey:5787+t,completed:0,updatetime:""}};e.childrenList.push(a)}let a=1e4;a=10005,this.notifyNaviInfo(e,a,1)}else{let t="";0,s.getNaviInfo(t)}}receive(t){}uploaded(t){}multiUploaded(t){}notify(t){}notifyRecorded(t){}notifyVideoRecord(t){}notifyNaviInfo(t,e,o,n,i,a){}notifyPenToolState(t,e){}notifyLiveGivePopupClose(){}notifyAlert(t){}notifyHamburgerMenuClicked(t){}callThreeminState(){}}n([i.observable],c.prototype,"state",void 0),n([i.action],c.prototype,"_setViewDiv",null),n([i.action],c.prototype,"start",null),e.TeacherContextBase=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseClassColor=e.parseDept5SubDiv=e.parseDept5Div=e.parseDept4Div=e.parseDept3Div=void 0,e.parseDept3Div=function(t){return"M0301"===t?"Number&Operations":"M0302"===t?"Measurement&Date":"M0303"===t?"Operations&Algebra":"M0304"===t?"Geometry":"M0305"===t?"Topic":"M0306"===t?"Module Review":""},e.parseDept4Div=function(t){return"M0401"===t?"Concept":"M0402"===t?"Problem":"M0403"===t?"Strategy":"M0404"===t?"Number&Operations":"M0405"===t?"Measurement&Date":"M0406"===t?"Operations&Algebra":"M0407"===t?"Geometry":"M0408"===t?"Concept Learning":"M0409"===t?"Topic Learning":"M0410"===t?"Module Learning":"M0411"===t?"Module Test":""},e.parseDept5Div=function(t){return"M0501"===t?"Warm-Up":"M0502"===t?"Concept Learning":"M0503"===t?"Concept Learning 2":"M0504"===t?"Concept Learning 3":"M0505"===t?"Problem Solving":"M0506"===t?"Wrap-Up":"M0507"===t?"Topic Learning":"M0508"===t?"Module Learning":"M0509"===t?"Module Test":""},e.parseDept5SubDiv=function(t){return"M050101"===t?"Warm-Up Activity":"M050102"===t?"Learning Objectives":"M050103"===t?"Concept Summary":"M050201"===t?"Concept Learning":"M050202"===t?"Concept Activity":"M050203"===t?"Concept Tool":"M050204"===t?"Concept Summary":"M050301"===t?"Activity":"M050302"===t?"Concept Tool":"M050303"===t?"Summary":"M050304"===t?"Check":"M050401"===t?"Activity":"M050402"===t?"Concept Tool":"M050403"===t?"Summary":"M050404"===t?"Check":"M050501"===t?"Independent Practice":"M050502"===t?"Extended Practice":"M050503"===t?"Strategy":"M050504"===t?"Reasoning (2)":"M050505"===t?"Strategy":"M050601"===t?"Wrap-Up Activity":"M050602"===t?"Portfolio":"M050701"===t?"Topic Strategy":"M050702"===t?"Adaptive Learning":"M050801"===t?"Module Review":"M050802"===t?"Adaptive Learning":"M050803"===t?"Module Portfolio":"M050804"===t?"Module Strategy":"M050901"===t?"Assessment":"M050902"===t?"Module Portfolio":"M050903"===t?"Assessment Review":"M050904"===t?"STEAM Activity":"M050905"===t?"STEAM Portfolio":""},e.parseClassColor=function(t){return"B62001"===t?"Black":"White"}},function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(s=(a<3?i(s):a>3?i(e,o,s):i(e,o))||s);return a>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(e,"__esModule",{value:!0});const i=o(0),a=o(3),s=o(1),r=o(4),c=o(2);let d=class extends i.Component{constructor(t){super(t),this._totalpage=-1,this._curpage=-1,this._onPage=t=>{this.sendPostMessage("movepage",{page:t})},this.handlePostMessage=t=>{let e=t.data;"macontent"===e.from&&("totalpage"===e.type&&e.msg.page&&(this._totalpage=Number(e.msg.page),this._curpage=1,this._setNavi()),e.type,"changepage"===e.type&&e.msg.page&&(this._curpage=Number(e.msg.page)))}}_setNavi(){this.props.actions.setNaviView(!0),this.props.actions.setNavi(!0,!0),this.props.actions.setNaviFnc(()=>{c.clearTPenTool(),1===this._curpage?this.props.actions.gotoDirection():(r.App.pub_playBtnPage(),this._curpage=this._curpage-1,this.sendPostMessage("movepage",{page:this._curpage}))},()=>{c.clearTPenTool(),this._curpage>=this._totalpage?this.props.actions.gotoNextBook():(r.App.pub_playBtnPage(),this._curpage=this._curpage+1,this.sendPostMessage("movepage",{page:this._curpage}))})}componentDidMount(){window.addEventListener("message",this.handlePostMessage,!1)}componentWillUnmount(){window.removeEventListener("message",this.handlePostMessage,!1)}sendPostMessage(t,e){const o={from:"matemplate",to:"macontent",type:t,msg:e};try{if(this.ifr){const t=this.ifr;t&&t.contentWindow&&t.contentWindow.postMessage(o,"*")}}catch(t){console.log("contentWindow err",t)}}componentDidUpdate(t){this.props.view&&!t.view||!this.props.view&&t.view,this.props.view&&this._setNavi()}render(){const{view:t,state:e,actions:o}=this.props,n=o.getData();let a=[];for(let t=0;t<this._totalpage;t++)a.push(i.createElement("span",{key:"p"+t,className:this._curpage-1===t?"on":"",onClick:this._onPage.bind(this,t+1)}));return i.createElement("div",{className:"t_learningobjects"},i.createElement("div",{className:"learningContent"},i.createElement("div",{className:"pagination",style:{display:this._totalpage>1?"":"none"}},a),i.createElement("div",{id:"contentWrap",className:"contentWrap"},i.createElement("iframe",{src:r.App.data_url+n.url+"?idx=0",ref:t=>{t&&(this.ifr=t)}}))))}};n([s.observable],d.prototype,"_totalpage",void 0),n([s.observable],d.prototype,"_curpage",void 0),d=n([a.observer],d),e.default=d},function(t,e,o){"use strict";o.r(e)}]);